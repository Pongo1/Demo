{"version":3,"sources":["logo.svg","assets/images/other/loader.gif","redux/actions/userActions.js","redux/actions/types/index.js","Components/Shared/SignOutLink.js","api/urls.js","api/functions.js","Components/Menu/NavBarBurger.js","Components/Menu/NavBarOffset.js","Components/Menu/FooterInfo.js","Components/Menu/FooterLinks.js","Components/Menu/SubscribeForm.js","Components/Menu/Footer.js","Components/Shared/LoadingCircle.js","Components/Shared/WelcomeImages.js","Components/Shared/CircleGraph.js","Components/Pages/HomePage/Graphs.js","Components/Pages/HomePage/IconBox.js","Components/Pages/HomePage/IconBoxTable.js","Components/Constants.js","Components/Pages/HomePage/Events.js","Components/Pages/HomePage/HomePage.js","redux/actions/pageActions.js","Components/Shared/BreadCrumbBar.js","Components/Menu/Accordian.js","Components/Menu/SideBar.js","Components/Shared/Tooltip.js","Components/Pages/ActionsPage/ChooseHHForm.js","Components/Pages/ActionsPage/StoryForm.js","Components/Pages/ActionsPage/Action.js","Components/Shared/Cart.js","Components/Pages/ActionsPage/ActionsPage.js","Components/Pages/ActionsPage/OneActionPage.js","Components/Pages/AboutUsPage/Video.js","Components/Pages/AboutUsPage/DonateBar.js","Components/Pages/AboutUsPage/TeamMembers.js","Components/Pages/AboutUsPage/AboutUsPage.js","Components/Pages/ServicesPage/ServicesPage.js","Components/Pages/ServicesPage/OneServicePage.js","Components/Pages/StoriesPage/StoriesPage.js","config/firebaseConfig.js","Components/Pages/LoginPage/LoginForm.js","Components/Pages/LoginPage/LoginPage.js","Components/Pages/EventsPage/RSVPForm.js","Components/Pages/EventsPage/EventsPage.js","Components/Pages/EventsPage/OneEventPage.js","Components/Shared/SignOutButton.js","Components/Pages/ProfilePage/Counter.js","Components/Pages/ProfilePage/AddingHouseholdForm.js","Components/Pages/ProfilePage/EditingProfileForm.js","Components/Pages/ProfilePage/EventCart.js","Components/Pages/ProfilePage/JoiningCommunityForm.js","Components/Shared/PrintCart.js","Components/Pages/ProfilePage/DeleteAccountForm.js","Components/Pages/ProfilePage/ChangePasswordForm.js","Components/Pages/ProfilePage/ChangeEmailForm.js","Components/Pages/ProfilePage/ProfilePage.js","Components/Shared/BarGraph.js","Components/Shared/PageTitle.js","Components/Pages/ImpactPage/ImpactPage.js","Components/Shared/DescModal.js","Components/Pages/TeamsPage/TeamsPage.js","Components/Pages/RegisterPage/RegisterForm.js","Components/Pages/RegisterPage/RegisterPage.js","Components/Pages/PoliciesPage/PoliciesPage.js","Components/Pages/DonatePage/DonatePage.js","Components/Pages/CommunitySelectPage.js","AppRouter.js","redux/actions/linkActions.js","App.js","ScrollToTop.js","serviceWorker.js","redux/history.js","redux/reducers/userReducer.js","redux/reducers/pageReducer.js","redux/reducers/linkReducer.js","redux/reducers/index.js","redux/store.js","index.js","logo.png"],"names":["module","exports","__webpack_require__","p","reduxLogin","user","dispatch","type","payload","reduxLogout","reduxLoadTodo","todo","reduxAddToTodo","item","reduxRemoveFromTodo","reduxLoadDone","done","reduxAddToDone","reduxRemoveFromDone","reduxMoveToDone","reduxLoadUserCommunities","communities","SignOutLink","onClick","_this","props","firebase","auth","signOut","react_default","a","createElement","this","children","React","Component","connect","withFirebase","URLS","ROOT","V2","getJson","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","url","data","myJson","wrap","_context","prev","next","fetch","method","credentials","sent","json","abrupt","t0","console","log","stop","_x","apply","arguments","postJson","_ref2","_callee2","body","csrfResponse","csrfToken","response","_context2","concat","headers","Accept","Content-Type","X-CSRFToken","JSON","stringify","_x2","_x3","deleteJson","_ref3","_callee3","_context3","_x4","section","sectionOnly","sections","filter","x","name","NavBarBurger","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleResize","setState","menuBurgered","window","outerWidth","forceUpdate","state","innerWidth","menuOpen","handleLinkClick","bind","assertThisInitialized","addEventListener","removeEventListener","_this2","communitylogo","header","pageData","community","image","links","styles","container","position","width","height","zIndex","display","background","color","fontFamily","flexDirection","alignItems","transition","menuItems","navLinks","map","val","index","NavBarBurger_SubMenuItem","key","navlink","clickHandler","NavBarBurger_MenuItem","delay","href","home","link","className","sticky","style","location","cursor","padding","marginLeft","react_router_dom","to","verticalAlign","fontSize","textTransform","fontWeight","src","logo","alt","Fragment","title","NavBarBurger_MenuButton","open","handleMenuClick","renderLogin","NavBarBurger_Menu","paddingTop","id","renderNavLinks","_this3","borderTop","borderRadius","keys","navLink","Dropdown_default","onSelect","Toggle","as","CustomNavLink","Menu","renderDropdownItems","child","document","dispatchEvent","MouseEvent","_this4","_this$props","uid","info","ProfileBtnDropdown","userName","preferred_name","profile","Shared_SignOutLink","signin","store","page","homePage","context","_this5","handleClick","e","preventDefault","margin","_this6","SubMenuItem","_this7","items","_this8","submenu","renderSubmenuItems","MenuItem","_this9","hover","_this10","animation","animationDelay","menuItem","line","onMouseEnter","handleHover","onMouseLeave","_this11","nextProps","menuList","MenuButton","_this12","_this13","justifyContent","marginTop","marginBottom","lineTop","transform","transformOrigin","lineMiddle","opacity","lineBottom","objectSpread","NavBarOffset","FooterInfo","email","phone","contactPerson","FooterLinks","reduxLinks","half_length","Math","ceil","length","leftSide","slice","rightSide","renderLinks","INITIAL_STATE","message","SubscribeForm","onSubmit","onChange","placeholder","value","required","event","_this$setState","defineProperty","target","SUBSCRIBERS","then","success","known","errors","forEach","error","includes","Footer","Menu_FooterInfo","footerInfo","Menu_FooterLinks","footerLinks","Menu_SubscribeForm","donate","LoadingCircle","require","WelcomeImages","bannerstyle","picture1","picture2","picture3","backgroundImage","backgroundSize","backgroundPosition","CircleGraph","options","chart","series","colors","plotOptions","radialBar","size","track","show","dataLabels","offsetY","formatter","num","stroke","lineCap","labels","label","goal","react_apexcharts_min_default","Graphs","graphs","graph","data-wow-duration","Shared_CircleGraph","denominator","dumbycol","renderGraphs","impact","IconBox","icon","description","IconBoxTable","boxes","box","HomePage_IconBox","class","renderBoxes","CONST","Events","sameDay","d1","d2","getFullYear","getMonth","getDate","events","start","end","showMessage","upcomingEvents","now","Date","date","start_date_and_time","endDate","end_date_and_time","push","eventsDisplayed","eventStyle","LIMIT","substring","toLocaleTimeString","toString","street","city","zip","renderEvents","HomePage","welcomeImagesData","slider","slides","iconQuickLinks","cards","graphsData","Shared_WelcomeImages","align","HomePage_Graphs","HomePage_IconBoxTable","HomePage_Events","communityData","reduxLoadCommunitiesStats","reduxLoadCommunities","reduxTeamAddAction","team","reduxTeamRemoveAction","reduxChangeData","BreadCrumbBar","Accordian","content","SideBar","renderTagCollections","tagCols","tagCol","tag","renderTagCollection","tags","Menu_Accordian","Tooltip","popover","Popover_default","text","OverlayTrigger_default","trigger","placement","dir","overlay","ChooseHHForm","handleSubmit","choice","status","inCart","aid","addToCart","closeForm","moveToDone","checkHouseholds","housesAvailable","i","households","household","prevProps","renderRadios","disabled","checked","Number","htmlFor","vid","vendor","limit","StoryForm","count","words","captchaConfirmed","actions","border","noMessage","renderOptions","vendors","autoFocus","float","choices","action","rank","TESTIMONIALS","serviceProviders","Action","openForm","openHHForm","closeHHForm","showTestimonialForm","HHFormOpen","shouldRender","gotoAction","aria-hidden","renderTagBar","getTag","Tooltip_Tooltip","showTestimonialLink","ActionsPage_StoryForm","ActionsPage_ChooseHHForm","hid","cart","searchFits","tagSet","Set","add","filterFits","string","searchbar","getElementById","toLowerCase","filtertags","noFilter","checkbox","has","collection","tag_collection","Cart","actionRel","real_estate_unit","USER","addToImpact","catch","err","removeFromCart","removeFromImpact","changeDataByName","changeData","teams","tagid","number","DATA","renderActionsMoreInfo","actionRels","renderActions","actionRelations","colSpan","textAlign","key_contact","mapDispatchToProps","ActionsPage","checkTodo","checkDone","testimonialLink","loaded","openAddForm","handleChange","Shared_BreadCrumbBar","Menu_SideBar","Shared_Cart","ActionsPage_Action","match","moveToDoneByActionId","actionsPage","OneActionPage","chooseFontSize","renderStories","stories","story","created_at","numberToShow","full_name","toLocaleDateString","expanded","services","tab","Shared_LoadingCircle","params","paddingRight","marginRight","renderAction","data-imagezoom","data-toggle","about","steps_to_take","addStory","tagColName","testimonials","Video","controls","DonateBar","backgroundColor","donateMessage","AboutUsPage","communityAdmins","COMMUNITY_ADMIN_GROUP","reduxLoadCommunityAdmins","members","video","videoLink","paragraphContent","AboutUsPage_Video","dangerouslySetInnerHTML","__html","AboutUsPage_DonateBar","aboutUsPage","admins","ServicesPage","renderVendors","address","user_info","website","rel","OneServicePage","renderVendor","service","StoriesPage","cn","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","password","LoginFormBase","forgotPassword","sendPasswordResetEmail","alert","signInWithGoogle","setPersistence","persistence","signInWithPopup","fetchAndLogin","signInWithFacebook","tryingToLogin","Auth","Persistence","SESSION","isInvalid","_this$state","signup","_this$state2","signInWithEmailAndPassword","LoginForm","compose","LoginPage","react_router","isLoaded","isEmpty","LoginPage_LoginForm","oldvalue","RSVPForm","addRSVP","removeRSVP","changeRSVP","attendee","userid","eventid","EVENT_ATTENDEES","reduxAddRSVP","EVENT_ATTENDEE","rsvp","reduxChangeRSVP","reduxRemoveRSVP","unit_type","unittype","postURL","householdID","HOUSEHOLD","editHousehold","addHousehold","householdIds","real_estate_units","noText","RSVP","EventsPage","renderCategoryFilter","events_search_toggled","defaultChecked","resetDates","toggleFilter","startDate","userData","selectStartDate","selectEndDate","renderSideBar","months","sort","eventA","eventB","dateA","dateAEnd","dateB","dateBEnd","BIG_LIMIT","EventsPage_RSVPForm","userRSVP","toLocaleString","event_id","eventRSVPs","RSVPs","someDate","someOtherDate","newdate","showButtonFits","dateFits","tagsCols","showAll","showUpcoming","setHours","rsvps","col","OneEventPage","renderEvent","moreinfo","details","renderDetails","SignOutButton","Counter","speed","build_default","duration","AddingHouseholdForm","locationparts","split","EditingProfileForm","delete_account","are_you_sure","deleteAccount","change_password","EventCart","renderEventsMoreInfo","startdate","enddate","JoiningCommunityForm","com","ComponentToPrint","paddingBottom","ProfilePage_EventCart","PrintCart","PrintCart_ComponentToPrint","ref","el","componentRef","lib_default","DeleteAccountFormBase","getProvider","provider","currentUser","delete","cred","EmailAuthProvider","credential","reauthenticateWithCredential","providerData","providerId","indexOf","DeleteAccountForm","ChangePasswordFormBase","password1","password2","old_password","updatePassword","ChangePasswordForm","ChangeEmailFormBase","updateEmail","sendEmailVerification","ChangeEmailForm","ProfilePage","renderForm","form","Item","editingProfileForm","ProfilePage_EditingProfileForm","undefined","ProfilePage_DeleteAccountForm","ProfilePage_ChangePasswordForm","ProfilePage_ChangeEmailForm","reduxAddHousehold","reduxTeamAddHouse","addHouseToImpact","reduxEditHousehold","deleteHousehold","numDone","reduxRemoveHousehold","removeHouseFromImpact","deletingHHError","leaveCommunity","newCommunityIds","reduxLeaveCommunity","leaveComError","leaveTeam","TEAM","reduxLeaveTeam","reduxRemoveTeamMember","member","actions_completed","actions_todo","clearError","addDefaultCommunity","addDefaultHousehold","addedHouse","selectedHousehold","editingHH","joiningCom","addingHH","printing","Shared_PrintCart","ProfilePage_Counter","unit","renderHouseholds","ProfilePage_AddingHouseholdForm","renderTeams","renderCommunities","ProfilePage_JoiningCommunityForm","subdomain","house","reduxTeamRemoveHouse","houseRel","teamAndMember","BarGraph","stacked","toolbar","zoom","enabled","xaxis","categories","responsive","breakpoint","legend","offsetX","bar","horizontal","PageTitle","ImpactPage","communitiesStats","COMMUNITIES_STATS","stats","b","communityImpact","comm","households_engaged","graph2Categories","graph2Series","d","stata","householdsEngaged","actionsCompleted","PageTitle_PageTitle","top","left","Shared_BarGraph","DescModal","_this$props$content","desc","toggler","TeamsPage","renderModal","modal_toggled","Shared_DescModal","modal_content","toggleModal","inTeam","team_id","joinTeam","reduxJoinTeam","reduxAddTeamMember","teamsPage","Table_default","bordered","renderTeamsData","teamsData","teamsSorted","avrg","isNaN","toFixed","avrgActionsPerHousehold","obj","substr","passwordOne","passwordTwo","firstName","lastName","preferredName","serviceProvider","termsAndServices","showTOSError","showTOS","RegisterFormBase","renderPage","renderPage1","renderPage2","renderPage3","borderBottom","onFinalSubmit","emailVerified","showPP","esm","sitekey","onReCaptchaChange","sendVerificationEmail","deleteFirebaseAccount","process","EMAIL_REDIRECT_URL","VERIFY","captchaString","policies","TOS","PP","Modal_default","onHide","centered","Header","closeButton","Title","Body","maxHeight","overflowY","Button_default","variant","_this$state3","_this$state4","createUserWithEmailAndPassword","authUser","_this$state5","is_vendor","accepts_terms_and_conditions","USERS","RegisterForm","RegisterPage","pathname","RegisterPage_RegisterForm","PoliciesPage","Accordion_default","defaultActiveKey","renderPolicies","query","queryString","parse","search","policy","Card_default","Card","eventKey","Collapse","DonatePage","donatePage","pageSections","button","business","CommunitySelectPage","maxWidth","AppRouter","triedLogin","reduxLoadLinks","aboutus","Promise","all","COMMUNITY","TEAMS_STATS","MENUS","POLICIES","COMMUNITIES","TAG_COLLECTIONS","myJsons","reduxLoadHomePage","reduxLoadTeamsPage","reduxLoadAboutUsPage","reduxLoadDonatePage","reduxLoadEvents","reduxLoadActions","reduxLoadServiceProviders","reduxLoadTestimonials","reduxLoadMenu","reduxLoadPolicies","reduxLoadRSVPs","reduxLoadCommunity","reduxLoadTagCols","reduxLoadCommunityData","overflowX","getUser","Helmet_default","charset","menu","Menu_NavBarBurger","Menu_NavBarOffset","component","exact","path","Menu_Footer","reduxLoadActionsPage","reduxLoadServiceProvidersPage","reduxLoadTestimonialsPage","reduxLoadEventsPage","App","showError","ScrollToTop","scrollTo","withRouter","Boolean","hostname","history","createBrowserHistory","initialState","serviceProvidersPage","testimonialsPage","eventsPage","combineReducers","toConsumableArray","element","testimonial","newTeam","router","connectRouter","firebaseReducer","middleware","thunk","createStore","rootReducer","applyMiddleware","rrfProps","config","userProfile","firebaseStateName","ReactDOM","render","es","react_redux_firebase_es","immutable","src_ScrollToTop","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"mGAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,4FCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uRC0B3BC,EAAa,SAACC,GAAD,OAAU,SAAAC,GAChC,OAAOA,EAAS,CACdC,KCvBe,QDwBfC,QAASH,MAKFI,EAAc,kBAAM,SAAAH,GAC/B,OAAOA,EAAS,CACdC,KC9BkB,aDmCTG,EAAgB,SAACC,GAAD,OAAU,SAAAL,GACrC,OAAOA,EAAS,CACdC,KCnCqB,YDoCrBC,QAASG,MAKAC,EAAiB,SAACC,GAAD,OAAU,SAAAP,GACtC,OAAOA,EAAS,CACdC,KC1CuB,cD2CvBC,QAASK,MAKAC,EAAsB,SAACD,GAAD,OAAU,SAAAP,GAC3C,OAAOA,EAAS,CACdC,KCjD4B,mBDkD5BC,QAASK,MAKAE,EAAgB,SAACC,GAAD,OAAU,SAAAV,GACrC,OAAOA,EAAS,CACdC,KCvDqB,YDwDrBC,QAASQ,MAIAC,EAAiB,SAACJ,GAAD,OAAU,SAAAP,GACtC,OAAOA,EAAS,CACdC,KC7DuB,cD8DvBC,QAASK,MAIAK,EAAsB,SAACL,GAAD,OAAU,SAAAP,GAC3C,OAAOA,EAAS,CACdC,KCnE4B,mBDoE5BC,QAASK,MAIAM,EAAkB,SAACN,GAAD,OAAU,SAAAP,GACvC,OAAOA,EAAS,CACdC,KCxEwB,eDyExBC,QAASK,MAiCAO,EAA2B,SAACC,GAAD,OAAiB,SAAAf,GACvD,OAAOA,EAAS,CACdC,KCrGiC,wBDsGjCC,QAASa,MExHPC,6MAQFC,QAAU,WACNC,EAAKC,MAAMC,SAASC,OAAOC,UAC3BJ,EAAKC,MAAMhB,uFARX,OACIoB,EAAAC,EAAAC,cAAA,QAAMR,QAASS,KAAKT,SACfS,KAAKP,MAAMQ,iBAJFC,IAAMC,WAcjBC,oBAAQ,KAAM,CAAC3B,eAAf2B,CAA6BC,uBAAaf,IClBnDgB,EAAO,CACZC,KAAM,+BAePD,EAAI,GAASA,EAAKC,KAAO,OACzBD,EAAI,UAAgBA,EAAKE,GAAK,aAE9BF,EAAI,QAAcA,EAAKE,GAAK,UAC5BF,EAAI,OAAaA,EAAKE,GAAK,SAC3BF,EAAI,kBAAwBA,EAAKE,GAAK,oBACtCF,EAAI,gBAAsBA,EAAKE,GAAK,kBACpCF,EAAI,mBAAyBA,EAAKE,GAAK,qBACvCF,EAAI,kBAAwBA,EAAKE,GAAK,oBACtCF,EAAI,YAAkBA,EAAKE,GAAK,cAChCF,EAAI,iBAAuBA,EAAKE,GAAK,mBACrCF,EAAI,sBAA4BA,EAAKE,GAAK,yBAC1CF,EAAI,kBAAwBA,EAAKE,GAAK,oBACtCF,EAAI,KAAWA,EAAKE,GAAK,OACzBF,EAAI,iBAAuBA,EAAKE,GAAK,mBACrCF,EAAI,eAAqBA,EAAKE,GAAK,iBACnCF,EAAI,OAAaA,EAAKE,GAAK,SAC3BF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,gBAAsBA,EAAKE,GAAK,kBACpCF,EAAI,eAAqBA,EAAKE,GAAK,iBACnCF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,KAAWA,EAAKE,GAAK,OACzBF,EAAI,OAAaA,EAAKE,GAAK,SAC3BF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,WAAiBA,EAAKE,GAAK,aAC/BF,EAAI,UAAgBA,EAAKE,GAAK,YAC9BF,EAAI,UAAgBA,EAAKE,GAAK,YAC9BF,EAAI,SAAeA,EAAKE,GAAK,WAC7BF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,KAAWA,EAAKE,GAAK,OACzBF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,KAAWA,EAAKE,GAAK,OACzBF,EAAI,cAAoBA,EAAKE,GAAK,gBAClCF,EAAI,aAAmBA,EAAKE,GAAK,eACjCF,EAAI,YAAkBA,EAAKE,GAAK,cAChCF,EAAI,WAAiBA,EAAKE,GAAK,aAC/BF,EAAI,SAAeA,EAAKE,GAAK,WAC7BF,EAAI,OAAaA,EAAKE,GAAK,SAC3BF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,KAAWA,EAAKE,GAAK,OACzBF,EAAI,SAAeA,EAAKE,GAAK,WAC7BF,EAAI,QAAcA,EAAKE,GAAK,UAC5BF,EAAI,QAAcA,EAAKE,GAAK,UAC5BF,EAAI,OAAaA,EAAKE,GAAK,SAC3BF,EAAI,cAAoBA,EAAKE,GAAK,gBAClCF,EAAI,aAAmBA,EAAKE,GAAK,eACjCF,EAAI,WAAiBA,EAAKE,GAAK,aAC/BF,EAAI,UAAgBA,EAAKE,GAAK,YAC9BF,EAAI,QAAcA,EAAKE,GAAK,UAC5BF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,YAAkBA,EAAKE,GAAK,cAChCF,EAAI,WAAiBA,EAAKE,GAAK,aAC/BF,EAAI,uBAA6BA,EAAKE,GAAK,+BAC3CF,EAAI,sBAA4BA,EAAKE,GAAK,8BAC1CF,EAAI,KAAWA,EAAKE,GAAK,OACzBF,EAAI,IAAUA,EAAKE,GAAK,MACxBF,EAAI,gBAAsBA,EAAKE,GAAK,kBACpCF,EAAI,eAAqBA,EAAKE,GAAK,iBACnCF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,KAAWA,EAAKE,GAAK,OACzBF,EAAI,YAAkBA,EAAKE,GAAK,cAChCF,EAAI,aAAmBA,EAAKE,GAAK,eACjCF,EAAI,YAAkBA,EAAKE,GAAK,cAChCF,EAAI,MAAYA,EAAKE,GAAK,QAC1BF,EAAI,KAAWA,EAAKE,GAAK,OACzBF,EAAI,YAAkBA,EAAKE,GAAK,cAChCF,EAAI,WAAiBA,EAAKE,GAAK,aAC/BF,EAAI,QAAcA,EAAKE,GAAK,UAC5BF,EAAI,OAAaA,EAAKE,GAAK,SAC3BF,EAAI,OAAaA,EAAKE,GAAK,SAEZF,QCxFFG,EAAO,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAf,EAAAgB,KAAG,SAAAC,EAAOC,GAAP,IAAAC,EAAAC,EAAA,OAAAL,EAAAf,EAAAqB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEFC,MAAMP,EAAK,CAC7BQ,OAAQ,MACRC,YAAa,YAJO,cAEfR,EAFeG,EAAAM,KAAAN,EAAAE,KAAA,EAMAL,EAAKU,OANL,cAMfT,EANeE,EAAAM,KAAAN,EAAAQ,OAAA,SAOdV,GAPc,eAAAE,EAAAC,KAAA,GAAAD,EAAAS,GAAAT,EAAA,SAUrBU,QAAQC,IAARX,EAAAS,IAVqBT,EAAAQ,OAAA,SAWd,MAXc,yBAAAR,EAAAY,SAAAjB,EAAA,kBAAH,gBAAAkB,GAAA,OAAAvB,EAAAwB,MAAAlC,KAAAmC,YAAA,GAgBPC,EAAQ,eAAAC,EAAA1B,OAAAC,EAAA,EAAAD,CAAAE,EAAAf,EAAAgB,KAAG,SAAAwB,EAAOtB,EAAKuB,GAAZ,IAAAC,EAAAC,EAAAC,EAAAxB,EAAA,OAAAL,EAAAf,EAAAqB,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAAtB,KAAA,EAAAsB,EAAArB,KAAA,EAEKb,EAAO,GAAAmC,OAAItC,EAAKC,KAAT,eAFZ,cAEhBiC,EAFgBG,EAAAjB,KAGhBe,EAAYD,EAAavB,KAAKwB,UAHdE,EAAArB,KAAA,EAICC,MAAMP,EAAK,CACjCQ,OAAQ,OACRqB,QAAS,CACRC,OAAQ,mBACRC,eAAgB,mBAChBC,cAAeP,GAEhBF,KAAMU,KAAKC,UAAUX,KAXA,cAIhBG,EAJgBC,EAAAjB,KAAAiB,EAAArB,KAAA,GAaAoB,EAASf,OAbT,eAahBT,EAbgByB,EAAAjB,KAAAiB,EAAAf,OAAA,SAcfV,GAde,eAAAyB,EAAAtB,KAAA,GAAAsB,EAAAd,GAAAc,EAAA,SAiBtBb,QAAQC,IAARY,EAAAd,IAjBsBc,EAAAf,OAAA,SAkBf,MAlBe,yBAAAe,EAAAX,SAAAM,EAAA,kBAAH,gBAAAa,EAAAC,GAAA,OAAAf,EAAAH,MAAAlC,KAAAmC,YAAA,GAsBRkB,EAAU,eAAAC,EAAA3C,OAAAC,EAAA,EAAAD,CAAAE,EAAAf,EAAAgB,KAAG,SAAAyC,EAAOvC,GAAP,IAAAC,EAAAC,EAAA,OAAAL,EAAAf,EAAAqB,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAnC,KAAA,EAAAmC,EAAAlC,KAAA,EAELC,MAAMP,EAAK,CAC7BQ,OAAQ,SACRC,YAAa,YAJU,cAElBR,EAFkBuC,EAAA9B,KAAA8B,EAAAlC,KAAA,EAMHL,EAAKU,OANF,cAMlBT,EANkBsC,EAAA9B,KAAA8B,EAAA5B,OAAA,SAOjBV,GAPiB,eAAAsC,EAAAnC,KAAA,GAAAmC,EAAA3B,GAAA2B,EAAA,SAUxB1B,QAAQC,IAARyB,EAAA3B,IAVwB2B,EAAA5B,OAAA,SAWjB,MAXiB,yBAAA4B,EAAAxB,SAAAuB,EAAA,kBAAH,gBAAAE,GAAA,OAAAH,EAAApB,MAAAlC,KAAAmC,YAAA,GAqBVuB,EAAU,SAAC/B,EAAM+B,EAASC,GAEtC,OADgBA,EAAehC,EAAOA,EAAKiC,UAC3BC,OAAO,SAAAC,GAAC,OAAIA,EAAEC,OAASL,IAAS,ICpD3CM,cACL,SAAAA,EAAYvE,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAgE,IAClBxE,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAqD,GAAAI,KAAApE,KAAMP,KAaP4E,aAAe,WACd7E,EAAK8E,SAAS,CACbC,aAAcC,OAAOC,WAAa,MAEnCjF,EAAKkF,eAhBLlF,EAAKmF,MAAQ,CACZJ,aAAcC,OAAOI,WAAa,IAClCC,UAAU,GAEXrF,EAAKsF,gBAAkBtF,EAAKsF,gBAAgBC,KAArBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KANLA,mFASlBgF,OAAOS,iBAAiB,SAAUjF,KAAKqE,6DAGvCG,OAAOU,oBAAoB,SAAUlF,KAAKqE,wDAS1CrE,KAAKsE,SAAS,CAAEO,UAAW7E,KAAK2E,MAAME,qDAGtC7E,KAAKsE,SAAS,CAAEO,UAAW7E,KAAK2E,MAAME,4CAE9B,IAAAM,EAAAnF,KACJoF,EAAgB,KAChBC,EAAS,KACOrF,KAAKP,MAAM6F,UAAWtF,KAAKP,MAAM6F,SAASC,UAAUxB,KACpE/D,KAAKP,MAAM6F,WAEdF,GADAC,EAAS3B,EAAQ1D,KAAKP,MAAM6F,SAAU,eACfE,MAAQH,EAAOG,MAAMxE,IAAM,MAN3C,IAQAyE,EAAUzF,KAAKP,MAAfgG,MACFC,EAAS,CACdC,UAAW,CACVC,SAAU,WACVC,MAAO,OACPC,OAAQ,OACRC,OAAQ,KACRC,QAAS,OACTC,WAAY,QACZC,MAAO,OACPC,WAAY,WAEb5D,KAAM,CACLyD,QAAS,OACTI,cAAe,SACfC,WAAY,SACZxC,OAAQ7D,KAAK2E,MAAME,SAAW,YAAc,KAC5CyB,WAAY,qBAGd,IAAKb,EAAO,OAAO,KAGnB,IAAMc,EAAYvG,KAAKP,MAAM+G,SAASC,IAAI,SAACC,EAAKC,GAC/C,OAAID,EAAIzG,SAENJ,EAAAC,EAAAC,cAAC6G,EAAD,CAAaC,IAAKF,EAAOG,QAASJ,EAAKjB,MAAOA,EAAOkB,MAAOA,EAAOI,aAAc5B,EAAKL,kBAIvFjF,EAAAC,EAAAC,cAACiH,EAAD,CACCH,IAAKF,EACLM,MAAK,GAAArE,OAAa,GAAR+D,EAAL,KACLpH,QAAS,WAAQ4F,EAAKL,mBACtBoC,KAAMzB,EAAM0B,KAAOT,EAAIU,MAEtBV,EAAI3C,QAIR,OACClE,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,OAAKsH,UAAS,oCAAAzE,OAAuC5C,KAAKP,MAAM6H,OAAU,0BAA4B,IAAMC,MAAO,CAAEzB,OAAQ,OAAQF,SAAU,QAASC,MAAO,OAAQI,WAAY,UAClLpG,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2BACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2CAEdxH,EAAAC,EAAAC,cAAA,OAAKR,QAAS,WAAQiF,OAAOgD,SAAW,KAAOH,UAAU,GAAGE,MAAO,CAAEE,OAAQ,UAAW7B,SAAU,WAAY8B,QAAS,GAAIC,YAAa,MAGvI9H,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAIpC,EAAM0B,MAEftH,EAAAC,EAAAC,cAAA,OAAKwH,MAAO,CAAEvB,QAAS,aAAc8B,cAAe,SAAU3B,WAAY,UAAW4B,SAAU,OAAQC,cAAe,YAAaC,WAAY,OAAQnC,OAAQ,OAAQI,MAAO,YAC7KrG,EAAAC,EAAAC,cAAA,OAAKmI,IAAK9C,GAAgC+C,IAAMC,IAAI,GAAGb,MAAO,CAAEvB,QAAS,gBAAkBqB,UAAU,gBACpGjC,EAAgB,KAAOvF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,YAAShD,EAASA,EAAOiD,MAAQ,UAO5DtI,KAAK2E,MAAMJ,aACX1E,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gDACdxH,EAAAC,EAAAC,cAAA,OAAKwH,MAAO7B,EAAOC,WAClB9F,EAAAC,EAAAC,cAACwI,EAAD,CAAYC,KAAMxI,KAAK2E,MAAME,SAAUtF,QAAS,kBAAM4F,EAAKsD,mBAAmBvC,MAAM,SACnFlG,KAAK0I,eAEP7I,EAAAC,EAAAC,cAAC4I,EAAD,CAAMH,KAAMxI,KAAK2E,MAAME,UAErB0B,IASH1G,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gDACdxH,EAAAC,EAAAC,cAAA,OAAKwH,MAAO7B,EAAOC,UAAW0B,UAAU,iBACvCxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oCAAoCE,MAAO,CAAEvB,QAAS,eAAe0B,QAAQ,GAAGkB,WAAW,IAAMC,GAAG,aAClHhJ,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,sDACZrH,KAAK8I,eAAe9I,KAAKP,MAAM+G,YAIjCxG,KAAK0I,2DAYAlC,GAAU,IAAAuC,EAAA/I,KACxB,IAAKwG,EACJ,OAAO3G,EAAAC,EAAAC,cAAA,MAAI8G,IAAI,WAAR,2BAER,IAAMU,EAAQ,CACbyB,UAAW,oBACXC,aAAc,IACdvB,QAAS,KAEFjC,EAAUzF,KAAKP,MAAfgG,MACR,OAAO9E,OAAOuI,KAAK1C,GAAUC,IAAI,SAAAI,GAChC,IAAIsC,EAAU3C,EAASK,GACvB,OAAIsC,EAAQlJ,SAEVJ,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,4CAA4CR,IAAKsC,EAAQpF,MACtElE,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAD,CAAUuJ,SAAU,kBAAM,OACzBxJ,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAASwJ,OAAV,CAAiBC,GAAIC,EAAeL,QAASA,EAASN,GAAG,+BACzDhJ,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAS2J,KAAV,CAAelC,MAAOA,GACpBwB,EAAKW,oBAAoBP,EAAQlJ,aAMhCJ,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,4CAA4CR,IAAKsC,EAAQpF,MAAMlE,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMP,UAAU,YAAYQ,GAAE,GAAAjF,OAAK6C,EAAM0B,MAAXvE,OAAkBuG,EAAQ/B,OAAS+B,EAAQpF,qDAG3I9D,GACnB,GAAKD,KAAKP,MAAMgG,MAAhB,CAD6B,IAErBA,EAAUzF,KAAKP,MAAfgG,MACR,OAAOxF,EAASwG,IAAI,SAACkD,EAAO9C,GAC3B,OACChH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMf,IAAKA,EAAKgB,GAAE,GAAAjF,OAAK6C,EAAM0B,MAAXvE,OAAkB+G,EAAMvC,MAAQC,UAAU,qCAAqC9H,QAAS,kBAAMqK,SAASC,cAAc,IAAIC,WAAW,YAAYH,EAAM5F,+CAI7J,IAAAgG,EAAA/J,KACLyF,EAAUzF,KAAKP,MAAfgG,MADKuE,EAKThK,KAAKP,MAFRE,EAHYqK,EAGZrK,KACAtB,EAJY2L,EAIZ3L,KAOD,OAAIsB,EAAKsK,KAAO5L,EAAK6L,KAEnBrK,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAD,CAAUuJ,SAAU,kBAAM,MAAMhC,UAAU,UACzCxH,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAASwJ,OAAV,CAAiBC,GAAIY,EAAoBC,SAAU/L,EAAK6L,KAAKG,eAAgBxB,GAAG,+BAChFhJ,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAS2J,KAAV,CAAelC,MATJ,CACbyB,UAAW,oBACXC,aAAc,IACdvB,QAAS,MAON7H,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAIpC,EAAM6E,QAASjD,UAAU,qDAAqD9H,QAAS,kBAAMqK,SAASC,cAAc,IAAIC,WAAW,YAA7I,cACAjK,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,qDAAqD9H,QAAS,WAAQwK,EAAKtK,MAAMC,SAASC,OAAOC,UAAWmK,EAAKtK,MAAMhB,gBAAkBoB,EAAAC,EAAAC,cAACwK,EAAD,oBAM7J1K,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMP,UAAU,mDAAmDQ,GAAIpC,EAAM+E,QAC5E3K,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAaE,MAAO,CAAEG,QAAS,aAAgB,OAD7D,gBAhMuBxH,IAAMC,WAiNlBC,oBATS,SAACqK,GAExB,MAAO,CACN9K,KAAM8K,EAAM/K,SAASC,KACrBtB,KAAMoM,EAAMpM,KACZiH,SAAUmF,EAAMC,KAAKC,SACrBlF,MAAOgF,EAAMhF,QAGyB,CAAEhH,eAA3B2B,CAA0CC,uBAAa2D,IAGhEmG,cACL,SAAAA,EAAY1K,EAAOmL,GAAS,IAAAC,EAAA,OAAAlK,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAmK,IAC3BU,EAAAlK,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAwJ,GAAA/F,KAAApE,KAAMP,EAAOmL,KACRE,YAAcD,EAAKC,YAAY/F,KAAjBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAkK,KAFQA,2EAIhBE,GACXA,EAAEC,iBAEFhL,KAAKP,MAAMF,QAAQwL,oCAInB,OACClL,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,wCAAwC9H,QAASS,KAAK8K,YAAavD,MAAO,CAAG0D,OAAQ,mBAAoBlD,SAAU,OAAQE,WAAY,MACxJpI,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAgB,OAC5BrH,KAAKP,MAAM2K,SACZvK,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,6CAhBanH,IAAMC,WAuBjCqJ,cACL,SAAAA,EAAY/J,EAAOmL,GAAS,IAAAM,EAAA,OAAAvK,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAwJ,IAC3B0B,EAAAvK,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA6I,GAAApF,KAAApE,KAAMP,EAAOmL,KAERE,YAAcI,EAAKJ,YAAY/F,KAAjBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAuK,KAHQA,2EAMhBH,GACXA,EAAEC,iBAEFhL,KAAKP,MAAMF,QAAQwL,oCAInB,OAEClL,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMP,UAAU,YAAYQ,GAAG,GAAGtI,QAASS,KAAK8K,aAAc9K,KAAKP,MAAM0J,QAAQpF,KAAjF,IAAuFlE,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,yCAhB9EnH,IAAMC,WA4B5BgL,cACL,SAAAA,EAAY1L,GAAO,IAAA2L,EAAA,OAAAzK,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAmL,IAClBC,EAAAzK,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAwK,GAAA/G,KAAApE,KAAMP,KACDkF,MAAQ,CACZ6D,MAAM,GAEP4C,EAAKN,YAAcM,EAAKN,YAAY/F,KAAjBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAyK,KALDA,6EASlBpL,KAAKsE,SAAS,CAAEkE,MAAOxI,KAAK2E,MAAM6D,kDAGhB6C,GAAO,IAAAC,EAAAtL,KACjByF,EAAUzF,KAAKP,MAAfgG,MACR,OAAO4F,EAAM5E,IAAI,SAAC5H,EAAMgI,GACvB,OACChH,EAAAC,EAAAC,cAACiH,EAAD,CAAUH,IAAKA,EACdK,KAAMzB,EAAM0B,KAAOtI,EAAKuI,KACxB7H,QAAS+L,EAAK7L,MAAMsH,cAEnBlI,EAAKkF,yCAOS/D,KAAKP,MAAfgG,MACR,OACC5F,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAACiH,EAAD,CACCH,IAAK7G,KAAKP,MAAMkH,MAChBM,MAAK,GAAArE,OAAwB,GAAnB5C,KAAKP,MAAMkH,MAAhB,KACLpH,QAASS,KAAK8K,YACd5D,KAAK,KAEJlH,KAAKP,MAAMqH,QAAQ/C,MAErBlE,EAAAC,EAAAC,cAAA,OAAKwH,MAAO,CAAEI,WAAY,QACzB9H,EAAAC,EAAAC,cAAC4I,EAAD,CAAMH,KAAMxI,KAAK2E,MAAM6D,KAAM+C,SAAS,GACpCvL,KAAKwL,mBAAmBxL,KAAKP,MAAMqH,QAAQ7G,oBAzCxBC,IAAMC,WAoD1BsL,cACL,SAAAA,EAAYhM,GAAO,IAAAiM,EAAA,OAAA/K,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAyL,IAClBC,EAAA/K,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA8K,GAAArH,KAAApE,KAAMP,KACDkF,MAAQ,CACZgH,OAAO,GAHUD,6EAOlB1L,KAAKsE,SAAS,CAAEqH,OAAQ3L,KAAK2E,MAAMgH,yCAE3B,IAAAC,EAAA5L,KACF0F,EAAS,CACdC,UAAW,CACVkG,UAAW,sBACXC,eAAgB9L,KAAKP,MAAMwH,OAE5B8E,SAAU,CACT7F,MAAOlG,KAAK2E,MAAMgH,MAAQ,UAAY,UACtC1D,WAAY,MACZ9B,WAAY,UACZ4B,SAAU,OACVL,QAAS,UACTuD,OAAQ,OACRxD,OAAQ,UACRnB,WAAY,yBACZuF,UAAW,wBACXC,eAAgB9L,KAAKP,MAAMwH,OAG5B+E,KAAM,CACLnG,MAAO,MACPC,OAAQ,MACRG,WAAY,OACZgF,OAAQ,SACRY,UAAW,uBACXC,eAAgB9L,KAAKP,MAAMwH,QAIXjH,KAAKP,MAAfgG,MACR,OACC5F,EAAAC,EAAAC,cAAA,OAAKwH,MAAO7B,EAAOC,WAClB9F,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CACCP,UAAU,YACVE,MAAO7B,EAAOqG,SACdE,aAAc,WAAQL,EAAKM,eAC3BC,aAAc,WAAQP,EAAKM,eAC3B3M,QAASS,KAAKP,MAAMF,QACpBsI,GAAI7H,KAAKP,MAAMyH,MAEdlH,KAAKP,MAAMQ,UAEbJ,EAAAC,EAAAC,cAAA,OAAKwH,MAAO7B,EAAOsG,eApDA9L,IAAMC,WA2DvBsJ,cACL,SAAAA,EAAYhK,GAAO,IAAA2M,EAAA,OAAAzL,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAyJ,IAClB2C,EAAAzL,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA8I,GAAArF,KAAApE,KAAMP,KACDkF,MAAQ,CACZ6D,OAAM4D,EAAK3M,MAAM+I,MAAO4D,EAAK3M,MAAM+I,MAHlB4D,yFAOOC,GACrBA,EAAU7D,OAASxI,KAAK2E,MAAM6D,MACjCxI,KAAKsE,SAAS,CAAEkE,KAAM6D,EAAU7D,wCAKjC,IAAM9C,EAAS,CACdC,UAAW,CACVC,SAAW5F,KAAKP,MAAM8L,QAAuB,WAAb,WAChC1F,MAAQ7F,KAAKP,MAAM8L,QAAkB,OAAR,MAC7BzF,OAAQ9F,KAAK2E,MAAM6D,KAASxI,KAAKP,MAAM8L,QAAkC,OAAxB,sBAAkC,EACnFvF,QAAS,OACTI,cAAe,SACfH,WAAY,QACZC,MAAO,QACPI,WAAY,mBACZP,OAAQ,GAETuG,SAAU,CACT1D,WAAc5I,KAAKP,MAAM8L,QAAoB,IAAT,SAUtC,OANKvL,KAAKP,MAAM8L,UAEf3B,SAASrH,KAAK8E,UAAarH,KAAK2E,MAAM6D,KAAQ,mBAAqB,IAKnE3I,EAAAC,EAAAC,cAAA,OAAKwH,MAAO7B,EAAOC,WAEjB3F,KAAK2E,MAAM6D,KACV3I,EAAAC,EAAAC,cAAA,OAAKwH,MAAO7B,EAAO4G,UACjBtM,KAAKP,MAAMQ,UACJ,aA5CIC,IAAMC,WAmDnBoM,cACL,SAAAA,EAAY9M,GAAO,IAAA+M,EAAA,OAAA7L,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAuM,IAClBC,EAAA7L,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA4L,GAAAnI,KAAApE,KAAMP,KACDkF,MAAQ,CACZ6D,OAAMgE,EAAK/M,MAAM+I,MAAOgE,EAAK/M,MAAM+I,KACnCtC,MAAOsG,EAAK/M,MAAMyG,MAAQsG,EAAK/M,MAAMyG,MAAQ,SAJ5BsG,yFAOOH,GACrBA,EAAU7D,OAASxI,KAAK2E,MAAM6D,MACjCxI,KAAKsE,SAAS,CAAEkE,KAAM6D,EAAU7D,6CAIjCxI,KAAKsE,SAAS,CAAEkE,MAAOxI,KAAK2E,MAAM6D,wCAE1B,IAAAiE,EAAAzM,KACF0F,EAAS,CACdC,UAAW,CACV+G,eAAgB,WAChBC,UAAW,OACXC,aAAc,OACdjF,WAAY,OACZ7B,OAAQ,OACRD,MAAO,OAEP4B,OAAQ,UACRC,QAAS,OAEVsE,KAAM,CACLlG,OAAQ,MACRD,MAAO,OACPI,WAAYjG,KAAK2E,MAAMuB,MACvBI,WAAY,iBAEbuG,QAAS,CACRC,UAAW9M,KAAK2E,MAAM6D,KAAO,gBAAkB,OAC/CuE,gBAAiB,WACjBH,aAAc,OAEfI,WAAY,CACXC,QAASjN,KAAK2E,MAAM6D,KAAO,EAAI,EAC/BsE,UAAW9M,KAAK2E,MAAM6D,KAAO,oBAAsB,QAEpD0E,WAAY,CACXJ,UAAW9M,KAAK2E,MAAM6D,KAAO,kCAAoC,OACjEuE,gBAAiB,WACjBJ,UAAW,QAGb,OACC9M,EAAAC,EAAAC,cAAA,OAAKwH,MAAO7B,EAAOC,UAClBpG,QAASS,KAAKP,MAAMF,QAAUS,KAAKP,MAAMF,QACxC,WAAQkN,EAAK3B,gBACdjL,EAAAC,EAAAC,cAAA,OAAKwH,MAAK5G,OAAAwM,EAAA,EAAAxM,CAAA,GAAO+E,EAAOsG,KAAStG,EAAOmH,WACxChN,EAAAC,EAAAC,cAAA,OAAKwH,MAAK5G,OAAAwM,EAAA,EAAAxM,CAAA,GAAO+E,EAAOsG,KAAStG,EAAOsH,cACxCnN,EAAAC,EAAAC,cAAA,OAAKwH,MAAK5G,OAAAwM,EAAA,EAAAxM,CAAA,GAAO+E,EAAOsG,KAAStG,EAAOwH,sBAxDnBhN,IAAMC,WCnahBiN,mLATP,GAAGpN,KAAKP,MAAM6H,OAAQ,CAIlB,OAAOzH,EAAAC,EAAAC,cAAA,OAAKwH,MAHE,CACVzB,OAAU,WAIlB,OAAO,YARY5F,IAAMC,WCY3BkN,oLAEE,IAAMhI,EAASrF,KAAKP,MAAM6F,SAAU5B,EAAQ1D,KAAKP,MAAM6F,SAAU,cAAgB,KAC3EF,EAAgBC,GAAUA,EAAOG,MAAQH,EAAOG,MAAMxE,IAAM,KAClE,OACInB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,8BACXxH,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAM0B,MAC/BtH,EAAAC,EAAAC,cAAA,OAAKmI,IAAK9C,GAAgC+C,IAAMC,IAAI,GAAGb,MAAO,CAAEvB,QAAS,gBAAkBqB,UAAU,kBAEzGxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,gBACVxH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,yBAApB,IAAoDrH,KAAKP,MAAMyK,KAAKoD,OACpEzN,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,oBAA0BrH,KAAKP,MAAMyK,KAAKqD,OAC9D1N,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,iBAAuBrH,KAAKP,MAAMyK,KAAKsD,cAA3D,KAA2E3N,EAAAC,EAAAC,cAAA,yCAb1EG,IAAMC,WA0BhBC,qBANS,SAACqK,GACrB,MAAO,CACHnF,SAAUmF,EAAMC,KAAKC,SACrBlF,MAAOgF,EAAMhF,QAGmB,KAAzBrF,CAA+BiN,IChCxCI,uLACUhI,GAAM,IAAAjG,EAAAQ,KACd,OAAIyF,EAGG9E,OAAOuI,KAAKzD,GAAOgB,IAAI,SAAAI,GAC1B,IAAIO,EAAO3B,EAAMoB,GACjB,OACIhH,EAAAC,EAAAC,cAAA,MAAI8G,IAAOO,EAAKrD,MACZlE,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMP,UAAU,YAAYQ,GAAE,GAAAjF,OAAKpD,EAAKC,MAAMiO,WAAWvG,KAA3B,KAAAvE,OAAmCwE,EAAKA,OAASA,EAAKrD,SANrFlE,EAAAC,EAAAC,cAAA,mEAYX,IAAM0F,EAAQzF,KAAKP,MAAMgG,MACrBkI,EAAcC,KAAKC,KAAKpI,EAAMqI,OAAS,GACvCC,EAAWtI,EAAMuI,MAAM,EAAEL,GACzBM,EAAYxI,EAAMuI,MAAML,EAAalI,EAAMqI,QAC/C,OACIjO,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,6BACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mCACXxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,cAAcrH,KAAKP,MAAM6I,QAE1CzI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kBACXxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,uBACTrH,KAAKkO,YAAYH,MAI9BlO,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kBACXxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aACTrH,KAAKkO,YAAYD,gBApC5B/N,IAAMC,WAoDjBC,qBANS,SAACqK,GACrB,MAAO,CACHnF,SAAUmF,EAAMC,KAAKC,SACrB+C,WAAYjD,EAAMhF,QAGc,KAAzBrF,CAA+BqN,aCvDxCU,GAAgB,CAClBb,MAAO,GACPvJ,KAAM,GACNqK,QAAS,gCAGPC,eACF,SAAAA,EAAY5O,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAqO,IACf7O,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA0N,GAAAjK,KAAApE,KAAMP,KACDkF,MAALhE,OAAAwM,EAAA,EAAAxM,CAAA,GAAkBwN,IAElB3O,EAAK8O,SAAW9O,EAAK8O,SAASvJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAChBA,EAAK+O,SAAW/O,EAAK+O,SAASxJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KALDA,wEASf,OACIK,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yDACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACXxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,cAAb,4BAEJxH,EAAAC,EAAAC,cAAA,QAAMuO,SAAUtO,KAAKsO,UACjBzO,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,aACb9I,KAAK,OACLiQ,YAAY,UACZzK,KAAK,OACL0K,MAAOzO,KAAK2E,MAAMZ,KAClBwK,SAAUvO,KAAKuO,SACfG,UAAQ,IAEZ7O,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,aACb9I,KAAK,QACLiQ,YAAY,mBACZzK,KAAK,QACL0K,MAAOzO,KAAK2E,MAAM2I,MAClBiB,SAAUvO,KAAKuO,SACfG,UAAQ,IAEZ7O,EAAAC,EAAAC,cAAA,UAAQxB,KAAK,UAASsB,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,wBAEvCxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAcrH,KAAK2E,MAAMyJ,2CAMzCO,GAAO,IAAAC,EACZ5O,KAAKsE,UAALsK,EAAA,GAAAjO,OAAAkO,GAAA,EAAAlO,CAAAiO,EACKD,EAAMG,OAAO/K,KAAO4K,EAAMG,OAAOL,OADtC9N,OAAAkO,GAAA,EAAAlO,CAAAiO,EAAA,QAEW,MAFXA,qCAMKD,GAAO,IAAAxJ,EAAAnF,KACZ2O,EAAM3D,iBAEN,IAAMzI,EAAO,CACT+K,MAAStN,KAAK2E,MAAM2I,MACpBvJ,KAAQ/D,KAAK2E,MAAMZ,KACnBwB,UAAavF,KAAKP,MAAM8F,UAAWvF,KAAKP,MAAM8F,UAAUsD,GAAK,MAEjEzG,EAAS9B,EAAKyO,YAAaxM,GAAMyM,KAAK,SAAArN,GAElC,GADAG,QAAQC,IAAIJ,GACRA,EAAKsN,QACL9J,EAAKb,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,GAAnB,CAAkCC,QAAO,YAAAxL,OAAcuC,EAAKR,MAAM2I,MAAzB,2DACtC,CACH,IAAI4B,GAAQ,EACZvN,EAAKwN,OAAOC,QAAQ,SAAAC,GACZA,EAAMC,SAAS,eACfnK,EAAKb,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,GAAnB,CAAkCC,QAAO,GAAAxL,OAAKuC,EAAKR,MAAM2I,MAAhB,2DACzC4B,GAAQ,KAGXA,GACD/J,EAAKb,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,GAAnB,CAAkCC,QAAS,+CApEnClO,IAAMC,WAgFlBC,qBANQ,SAACqK,GACrB,MAAO,CACHlF,UAAWkF,EAAMC,KAAKnF,YAIdnF,CAAyBiO,ICrFnCkB,oLAEJ,OACC1P,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,sBACdxH,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,8BAEjBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aAEdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAEdxH,EAAAC,EAAAC,cAACyP,GAAD,CACCtF,KAAMlK,KAAKP,MAAMgQ,WAAazP,KAAKP,MAAMgQ,WAAa,KAGvD5P,EAAAC,EAAAC,cAAC2P,GAAD,CACCpH,MAAM,cACN7C,MAAOzF,KAAKP,MAAMkQ,cAGnB9P,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACdxH,EAAAC,EAAAC,cAAC6P,GAAD,YAON/P,EAAAC,EAAAC,cAAA,WAASsH,UAAU,gCAClBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACdxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,KAAGmH,KAAK,4BAAR,wBAAzB,oCAAkHrH,EAAAC,EAAAC,cAAA,KAAGmH,KAAK,4BAAR,kBAGnHrH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACdxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAMoK,QAA3B,iBAIHhQ,EAAAC,EAAAC,cAAA,WAASsH,UAAU,UAAUE,MAAO,CAAEtB,WAAY,UACjDpG,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,MAAME,MAAO,CAAEQ,SAAU,SAAtC,gBACsBlI,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,4BADtC,UAEsBxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,UACjCxH,EAAAC,EAAAC,cAAA,gCAHF,QAKsBF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,UACjCxH,EAAAC,EAAAC,cAAA,0BANF,QAQsBF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,UACjCxH,EAAAC,EAAAC,cAAA,uBATF,eA1CeG,IAAMC,WAkEZC,qBALS,SAACqK,GACxB,MAAQ,CACPhF,MAAOgF,EAAMhF,QAGArF,CAAyBmP,IC1DzBO,oLAPP,OACIjQ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iEACXxH,EAAAC,EAAAC,cAAA,OAAKmI,IAAK6H,EAAQ,KAAyC3H,IAAI,aAAab,MALxE,CACR1B,MAAO,kBAHS3F,IAAMC,WCkDnB6P,8MA5CX3L,aAAe,WACX7E,EAAKkF,kGANLF,OAAOS,iBAAiB,SAAUjF,KAAKqE,6DAGvCG,OAAOU,oBAAoB,SAAUlF,KAAKqE,+CAQ1C,IAII4L,EAJAC,EAAWlQ,KAAKP,MAAMwB,KAAK,GAAGuE,MAAMxE,IACpCmP,EAAWnQ,KAAKP,MAAMwB,KAAK,GAAGuE,MAAMxE,IACpCoP,EAAWpQ,KAAKP,MAAMwB,KAAK,GAAGuE,MAAMxE,IAuBxC,OAnBIiP,EADDzL,OAAOI,WAAa,KACL,CACVyL,gBAAe,OAAAzN,OAAQsN,EAAR,WAAAtN,OAA0BuN,EAA1B,WAAAvN,OAA4CwN,EAA5C,KACfE,eAAe,aACfC,mBAAmB,mCAEjB/L,OAAOI,WAAY,IACX,CACVyL,gBAAe,OAAAzN,OAAQsN,EAAR,WAAAtN,OAA0BuN,EAA1B,KACfG,eAAe,MACfC,mBAAmB,uBAGT,CACVF,gBAAe,OAAAzN,OAAQsN,EAAR,KACfI,eAAe,QACfC,mBAAmB,YAKvB1Q,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2BAA2BE,MAAO0I,GAC7CpQ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBAzCPnH,IAAMC,gCC4FnBqQ,eApFX,SAAAA,EAAY/Q,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAwQ,IACfhR,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA6P,GAAApM,KAAApE,KAAMP,KAGDkF,MAAQ,CACT8L,QAAS,CACLC,MAAO,CACHnS,KAAM,aAGVoS,OAAQ,CAAC,IACTC,OAAQpR,EAAKC,MAAMmR,OACnBC,YAAa,CACTC,UAAW,CACPC,KAAMvR,EAAKC,MAAMsR,KAKjBC,MAAO,CACHC,MAAM,EACNpL,MAAO,SASXqL,WAAY,CACRnN,KAAM,CACFoN,SAAU,EACVjL,MAAO,OACP6B,SAAU,OACV5B,WAAY,gBAEhBsI,MAAO,CACH0C,QAAS,EACTjL,MAAO,OACP6B,SAAU,OACV5B,WAAY,UACZ8K,MAAM,EACNG,UAAW,WAEP,OAAO5R,EAAKC,MAAM4R,SAoBtCC,OAAQ,CACJC,QAAS,SAEbC,OAAQ,CAAChS,EAAKC,MAAMgS,QAExBd,OAAQ,CAAEnR,EAAKC,MAAM4R,IAAM7R,EAAKC,MAAMiS,KAAQ,MAtEnClS,wEA4Ef,OAASK,EAAAC,EAAAC,cACL4R,GAAA7R,EADK,CACC2Q,QAAYzQ,KAAK2E,MAAM8L,QAC7BE,OAAW3Q,KAAK2E,MAAMgM,OACtBpS,KAAO,YACP8I,UAAU,mCAjFInH,IAAMC,WCM1ByR,wLAEQC,GAAQ,IAAArS,EAAAQ,KACpB,OAAK6R,EAGElR,OAAOuI,KAAK2I,GAAQpL,IAAI,SAAAI,GAC9B,IAAIiL,EAAQD,EAAOhL,GAInB,OAHkB,MAAdiL,EAAM7Q,MACTa,QAAQC,IAAI+P,GAGZjS,EAAAC,EAAAC,cAAA,OAAK8G,IAAKA,EAAKQ,UAAU,8CAA8C0K,oBAAkB,OACxFlS,EAAAC,EAAAC,cAACiS,GAAD,CAAaX,IAAKS,EAAM7Q,KAAKwN,MAAOiD,KAAMI,EAAM7Q,KAAKgR,YAAaR,MAAOK,EAAMxJ,MAAOyI,KAAMvR,EAAKC,MAAMsR,UATlGlR,EAAAC,EAAAC,cAAA,oEAgBR,IAAImS,EAAW,GAIf,OAHIlS,KAAKP,MAAMoS,QAAoD,IAA1ClR,OAAOuI,KAAKlJ,KAAKP,MAAMoS,QAAQ/D,SACvDoE,EAAWrS,EAAAC,EAAAC,cAAA,WAASsH,UAAW,qBAG/BxH,EAAAC,EAAAC,cAAA,WAASsH,UAAU,gCAClBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,0BACb6K,EACAlS,KAAKmS,aAAanS,KAAKP,MAAMoS,QAC9BhS,EAAAC,EAAAC,cAAA,WAASsH,UAAU,wEAAwE0K,oBAAkB,OAC5GlS,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QAAOxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,qBACnCxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAM2M,OAAS/K,UAAU,yBAA9C,0BAjCanH,IAAMC,WAgDZC,qBALS,SAACqK,GACxB,MAAQ,CACPhF,MAAOgF,EAAMhF,QAGArF,CAAyBwR,ICrDlCS,oLAEJ,OACCxS,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,0CACdxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAK5C,KAAKP,MAAMgG,MAAM0B,MAAtBvE,OAA6B5C,KAAKP,MAAM2H,MAAQG,MAAO,CAAE1B,MAAO,OAAQC,OAAQ,SAEvFjG,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,wBACdxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAWrH,KAAKP,MAAM6S,QAE7BzS,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aAAarH,KAAKP,MAAM6I,OACtCzI,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAarH,KAAKP,MAAM8S,sBAVpBrS,IAAMC,WAuBbC,qBALS,SAACqK,GACxB,MAAQ,CACPhF,MAAOgF,EAAMhF,QAGArF,CAAyBiS,ICYzBG,uLAhCFC,GACX,OAAKA,EAGE9R,OAAOuI,KAAKuJ,GAAOhM,IAAI,SAACI,EAAKF,GACnC,IAAI+L,EAAMD,EAAM5L,GAChB,OAAOhH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oDAAoDR,IAAKF,GAC9E9G,EAAAC,EAAAC,cAAC4S,GAAD,CACC9L,IAAKF,EACL2B,MAAOoK,EAAIpK,MACXiK,YAAaG,EAAIH,YACjBD,KAAMI,EAAIJ,KACVlL,KAAMsL,EAAItL,UAVLvH,EAAAC,EAAAC,cAAA,wEAgBR,OACCF,EAAAC,EAAAC,cAAA,WAASsH,UAAU,cAAcE,MAAO,CAACtB,WAAW,UACnDpG,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACdxH,EAAAC,EAAAC,cAAA,MAAI6S,MAAM,wCAAyC5S,KAAKP,MAAM6I,QAE/DzI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACbrH,KAAK6S,YAAY7S,KAAKP,MAAMgT,iBA1BRvS,IAAMC,WCd3B2S,GAAQ,CAGdA,MAAiB,IACjBA,UAAqB,KAENA,MCaTC,8MAoELC,QAAU,SAACC,EAAIC,GACd,OAAOD,EAAGE,gBAAkBD,EAAGC,eAC9BF,EAAGG,aAAeF,EAAGE,YACrBH,EAAGI,YAAcH,EAAGG,uFAtETC,EAAQC,EAAOC,EAAKC,GAAa,IAAAtO,EAAAnF,KAC7C,IAAKsT,GAAUG,EACd,OAAO5T,EAAAC,EAAAC,cAAA,mCAER,IAAI2T,EAAiB,GAUrB,GATA/S,OAAOuI,KAAKoK,GAAQlE,QAAQ,SAAAvI,GAC3B,IAAI8M,EAAM,IAAIC,KACVjF,EAAQ2E,EAAOzM,GACfgN,EAAO,IAAID,KAAKjF,EAAMmF,qBACtBC,EAAU,IAAIH,KAAKjF,EAAMqF,oBACzBH,EAAOF,EAAM,GAAKI,EAAUJ,EAAM,IACrCD,EAAeO,KAAKtF,KAGQ,IAA1B+E,EAAe5F,QAAgB2F,EAClC,OAAO5T,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAb,uCAA6DxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAM6N,QAA3B,aAE1E,IAAIY,EAAkB,EACtB,OAAOR,EAAejN,IAAI,SAAAkI,GACzB,GAAIuF,GAAmBX,GAASW,EAAkBV,EAAK,CACtD,IAAIW,EAAa,eACO,IAApBD,IACHC,EAAa,gBAEdD,GAAmB,EACnB,IAAIL,EAAO,IAAID,KAAKjF,EAAMmF,qBACtBC,EAAU,IAAIH,KAAKjF,EAAMqF,mBAE7B,OACCnU,EAAAC,EAAAC,cAAA,OAAK8G,IAAKqN,EAAiB7M,UAAW8M,GACrCtU,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,YACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACdxH,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,cACjBxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKuC,EAAK1F,MAAMgG,MAAM6N,OAAtB,KAAA1Q,OAAgC+L,EAAM9F,KAAMhJ,EAAAC,EAAAC,cAAA,OAAKmI,IAAKyG,EAAMnJ,MAAQmJ,EAAMnJ,MAAMxE,IAAM,GAAIoH,IAAI,QAGxGvI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACdxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMP,UAAU,YAAYQ,GAAE,GAAAjF,OAAKuC,EAAK1F,MAAMgG,MAAM6N,OAAtB,KAAA1Q,OAAgC+L,EAAM9F,KAAMhJ,EAAAC,EAAAC,cAAA,UAAK4O,EAAM5K,OACrFlE,EAAAC,EAAAC,cAAA,WACE4O,EAAM4D,YAAYzE,OAASgF,GAAMsB,MACjCvU,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aACXsH,EAAM4D,YAAY8B,UAAU,EAAGvB,GAAMsB,OADvC,OAEOvU,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKuC,EAAK1F,MAAMgG,MAAM6N,OAAtB,KAAA1Q,OAAgC+L,EAAM9F,KAA9C,cAGPhJ,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAb,IAA2BsH,EAAM4D,YAAjC,SAML1S,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,yBACbxH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,kBAAqBlC,EAAK6N,QAAQa,EAAME,GAAnB,GAAAnR,OAAiCiR,EAAKS,qBAAtC,OAAA1R,OAAgEmR,EAAQO,sBAAxE,GAAA1R,OAAoGiR,EAAKS,uBADhJ,kBAEkBzU,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,mBAAsBlC,EAAK6N,QAAQa,EAAME,GAAWF,EAAKU,WAAWF,UAAU,EAAG,IAA3D,GAAAzR,OAAoEiR,EAAKU,WAAWF,UAAU,EAAG,IAAjG,OAAAzR,OAA0GmR,EAAQQ,WAAWF,UAAU,EAAG,KAAjL,KAA0LR,EAAKV,cAAcoB,YAC7N5F,EAAMnH,SACN3H,EAAAC,EAAAC,cAAA,8BAA6BF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,qBAA1C,IAAmEsH,EAAMnH,SAASgN,OAAlF,KAA4F7F,EAAMnH,SAASiN,KAA3G,KAAmH9F,EAAMnH,SAAS7C,MAAlI,IAA0IgK,EAAMnH,SAASkN,KACvJ,OAOP,OADAR,GAAmB,EACZ,wCASR,OACCrU,EAAAC,EAAAC,cAAA,WAASsH,UAAU,eAAeE,MAAO,CAACtB,WAAW,gBACpDpG,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yDACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,qBACdxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aAAd,qBAGFxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yDACdxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAK5C,KAAKP,MAAMgG,MAAM6N,QAAUjM,UAAU,wCAAlD,gBAGFxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACdxH,EAAAC,EAAAC,cAAA,WAASsH,UAAU,gCACjBrH,KAAK2U,aAAa3U,KAAKP,MAAM6T,OAAQ,EAAG,GAAG,IAE7CzT,EAAAC,EAAAC,cAAA,WAASsH,UAAU,gCACjBrH,KAAK2U,aAAa3U,KAAKP,MAAM6T,OAAQ,EAAG,GAAG,cA5F9BpT,IAAMC,WAyGZC,qBALS,SAACqK,GACxB,MAAQ,CACPhF,MAAOgF,EAAMhF,QAGArF,CAAyB2S,IC/GlC6B,oLAIJ,IAAK5U,KAAKP,MAAM6F,SAAU,OAAOzF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAb,wFACJrH,KAAKP,MAAM6F,SAASiN,YAAjD,IAHQvI,EAIqBhK,KAAKP,MAA1B6F,EAJA0E,EAIA1E,SAAUgO,EAJVtJ,EAIUsJ,OACZuB,EAAoBnR,EAAQ4B,EAAU,iBAAiBwP,OAAO,GAAGC,OACjEC,EAAiBtR,EAAQ4B,EAAU,kBAAkB2P,MACrD5P,EAAS3B,EAAQ4B,EAAU,cAC3BuM,EAAS,CACd,CACCvJ,MAAO,oBACPrH,KAAMjB,KAAKP,MAAMyV,WAAalV,KAAKP,MAAMyV,WAAWrR,OAAO,SAAA5C,GAAU,MAAqB,yBAAdA,EAAK8C,OAAmC,GAAK,MAE1H,CACCuE,MAAO,qBACPrH,KAAMjB,KAAKP,MAAMyV,WAAalV,KAAKP,MAAMyV,WAAWrR,OAAO,SAAA5C,GAAU,MAAqB,0BAAdA,EAAK8C,OAAoC,GAAK,OAG5H,OACClE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAACqB,WAAW,KAChDiM,EACAhV,EAAAC,EAAAC,cAACoV,GAAD,CACClU,KAAM4T,EACNvM,MAAOjD,EAAOiD,QACV,KAENzI,EAAAC,EAAAC,cAAA,OAAKwH,MAAO,CAACG,QAAQ,GAAGzB,WAAW,gBAClCpG,EAAAC,EAAAC,cAAA,MAAIqV,MAAM,SAAQ/N,UAAU,aAAarH,KAAKP,MAAM6F,SAASC,UAAUxB,MACvElE,EAAAC,EAAAC,cAAA,KAAGqV,MAAM,SAAS/N,UAAU,4CAA4CE,MAAO,CAACrB,MAAM,YAAtF,kXAEAlG,KAAKP,MAAMyV,WACXrV,EAAAC,EAAAC,cAACsV,GAAD,CACCxD,OAAQA,EACRd,KAAM,MACF,KAELiE,EACAnV,EAAAC,EAAAC,cAACuV,GAAD,CACChN,MAAM,wCACNmK,MAAOuC,IACH,KAEL1B,EACAzT,EAAAC,EAAAC,cAACwV,GAAD,CACCjC,OAAQA,IACJ,aA/CapT,IAAMC,WA8DdC,qBAPS,SAACqK,GACxB,MAAO,CACNnF,SAAUmF,EAAMC,KAAKC,SACrB2I,OAAQ7I,EAAMC,KAAK4I,OACnB4B,WAAYzK,EAAMC,KAAK8K,gBAGe,KAAzBpV,CAA+BwU,ICwBjCa,GAA4B,SAAC/K,GAAD,OAAU,SAAApM,GAC/C,OAAOA,EAAS,CACZC,KnB3D8B,yBmB4D9BC,QAASkM,MA4DJgL,GAAuB,SAACrW,GAAD,OAAiB,SAAAf,GACjD,OAAOA,EAAS,CACZC,KnB7GwB,mBmB8GxBC,QAASa,MAgEJsW,GAAqB,SAACC,GAAD,OAAU,SAAAtX,GACxC,OAAOA,EAAS,CACZC,KnBlKuB,kBmBmKvBC,QAASoX,MAGJC,GAAwB,SAACD,GAAD,OAAU,SAAAtX,GAC3C,OAAOA,EAAS,CACZC,KnBvK0B,qBmBwK1BC,QAASoX,MAeJE,GAAkB,SAAC7U,GAAD,OAAU,SAAA3C,GACrC,OAAOA,EAAS,CACZC,KnBrLmB,cmBsLnBC,QAASyC,MC7PX8U,oLACI,IAAAvW,EAAAQ,KACR,OACCH,EAAAC,EAAAC,cAAA,OAAK6S,MAAM,qBACV/S,EAAAC,EAAAC,cAAA,OAAK6S,MAAM,aACV/S,EAAAC,EAAAC,cAAA,OAAK6S,MAAM,aACV/S,EAAAC,EAAAC,cAAA,MAAI6S,MAAM,yBACT/S,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMiO,WAAWvG,KAAME,UAAU,QAAhD,WAEA1G,OAAOuI,KAAKlJ,KAAKP,MAAMgG,OAAOgB,IAAI,SAAAI,GAClC,IAAMO,EAAO5H,EAAKC,MAAMgG,MAAMoB,GAC9B,OAAIO,EAAKA,KAEPvH,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GACRhH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKwE,EAAKA,MAAQC,UAAU,QAAQD,EAAKrD,OAGzCqD,EAAKrD,KAEdlE,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GACPO,EAAKrD,WAHF,eAlBa7D,IAAMC,WAuCnBC,qBALS,SAACqK,GACxB,MAAQ,CACPiD,WAAYjD,EAAMhF,QAGLrF,CAAyB2V,ICbvBC,eA3Bb,SAAAA,EAAYvW,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAgW,IACfxW,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAqV,GAAA5R,KAAApE,KAAMP,KACDkF,MAAQ,CACT6D,OAAM/I,EAAM+I,MAAM/I,EAAM+I,MAE5BhJ,EAAKsL,YAActL,EAAKsL,YAAY/F,KAAjBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KALJA,wEAQf,OACIK,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,sDAAsD9H,QAASS,KAAK8K,aAC9E9K,KAAKP,MAAM4F,OACXrF,KAAK2E,MAAM6D,KACR3I,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,mBAAwBxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,sBAG1DxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAYrH,KAAK2E,MAAM6D,KAAM,oBAAoB,4BACjDxI,KAAKP,MAAMwW,gDAMxBjW,KAAKsE,SAAS,CACVkE,MAAOxI,KAAK2E,MAAM6D,cAzBNtI,IAAMC,WC4Ef+V,oLAhEb,OACCrW,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,6BAOdxH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,0BACCC,KAAKmW,qBAAqBnW,KAAKP,MAAM2W,sDAKrBC,GAAQ,IAAA7W,EAAAQ,KAC3B,OAAKqW,EAGE1V,OAAOuI,KAAKmN,GAAQ5P,IAAI,SAAAI,GAC9B,IAAIyP,EAAMD,EAAOxP,GACjB,OACChH,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,qBAAqB9H,QAASC,EAAKC,MAAM8O,SAAU1H,IAAKA,GACxEhH,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CACTI,WAAY,OACZiF,aAAc,IACdlF,QAAS,gBACN4O,EAAIvS,MACRlE,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,WAAW9I,KAAK,WAAWwF,KAAK,QAAQ8E,GAAI,YAAcyN,EAAIzN,GAAI4F,MAAO6H,EAAIvS,OAC9FlE,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,iBAZXxH,EAAAC,EAAAC,cAAA,6EAkBYqW,GAAS,IAAAjR,EAAAnF,KAC7B,OAAKoW,EAGEzV,OAAOuI,KAAKkN,GAAS3P,IAAI,SAAAI,GAC/B,IAAIwP,EAASD,EAAQvP,GACfxB,EACLxF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACdxH,EAAAC,EAAAC,cAAA,YAAOsW,EAAOtS,OAGVkS,EACLpW,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,QACdlC,EAAKoR,oBAAoBF,EAAOG,OAGnC,OACC3W,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,qBAAqBR,IAAKA,GACxChH,EAAAC,EAAAC,cAAC0W,GAAD,CACCjO,KAAsB,aAAhB6N,EAAOtS,KACbsB,OAAQA,EACR4Q,QAASA,EACT1H,SAAUpJ,EAAK1F,MAAM8O,cApBjB1O,EAAAC,EAAAC,cAAA,wCAxCYG,IAAMC,qDCHPuW,oLAEnB,IAAMC,EACL9W,EAAAC,EAAAC,cAAC6W,GAAA9W,EAAD,CAASwI,MAAQtI,KAAKP,MAAM6I,MAAStI,KAAKP,MAAM6I,MAAQ,IACtDtI,KAAKP,MAAMoX,MAGd,OACChX,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAC+W,GAAAhX,EAAD,CAAgBiX,QAAQ,QAAQC,UAAWhX,KAAKP,MAAMwX,IAAKC,QAASP,GAClE3W,KAAKP,MAAMQ,kBAVoBC,IAAMC,WC4H3BgX,eAxHZ,SAAAA,EAAY1X,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAmX,IACf3X,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAwW,GAAA/S,KAAApE,KAAMP,KAoCV2X,aAAe,SAACzI,GACRA,GAAOA,EAAM3D,iBAEZxL,EAAKmF,MAAM0S,QASU,SAAtB7X,EAAKC,MAAM6X,OACN9X,EAAKC,MAAM8X,OAAO/X,EAAKC,MAAM+X,IAAKhY,EAAKmF,MAAM0S,UAC9CvV,QAAQC,IAAI,kBACZvC,EAAKC,MAAMgY,UAAUjY,EAAKC,MAAM+X,IAAKhY,EAAKmF,MAAM0S,OAAQ7X,EAAKC,MAAM6X,QACnE9X,EAAKC,MAAMiY,aAEc,SAAtBlY,EAAKC,MAAM6X,SACb9X,EAAKC,MAAM8X,OAAO/X,EAAKC,MAAM+X,IAAKhY,EAAKmF,MAAM0S,QAIvC7X,EAAKC,MAAM8X,OAAO/X,EAAKC,MAAM+X,IAAKhY,EAAKmF,MAAM0S,OAAQ,UAC5DvV,QAAQC,IAAI,kBACZvC,EAAKC,MAAMkY,WAAWnY,EAAKC,MAAM+X,IAAKhY,EAAKmF,MAAM0S,QACjD7X,EAAKC,MAAMiY,cANX5V,QAAQC,IAAI,kBACZvC,EAAKC,MAAMgY,UAAUjY,EAAKC,MAAM+X,IAAKhY,EAAKmF,MAAM0S,OAAQ7X,EAAKC,MAAM6X,QACnE9X,EAAKC,MAAMiY,cAQnBlY,EAAK8E,SAAS,CACV+S,OAAQ,QA3BR7X,EAAK8E,SAAS,CACV+S,OAAQ,KACRhI,MAAO,+BA3CA7P,EAgGnBoY,gBAAkB,WACd,GAAIpY,EAAKC,MAAM+I,KAAM,CAEjB,IADA,IAAIqP,EAAkB,GACbC,EAAI,EAAGA,EAAItY,EAAKC,MAAMpB,KAAK0Z,WAAWjK,OAAQgK,IAAK,CACxD,IAAIE,EAAYxY,EAAKC,MAAMpB,KAAK0Z,WAAWD,IAChB,SAAtBtY,EAAKC,MAAM6X,SAAsB9X,EAAKC,MAAM8X,OAAO/X,EAAKC,MAAM+X,IAAKQ,EAAUnP,GAAI,SAC3D,SAAtBrJ,EAAKC,MAAM6X,SAAsB9X,EAAKC,MAAM8X,OAAO/X,EAAKC,MAAM+X,IAAKQ,EAAUnP,MAE9EgP,EAAgB5D,KAAK+D,EAAUnP,IAGvC/G,QAAQC,IAAI8V,GACPrY,EAAKmF,MAAM0K,OAAU7P,EAAKmF,MAAM0S,SACF,IAA3BQ,EAAgB/J,OAChBtO,EAAK8E,SAAS,CAAE+K,MAAK,mEAErBvN,QAAQC,IAAK8V,EAAgB,IAC7BrY,EAAK8E,SAAS,CAAE+S,OAAQQ,EAAgB,SA9GpDrY,EAAKmF,MAAQ,CACT0K,MAAO,MAEX7P,EAAK+O,SAAW/O,EAAK+O,SAASxJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KANDA,kFASAyY,GACXA,EAAUX,SAAWtX,KAAKP,MAAM6X,QAChCtX,KAAKsE,SAAS,CAAE+K,MAAO,wCAK3B,OADArP,KAAK4X,kBAED/X,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACKrI,KAAKP,MAAM+I,KACR3I,EAAAC,EAAAC,cAAA,WACKC,KAAK2E,MAAM0K,MAAQxP,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAb,IAA6BrH,KAAK2E,MAAM0K,MAAxC,KAAsD,KAC1ExP,EAAAC,EAAAC,cAAA,QAAMuO,SAAUtO,KAAKoX,cAChBpX,KAAKkY,aAAalY,KAAKP,MAAMpB,KAAK0Z,YACnClY,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,kBAAkB9I,KAAK,SAAS4Z,WAAUnY,KAAK2E,MAAM0K,OAAvE,UACAxP,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,sBAAsB9H,QAASS,KAAKP,MAAMiY,WAA5D,eAKZ,2CAyCHK,GAAY,IAAA5S,EAAAnF,KACrB,OAAOW,OAAOuI,KAAK6O,GAAYtR,IAAI,SAAAI,GAC/B,IAAMmR,EAAYD,EAAWlR,GAC7B,GAA2B,SAAtB1B,EAAK1F,MAAM6X,SAAsBnS,EAAK1F,MAAM8X,OAAOpS,EAAK1F,MAAM+X,IAAKQ,EAAUnP,GAAI,SAAmC,SAAtB1D,EAAK1F,MAAM6X,SAAsBnS,EAAK1F,MAAM8X,OAAOpS,EAAK1F,MAAM+X,IAAKQ,EAAUnP,IAC5K,OACIhJ,EAAAC,EAAAC,cAAA,OAAK8G,IAAKA,EAAKU,MAAO,CAAEvB,QAAS,iBAC7BnG,EAAAC,EAAAC,cAAA,SAAO8I,GAAI,GAAKmP,EAAUjU,KAAO8C,EAAKtI,KAAK,QAAQkQ,MAAOuJ,EAAUnP,GAAI9E,KAAK,WAAWwK,SAAUpJ,EAAKoJ,SAAU6J,QAASC,OAAOlT,EAAKR,MAAM0S,UAAYgB,OAAOL,EAAUnP,IAAKtB,MAAO,CAAEvB,QAAS,kBADpM,OAGQnG,EAAAC,EAAAC,cAAA,SAAOuY,QAAS,GAAKN,EAAUjU,KAAO8C,GAAtC,IAA6CmR,EAAUjU,KAAvD,KAHR,mDAWP4K,GACL7M,QAAQC,IAAI4M,EAAMG,OAAOL,OACzBzO,KAAKsE,SAAS,CACV+K,MAAO,KACPgI,OAAQ1I,EAAMG,OAAOL,QAEzB3M,QAAQC,IAAI/B,KAAK2E,cA9FEzE,IAAMC,WCF3BgO,GAAgB,CAClB7F,MAAO,GACP/F,KAAM,GACNiV,IAAK,KACLe,IAAK,KACLC,OAAQ,GACRpK,QAAS,kDACTqK,MAAO,KAGLC,eACF,SAAAA,EAAYjZ,GAAO,IAAAD,EAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAA0Y,IACflZ,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA+X,GAAAtU,KAAApE,KAAMP,KAuFVkZ,MAAQ,SAACC,GAEL,OAAOA,EAAM9K,QAxFb,IAAIM,EAAU,kDAFC,OAGX3O,EAAM+X,MAAKpJ,EAAU,qDACrB3O,EAAM8Y,MAAKnK,EAAU,gDAEzB5O,EAAKmF,MAALhE,OAAAwM,EAAA,EAAAxM,CAAA,GACOwN,GADP,CAEIoK,IAAK9Y,EAAM8Y,IAAM9Y,EAAM8Y,IAAM,KAC7Bf,IAAK/X,EAAM+X,IAAM/X,EAAM+X,IAAM,KAC7BqB,kBAAkB,EAElBzK,QAASA,IAGb5O,EAAK8O,SAAW9O,EAAK8O,SAASvJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAChBA,EAAK+O,SAAW/O,EAAK+O,SAASxJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAhBDA,wEAmBV,IAAA2F,EAAAnF,KACL,OAAKA,KAAKP,MAAMqZ,SAAyC,IAA9B9Y,KAAKP,MAAMqZ,QAAQhL,QACvB,UAAnB9N,KAAK2E,MAAM4T,KAAyC,KAAtBvY,KAAK2E,MAAM6T,QAAexY,KAAKsE,SAAS,CAAEkU,OAAQ,KAEhF3Y,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cAAcE,MAAO,CAAEwR,OAAQ,mBACzC/Y,KAAKP,MAAMuZ,UAAY,KACpBnZ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,4BACXxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,OAAOrH,KAAK2E,MAAMyJ,UAGxCvO,EAAAC,EAAAC,cAAA,QAAMuO,SAAUtO,KAAKsO,SAAU/G,MAAO,CAAE0D,OAAQ,SAC3CjL,KAAKP,MAAM+X,IAAM,KACd3X,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,sDACAF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,QAAQoH,MAAOzO,KAAK2E,MAAM6S,IAAKjJ,SAAU,SAAAI,GAAK,OAAIxJ,EAAKb,SAAS,CAAEkT,IAAK7I,EAAMG,OAAOL,UAClG5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAO,MAAf,MACCzO,KAAKiZ,cAAcjZ,KAAKP,MAAMqZ,UAEnCjZ,EAAAC,EAAAC,cAAA,YAGPC,KAAKP,MAAM8Y,IAAM,KACd1Y,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,mDACAF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,QAAQoH,MAAOzO,KAAK2E,MAAM4T,IAAKhK,SAAU,SAAAI,GAAK,OAAIxJ,EAAKb,SAAS,CAAEiU,IAAK5J,EAAMG,OAAOL,UAClG5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAO,MAAf,kBACCzO,KAAKiZ,cAAcjZ,KAAKP,MAAMyZ,SAC/BrZ,EAAAC,EAAAC,cAAA,UAAQ0O,MAAO,SAAf,UALR,kBAOwB,UAAnBzO,KAAK2E,MAAM4T,IACR1Y,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cAAcE,MAAO,CAAEvB,QAAS,iBAC3CnG,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,SAAS0K,MAAOzO,KAAK2E,MAAM6T,OAAQjK,SAAUvO,KAAKuO,SAAU4K,WAAW,EAAMzK,UAAQ,KACxG7O,EAAAC,EAAAC,cAAA,YAIrBF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACXxH,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,QAAQ0K,MAAOzO,KAAK2E,MAAM2D,MAAOiG,SAAUvO,KAAKuO,SAAUG,UAAQ,KAE9F7O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACXxH,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAAEvB,QAAS,eAAgBoT,MAAO,SAA5C,eACAvZ,EAAAC,EAAAC,cAAA,KACIsH,UAAWrH,KAAK2E,MAAMpC,KAAKuL,OAAS9N,KAAK2E,MAAM8T,MAAQ,cAAgB,KACvElR,MAAO,CAAEvB,QAAS,eAAgBoT,MAAO,UAExCpZ,KAAK2E,MAAMpC,KAAKuL,OAAS,MAAQ9N,KAAK2E,MAAM8T,MAAQ,SAEzD5Y,EAAAC,EAAAC,cAAA,YAAUgE,KAAK,OAAO0K,MAAOzO,KAAK2E,MAAMpC,KAAMgM,SAAUvO,KAAKuO,SAAUhH,MAAO,CAAE1B,MAAO,QAAU6I,UAAQ,OAOrH7O,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,kBAAkB9I,KAAK,UAAzC,gBAGPyB,KAAK2E,MAAM0K,MAAQxP,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAerH,KAAK2E,MAAM0K,OAAa,QA9DjBxP,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eAAcxH,EAAAC,EAAAC,cAAA,oGAyE3F4O,GAAO,IAAAC,EACZ5O,KAAKsE,UAALsK,EAAA,GAAAjO,OAAAkO,GAAA,EAAAlO,CAAAiO,EACKD,EAAMG,OAAO/K,KAAO4K,EAAMG,OAAOL,OADtC9N,OAAAkO,GAAA,EAAAlO,CAAAiO,EAAA,QAEW,MAFXA,0CAKUyK,GACV,OAAO1Y,OAAOuI,KAAKmQ,GAAS5S,IAAI,SAAAI,GAC5B,IAAIwQ,EAASgC,EAAQxS,GACrB,OAAOhH,EAAAC,EAAAC,cAAA,UAAQ0O,MAAO4I,EAAOxO,IAAtB,IAA4BwO,EAAO/O,MAAQ+O,EAAO/O,MAAQ+O,EAAOtT,KAAjE,wCAGN4K,GAAO,IAAA5F,EAAA/I,KACZ8B,QAAQC,IAAI/B,KAAK2E,OACjBgK,EAAM3D,iBAEN,IAAMzI,EAAO,CACTlE,KAAQ2B,KAAKP,MAAMpB,KAAKwK,GACxB2P,OAA6B,OAAnBxY,KAAK2E,MAAM4T,KAAmC,UAAnBvY,KAAK2E,MAAM4T,IAAkBvY,KAAK2E,MAAM4T,IAAM,KACnFe,OAAUtZ,KAAKP,MAAM+X,IAAMxX,KAAKP,MAAM+X,IAAMxX,KAAK2E,MAAM6S,IACvD+B,KAAQ,EACRhX,KAAQvC,KAAK2E,MAAMpC,KACnB+F,MAAStI,KAAK2E,MAAM2D,MACpB/C,UAAavF,KAAKP,MAAM8F,UAAUsD,IAEjC7I,KAAKP,MAAM+X,KAASxX,KAAK2E,MAAM6S,KAA0B,OAAnBxX,KAAK2E,MAAM6S,IAE3CxX,KAAK2Y,MAAM3Y,KAAK2E,MAAMpC,MAAQvC,KAAK2E,MAAM8T,MAChDzY,KAAKsE,SAAS,CAAE+K,MAAO,kCAEvBjN,EAAS9B,EAAKkZ,aAAcjX,GAAMyM,KAAK,SAAArN,GACnCG,QAAQC,IAAIJ,GACRA,EAAKsN,SACLlG,EAAKzE,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GACOwN,GADP,CAEIC,QAAS,gGAEVrF,EAAKtJ,MAAMiY,WAAW3O,EAAKtJ,MAAMiY,UAAU,uGAE9C3O,EAAKzE,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GACOwN,GADP,CAEIkB,MAAO,oDAERtG,EAAKtJ,MAAMiY,WAAW3O,EAAKtJ,MAAMiY,UAAU,kEAElD5V,QAAQC,IAAIgH,EAAKpE,SAnBrB3E,KAAKsE,SAAS,CAAE+K,MAAO,0EAxHXnP,IAAMC,WA0JfC,qBATS,SAACqK,GACrB,MAAO,CACHpM,KAAMoM,EAAMpM,KAAK6L,KACjB4O,QAASrO,EAAMC,KAAKoO,QACpBI,QAASzO,EAAMC,KAAK+O,iBACpBlU,UAAWkF,EAAMC,KAAKnF,YAIfnF,CAAyBsY,ICtJlCgB,eACL,SAAAA,EAAYja,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAA0Z,IAClBla,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA+Y,GAAAtV,KAAApE,KAAMP,KA+IPka,SAAW,SAACrC,GACX9X,EAAK8E,SAAS,CACbgT,OAAQA,IAET9X,EAAKC,MAAMma,WAAWpa,EAAKC,MAAM6Z,OAAOzQ,KApJtBrJ,EAsJnBkY,UAAY,WACXlY,EAAK8E,SAAS,CACbgT,OAAQ,OAET9X,EAAKC,MAAMoa,eAxJXra,EAAKmF,MAAQ,CACZ2S,OAAQ,KACRwC,qBAAqB,EACrB1L,QAAS,MALQ5O,4EASlBgF,OAAOgD,SAAP,GAAA5E,OAAqB5C,KAAKP,MAAMgG,MAAMqT,QAAU,IAAM9Y,KAAKP,MAAM6Z,OAAOzQ,qCAGhE,IAAA1D,EAAAnF,KAER,OADKA,KAAKP,MAAMsa,YAAc/Z,KAAK2E,MAAM2S,QAAQtX,KAAKsE,SAAS,CAAEgT,OAAQ,OACrEtX,KAAKga,eAEPna,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uCACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kCACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,UAAU9H,QAAU,WAAK4F,EAAK8U,eAA7C,IACCpa,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAMqT,QAAU,IAAM9Y,KAAKP,MAAM6Z,OAAOzQ,IAC5DhJ,EAAAC,EAAAC,cAAA,OAAMmI,IAAKlI,KAAKP,MAAM6Z,OAAO9T,MAAQxF,KAAKP,MAAM6Z,OAAO9T,MAAMxE,IAAM,KAAMoH,IAAI,MAG9EvI,EAAAC,EAAAC,cAAA,cAAYsH,UAAU,WACrBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WAEdxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAMqT,QAAU,IAAM9Y,KAAKP,MAAM6Z,OAAOzQ,IAC5DhJ,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAa6S,cAAY,cAM3Cra,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,YAAY9H,QAAU,WAAK4F,EAAK8U,eAC9Cpa,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMP,UAAU,YAAYQ,GAAI7H,KAAKP,MAAMgG,MAAMqT,QAAU,IAAM9Y,KAAKP,MAAM6Z,OAAOzQ,IAAnF,IAAyF7I,KAAKP,MAAM6Z,OAAOhR,MAA3G,OAIFzI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aAAa9H,QAAU,WAAK4F,EAAK8U,eAC/Cpa,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,YACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eAAf,aACWxH,EAAAC,EAAAC,cAAA,gBAAQC,KAAKma,aAAana,KAAKoa,OAAO,eAAtC,MAEXva,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACdxH,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,6EAA6EI,IAAI,OAC9FpX,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,WAEDxH,EAAAC,EAAAC,cAAA,YAAOC,KAAKma,aAAana,KAAKoa,OAAO,eAMxCva,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aAAaE,MAAO,CAACqB,WAAW,KAC9C/I,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oCACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBACdxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAMqT,QAAU,IAAM9Y,KAAKP,MAAM6Z,OAAOzQ,GAAIxB,UAAU,yCAA3E,gBAGFxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oCACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBACZrH,KAAKP,MAAMpB,KAOZwB,EAAAC,EAAAC,cAAA,UACCsH,UAAiC,SAAtBrH,KAAK2E,MAAM2S,OAAoB,iDAAmD,wCAC7F/X,QAAS,kBAAM4F,EAAKwU,SAAS,UAF9B,cANA9Z,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,+BACbhX,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,wCAAb,eAaJxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oCACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBACZrH,KAAKP,MAAMpB,KAOZwB,EAAAC,EAAAC,cAAA,UACCsH,UAAiC,SAAtBrH,KAAK2E,MAAM2S,OAAoB,iDAAmD,wCAC7F/X,QAAS,kBAAM4F,EAAKwU,SAAS,UAF9B,aANA9Z,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,wCACbhX,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,wCAAb,cAYJxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,UAEdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBACdxH,EAAAC,EAAAC,cAAA,WACCC,KAAKP,MAAM6a,oBACXza,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACErI,KAAK2E,MAAMmV,oBACXja,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAU9H,QAAS,kBAAM4F,EAAKb,SAAS,CAAEwV,qBAAqB,KAAUvS,MAAO,CAAE0D,OAAQ,SAA3G,WACApL,EAAAC,EAAAC,cAACwa,GAAD,CAAW/C,IAAKxX,KAAKP,MAAM6Z,OAAOzQ,GAAImQ,WAAW,EAAMtB,UAAW,SAACtJ,GAAD,OAAajJ,EAAKb,SAAS,CAAE8J,QAASA,EAAS0L,qBAAqB,QAGvIja,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACErI,KAAK2E,MAAMyJ,QACXvO,EAAAC,EAAAC,cAAA,SAAIC,KAAK2E,MAAMyJ,SAEfvO,EAAAC,EAAAC,cAAA,sFAA6EF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAUE,MAAO,CAAEvB,QAAS,gBAAkBzG,QAAS,kBAAM4F,EAAKb,SAAS,CAAEwV,qBAAqB,MAApH,eAA7E,OAKE,KAEPja,EAAAC,EAAAC,cAACya,GAAD,CACChD,IAAKxX,KAAKP,MAAM6Z,OAAOzQ,GACvByO,OAAQtX,KAAK2E,MAAM2S,OAEnB9O,KAAMxI,KAAKP,MAAMsa,WACjB1b,KAAM2B,KAAKP,MAAMpB,KACjBoZ,UAAW,SAACD,EAAKiD,EAAKnD,GAAX,OAAsBnS,EAAK1F,MAAMgY,UAAUD,EAAKiD,EAAKnD,IAChEC,OAAQ,SAACC,EAAKiD,EAAKC,GAAX,OAAoBvV,EAAK1F,MAAM8X,OAAOC,EAAKiD,EAAKC,IACxD/C,WAAY,SAACH,EAAKiD,GAAN,OAActV,EAAK1F,MAAMkY,WAAWH,EAAKiD,IACrD/C,UAAW1X,KAAK0X,mBAYlB,4CAqBR,IAAM1X,KAAK2a,WAAW3a,KAAKP,MAAM6Z,OAAOhR,SAAUtI,KAAK2a,WAAW3a,KAAKP,MAAM6Z,OAAO/G,aACnF,OAAO,EAER,IAAIqI,EAAS,IAAIC,IAKjB,IAAK,IAAI/C,KAJT9X,KAAKP,MAAM6Z,OAAO9C,KAAKpH,QAAQ,SAAAkH,GAC9BsE,EAAOE,IAAIxE,EAAIzN,MAGF7I,KAAKP,MAAM2W,QAAS,CACjC,IAAIC,EAASrW,KAAKP,MAAM2W,QAAQ0B,GAChC,IAAK9X,KAAK+a,WAAW1E,EAAOG,KAAMoE,GACjC,OAAO,EAGT,OAAO,qCAGGI,GACV,IAAIC,EAAYrR,SAASsR,eAAe,oBACxC,OAAKD,GAAiC,KAApBA,EAAUxM,SAEvBuM,KAEDA,EAAOG,cAAc7L,SAAS2L,EAAUxM,MAAM0M,kDAOxCC,EAAYR,GACtB,IAAIS,GAAW,EACf,IAAK,IAAIvD,KAAKsD,EAAY,CACzB,IAAIE,EAAW1R,SAASsR,eAAe,YAAcE,EAAWtD,GAAGjP,IACnE,GAAIyS,GAAYA,EAASlD,UACxBiD,GAAW,EACPT,EAAOW,IAAIH,EAAWtD,GAAGjP,KAC5B,OAAO,EAGV,OAAOwS,iCAGDG,GACN,IAAMhF,EAAOxW,KAAKP,MAAM6Z,OAAO9C,KAAK3S,OAAO,SAAAyS,GAE1C,OAAOA,EAAImF,gBAAkBnF,EAAImF,eAAe1X,MAAQuS,EAAImF,eAAe1X,KAAKoX,gBAAkBK,EAAWL,gBAE9G,OAAO3E,GAAQA,EAAK1I,OAAS,EAAI0I,EAAK,GAAK,0CAG/BF,GACZ,GAAIA,EAAK,CACR,GAA+B,QAA3BA,EAAIvS,KAAKoX,eAAsD,SAA3B7E,EAAIvS,KAAKoX,cAChD,OACCtb,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBAKlB,GAA+B,WAA3BiP,EAAIvS,KAAKoX,cACZ,OACCtb,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBACfxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBAIlB,GAA+B,SAA3BiP,EAAIvS,KAAKoX,eAAuD,SAA3B7E,EAAIvS,KAAKoX,cACjD,OACCtb,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eAAf,KACAxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eAAf,KACAxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBAAf,MAKJ,OAAO,YAjPYnH,IAAMC,WAyPZC,qBALS,SAACqK,GACxB,MAAQ,CACPhF,MAAOgF,EAAMhF,QAGArF,CAAyBsZ,IC/PlCgC,8MAwIL/D,WAAa,SAACgE,GACb,IAAMpZ,EAAO,CACZ+U,OAAQ,OACRgC,OAAQqC,EAAUrC,OAAOzQ,GACzB+S,iBAAkBD,EAAUC,iBAAiB/S,IAE9CzG,EAAS9B,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAK,WAAa8S,EAAU9S,GAAItG,GAAMyM,KAAK,SAAArN,GACrFG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRzP,EAAKC,MAAMN,gBAAgBwC,EAAKV,MAChCzB,EAAKsc,YAAYH,EAAUrC,WAE1ByC,MAAM,SAAAC,GACRla,QAAQC,IAAIia,QAIdC,eAAiB,SAACN,GACjB,IAAMrE,EAASqE,EAAUrE,OACzBjU,EAAU,GAAAT,OAAItC,EAAKub,KAAT,KAAAjZ,OAAiBpD,EAAKC,MAAMpB,KAAKwK,GAAjC,YAAAjG,OAA8C+Y,EAAU9S,KAAMmG,KAAK,SAAArN,GAC5EG,QAAQC,IAAIJ,GACRA,EAAKsN,UACO,SAAXqI,GACH9X,EAAKC,MAAMX,oBAAoB6c,GACjB,SAAXrE,IACH9X,EAAKC,MAAMP,oBAAoByc,GAC/Bnc,EAAK0c,iBAAiBP,EAAUrC,eAMpC4C,iBAAmB,SAAC5C,GACnB9Z,EAAK2c,iBAAiB,wBAAyB,GAC/C7C,EAAO9C,KAAKpH,QAAQ,SAAAkH,GACfA,EAAImF,gBAA8C,aAA5BnF,EAAImF,eAAe1X,MAC5CvE,EAAK4c,WAAW9F,EAAIzN,IAAK,KAG3BlI,OAAOuI,KAAK1J,EAAKC,MAAMpB,KAAKge,OAAOjN,QAAQ,SAAAvI,GAC1CrH,EAAKC,MAAMoW,sBAAsBrW,EAAKC,MAAMpB,KAAKge,MAAMxV,SAiCzDuV,WAAa,SAACE,EAAOC,GACpB,IAAItb,EAAOzB,EAAKC,MAAM+V,cAAc3R,OAAO,SAAA5C,GAC1C,QAAIA,EAAKqV,MACRxU,QAAQC,IAAId,EAAKqV,KACVrV,EAAKqV,MAAQgG,KAGnB,GACH,GAAKrb,EAAL,CAIA,IAAMsB,EAAO,CACZkM,MAASxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,GAE1Dna,EAAS9B,EAAKkc,KAAO,IAAMvb,EAAK4H,GAAItG,GAAMyM,KAAK,SAAArN,GAC9CG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRhO,EAAIN,OAAAwM,EAAA,EAAAxM,CAAA,GACAM,EADA,CAEHwN,MAAOxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,IAExD/c,EAAKC,MAAMqW,gBAAgB7U,WAb5Ba,QAAQC,IAAI,0BAA4Bua,4EAxNzC,OAECzc,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACdxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,sCAAsCrH,KAAKP,MAAM6I,OAC/DzI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACdxH,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,aAAaE,MAAO,CAAE1B,MAAO,SAC5C7F,KAAKP,MAAMyK,KACXrK,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,eAChBxH,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,qBAGA,KACHF,EAAAC,EAAAC,cAAA,aACEC,KAAKP,MAAMyK,KAAOlK,KAAKyc,sBAAsBzc,KAAKP,MAAMid,YAAc1c,KAAK2c,cAAc3c,KAAKP,MAAMid,sDAO7FE,GAAiB,IAAAzX,EAAAnF,KAC9B,OAAK4c,GAAmBA,EAAgB9O,QAAU,EAEhDjO,EAAAC,EAAAC,cAAA,MAAI8G,IAAI,KAAIhH,EAAAC,EAAAC,cAAA,MAAI8c,QAAQ,QAAOhd,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,uCAAb,8BAA8ExH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAMqT,SAA3B,gBAIxGnY,OAAOuI,KAAK0T,GAAiBnW,IAAI,SAAAI,GACvC,IAAI8U,EAAYiB,EAAgB/V,GAC5ByS,EAASqC,EAAUrC,OACvB,OACCzZ,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GAIRhH,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACsa,GAAD,CAAS/R,MAAM,YAAYuO,KAAM8E,EAAUC,iBAAiB7X,MAC3DlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACdxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,yBAAyBE,MAAO,CAAEuV,UAAW,SAAU/U,SAAU,aAIpFlI,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACbxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACdxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKuC,EAAK1F,MAAMgG,MAAMqT,QAAtB,KAAAlW,OAAiC0W,EAAOzQ,KAC/ChJ,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,0BAA0BiS,EAAOhR,UAIlDzI,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACuB,SAAnCsU,EAAUrE,OAAO6D,cACjBtb,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,gBACbhX,EAAAC,EAAAC,cAAA,UAAQR,QAAS,kBAAM4F,EAAKwS,WAAWgE,IAAYtU,UAAU,wBAA7D,IAAqFxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,gBAAlG,MAEDxH,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,oBACbhX,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,yBAAyB9H,QAAS,kBAAM4F,EAAK8W,eAAeN,KAA9E,IAA2F9b,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,gBAAxG,OAIFxH,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,sFACbhX,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,yBAAyB9H,QAAS,kBAAM4F,EAAK8W,eAAeN,KAA9E,IAA2F9b,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAxG,wDAUeuV,GACrB,OAAKA,GAAmBA,EAAgB9O,QAAU,EAEhDjO,EAAAC,EAAAC,cAAA,MAAI8G,IAAI,KAAIhH,EAAAC,EAAAC,cAAA,MAAI8c,QAAQ,QAAOhd,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,uCAAb,8BAA8ExH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAMqT,SAA3B,gBAIxGnY,OAAOuI,KAAK0T,GAAiBnW,IAAI,SAAAI,GACvC,IAAI8U,EAAYiB,EAAgB/V,GAC5ByS,EAASqC,EAAUrC,OACvB,OACCzZ,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GACRhH,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACdxH,EAAAC,EAAAC,cAAA,SAAI4b,EAAUC,iBAAiB7X,QAGjClE,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACbxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACdxH,EAAAC,EAAAC,cAAA,UAAKuZ,EAAOhR,SAGdzI,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACbxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACbiS,EAAOJ,QACPvY,OAAOuI,KAAKoQ,EAAOJ,SAASzS,IAAI,SAAAI,GAC/B,OAAQhH,EAAAC,EAAAC,cAAA,aAAKuZ,EAAOJ,QAAQrS,GAAK9C,KAAzB,OAEP,iBAGLlE,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACbxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACbiS,EAAOJ,QACPvY,OAAOuI,KAAKoQ,EAAOJ,SAASzS,IAAI,SAAAI,GAC/B,OAAQhH,EAAAC,EAAAC,cAAA,aAAKF,EAAAC,EAAAC,cAAA,aAAKuZ,EAAOJ,QAAQrS,GAAKkW,YAAczD,EAAOJ,QAAQrS,GAAKkW,YAAYxP,MAAQ,KAA/E,KAAL,OAGP,iBAGL1N,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACbxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACbiS,EAAOJ,QACPvY,OAAOuI,KAAKoQ,EAAOJ,SAASzS,IAAI,SAAAI,GAC/B,OAAQhH,EAAAC,EAAAC,cAAA,aAAKF,EAAAC,EAAAC,cAAA,aAAKuZ,EAAOJ,QAAQrS,GAAKkW,YAAczD,EAAOJ,QAAQrS,GAAKkW,YAAYzP,MAAQ,KAA/E,KAAL,OAEP,iEAsDGgM,GAAQ,IAAAvQ,EAAA/I,KACnBA,KAAKmc,iBAAiB,uBAAwB,GAC9C7C,EAAO9C,KAAKpH,QAAQ,SAAAkH,GACfA,EAAImF,gBAA8C,aAA5BnF,EAAImF,eAAe1X,MAC5CgF,EAAKqT,WAAW9F,EAAIzN,GAAI,KAG1BlI,OAAOuI,KAAKlJ,KAAKP,MAAMpB,KAAKge,OAAOjN,QAAQ,SAAAvI,GAC1CkC,EAAKtJ,MAAMkW,mBAAmB5M,EAAKtJ,MAAMpB,KAAKge,MAAMxV,+CAGrC9C,EAAMwY,GAAQ,IAAAxS,EAAA/J,KAC1BiB,EAAOjB,KAAKP,MAAM+V,cAAc3R,OAAO,SAAA5C,GAC1C,OAAOA,EAAK8C,OAASA,IACnB,GAEGxB,EAAO,CACZkM,MAASxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,GAE1Dna,EAAS9B,EAAKkc,KAAO,IAAMvb,EAAK4H,GAAItG,GAAMyM,KAAK,SAAArN,GAC9CG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRhO,EAAIN,OAAAwM,EAAA,EAAAxM,CAAA,GACAM,EADA,CAEHwN,MAAOxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,IAExDxS,EAAKtK,MAAMqW,gBAAgB7U,aA7MZf,IAAMC,WAsPnB6c,GAAqB,CAC1B7d,kBAAiBL,sBAAqBI,sBAAqB4W,mBAAiBH,sBAAoBE,0BAGlFzV,qBAdS,SAACqK,GACxB,MAAO,CACNpM,KAAMoM,EAAMpM,KAAK6L,KACjBvL,KAAM8L,EAAMpM,KAAKM,KACjBK,KAAMyL,EAAMpM,KAAKW,KACjBwW,cAAe/K,EAAMC,KAAK8K,cAC1B/P,MAAOgF,EAAMhF,QAQyBuX,GAAzB5c,CAA6Csb,ICtPtDuB,eACL,SAAAA,EAAYxd,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAid,IAClBzd,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAsc,GAAA7Y,KAAApE,KAAMP,KAqFP8X,OAAS,SAACC,EAAKiD,EAAKC,GACnB,IAAKlb,EAAKC,MAAMd,KAAM,OAAO,EAC7B,IAAMue,EAAY1d,EAAKC,MAAMd,KAAKkF,OAAO,SAAA8X,GAAe,OAAOtD,OAAOsD,EAAUrC,OAAOzQ,MAAQwP,OAAOb,IAAQa,OAAOsD,EAAUC,iBAAiB/S,MAAQwP,OAAOoC,KAC/J,GAAa,SAATC,EAAmB,OAAOwC,EAAUpP,OAAS,EAEjD,IAAKtO,EAAKC,MAAMT,KAAM,OAAO,EAC7B,IAAMme,EAAY3d,EAAKC,MAAMT,KAAK6E,OAAO,SAAA8X,GAAe,OAAOtD,OAAOsD,EAAUrC,OAAOzQ,MAAQwP,OAAOb,IAAQa,OAAOsD,EAAUC,iBAAiB/S,MAAQwP,OAAOoC,KAC/J,MAAa,SAATC,EAAwByC,EAAUrP,OAAS,EAExCoP,EAAUpP,OAAS,GAAKqP,EAAUrP,OAAS,GA/FhCtO,EAiGnBmY,WAAa,SAACgE,GACb,IAAMpZ,EAAO,CACZ+U,OAAQ,OACRgC,OAAQqC,EAAUrC,OAAOzQ,GACzB+S,iBAAkBD,EAAUC,iBAAiB/S,IAE9CzG,EAAS9B,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAK,WAAa8S,EAAU9S,GAAItG,GAAMyM,KAAK,SAAArN,GACrFG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRzP,EAAKC,MAAMN,gBAAgBwC,EAAKV,MAChCzB,EAAKsc,YAAYna,EAAKV,KAAKqY,QAC3B9Z,EAAK8E,SAAS,CAAE8Y,gBAAiBzB,EAAUrC,OAAOzQ,QAGjDkT,MAAM,SAAAC,GACRla,QAAQC,IAAIia,MAhHKxc,EA6HnBiY,UAAY,SAACD,EAAKiD,EAAKnD,GACtB,IAAM/U,EAAO,CACZ+W,OAAQ9B,EACRF,OAAQA,EACRsE,iBAAkBnB,GAEnBjb,EAAK8E,SAAS,CAAE8Y,gBAAiB,OACjCtb,QAAQC,IAAIvC,EAAKC,MAAMpB,KAAKwK,IAC5BzG,EAAS9B,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAK,WAAYtG,GAAMyM,KAAK,SAAArN,GACtEG,QAAQC,IAAIJ,GACRA,EAAKsN,UAEO,SAAXqI,EACH9X,EAAKC,MAAMb,eAAe+C,EAAKV,MAEZ,SAAXqW,IACR9X,EAAKC,MAAMR,eAAe0C,EAAKV,MAC/BzB,EAAKsc,YAAYna,EAAKV,KAAKqY,QAC3B9Z,EAAK8E,SAAS,CAAE8Y,gBAAiB5F,QAGjCuE,MAAM,SAAA1M,GACRvN,QAAQC,IAAIsN,MAjJb7P,EAAKmF,MAAQ,CACZ0Y,QAAQ,EACRC,YAAa,KACbF,gBAAiB,MAElB5d,EAAK+d,aAAe/d,EAAK+d,aAAaxY,KAAlBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAPFA,wEAUlB,OACCK,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,kBAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAACoF,UAAU,KAEhD9M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OAEdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,0DACdxH,EAAAC,EAAAC,cAAC0d,GAAD,CACCrH,QAASpW,KAAKP,MAAM2W,QACpB7H,SAAUvO,KAAKud,eAEfvd,KAAKP,MAAMpB,KACXwB,EAAAC,EAAAC,cAAA,WACEC,KAAKP,MAAMd,KACXkB,EAAAC,EAAAC,cAAC2d,GAAD,CAAMpV,MAAM,aAAaoU,WAAY1c,KAAKP,MAAMd,KAAM2Y,OAAO,SAAY,KACzEtX,KAAKP,MAAMT,KACXa,EAAAC,EAAAC,cAAC2d,GAAD,CAAMpV,MAAM,oBAAoBoU,WAAY1c,KAAKP,MAAMT,KAAMsY,OAAO,SAAY,MAGlFzX,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAK5C,KAAKP,MAAMgG,MAAM+E,SAA9B,aADD,mEAOH3K,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yCACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,MAAMwB,GAAG,qBACtB7I,KAAK2c,cAAc3c,KAAKP,MAAMqZ,uDAYvC9Y,KAAK0E,oDAGQoU,GAAS,IAAA3T,EAAAnF,KACtB,OAAK8Y,GAA8B,IAAnBA,EAAQhL,OAIjBnN,OAAOuI,KAAK4P,GAASrS,IAAI,SAAAI,GAC/B,IAAIyS,EAASR,EAAQjS,GACrB,OAAOhH,EAAAC,EAAAC,cAAC4d,GAAD,CAAQ9W,IAAKA,EACnByS,OAAQA,EAERlD,QAASjR,EAAK1F,MAAM2W,QACpBwH,MAAOzY,EAAK1F,MAAMme,MAClBvf,KAAM8G,EAAK1F,MAAMpB,KAEjBoZ,UAAW,SAACD,EAAKiD,EAAKnD,GAAX,OAAsBnS,EAAKsS,UAAUD,EAAKiD,EAAKnD,IAC1DC,OAAQ,SAACC,EAAKiD,EAAKC,GAAX,OAAoBvV,EAAKoS,OAAOC,EAAKiD,EAAKC,IAClD/C,WAAY,SAACH,EAAKiD,GAAN,OAActV,EAAK0Y,qBAAqBrG,EAAKiD,IAEzDV,WAAY5U,EAAKR,MAAM2Y,cAAgBhE,EAAOzQ,GAC9CyR,oBAAqBnV,EAAKR,MAAMyY,kBAAoB9D,EAAOzQ,GAC3DgR,YAAa,kBAAM1U,EAAKb,SAAS,CAAEgZ,YAAa,QAChD1D,WAAY,SAACpC,GAAD,OAASrS,EAAKb,SAAS,CAAEgZ,YAAa9F,SAnB5C3X,EAAAC,EAAAC,cAAA,qIAwDYyX,EAAKiD,GACzB3Y,QAAQC,IAAIyV,EAAM,IAAMiD,GACxB,IAAMkB,EAAY3b,KAAKP,MAAMd,KAAKkF,OAAO,SAAA8X,GACxC,OAAOtD,OAAOsD,EAAUrC,OAAOzQ,MAAQwP,OAAOb,IAAQa,OAAOsD,EAAUC,iBAAiB/S,MAAQwP,OAAOoC,KACrG,GACH3Y,QAAQC,IAAI4Z,GACRA,GACH3b,KAAK2X,WAAWgE,uCA6BNrC,GAAQ,IAAAvQ,EAAA/I,KACnBA,KAAKmc,iBAAiB,uBAAwB,GAC9C7C,EAAO9C,KAAKpH,QAAQ,SAAAkH,GACfA,EAAImF,gBAA8C,aAA5BnF,EAAImF,eAAe1X,MAC5CgF,EAAKqT,WAAW9F,EAAIzN,GAAI,KAG1BlI,OAAOuI,KAAKlJ,KAAKP,MAAMpB,KAAKge,OAAOjN,QAAQ,SAAAvI,GAC1CkC,EAAKtJ,MAAMkW,mBAAmB5M,EAAKtJ,MAAMpB,KAAKge,MAAMxV,+CAGrC9C,EAAMwY,GAAQ,IAAAxS,EAAA/J,KAC1BiB,EAAOjB,KAAKP,MAAM+V,cAAc3R,OAAO,SAAA5C,GAC1C,OAAOA,EAAK8C,OAASA,IACnB,GAEGxB,EAAO,CACZkM,MAASxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,GAE1Dna,EAAS9B,EAAKkc,KAAO,IAAMvb,EAAK4H,GAAItG,GAAMyM,KAAK,SAAArN,GAC9CG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRhO,EAAIN,OAAAwM,EAAA,EAAAxM,CAAA,GACAM,EADA,CAEHwN,MAAOxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,IAExDxS,EAAKtK,MAAMqW,gBAAgB7U,yCAInBqb,EAAOC,GAAQ,IAAA1R,EAAA7K,KACrBiB,EAAOjB,KAAKP,MAAM+V,cAAc3R,OAAO,SAAA5C,GAC1C,QAAIA,EAAKqV,MACRxU,QAAQC,IAAId,EAAKqV,KACVrV,EAAKqV,MAAQgG,KAGnB,GACH,GAAKrb,EAAL,CAIA,IAAMsB,EAAO,CACZkM,MAASxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,GAE1Dna,EAAS9B,EAAKkc,KAAO,IAAMvb,EAAK4H,GAAItG,GAAMyM,KAAK,SAAArN,GAC9CG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRhO,EAAIN,OAAAwM,EAAA,EAAAxM,CAAA,GACAM,EADA,CAEHwN,MAAOxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,IAExD1R,EAAKpL,MAAMqW,gBAAgB7U,WAb5Ba,QAAQC,IAAI,0BAA4Bua,UA/LjBpc,IAAMC,WA+N1B6c,GAAqB,CAC1B/d,iBACAL,iBACAO,kBACA2W,mBACAH,uBAEcvV,qBArBS,SAACqK,GACxB,MAAO,CACN9K,KAAM8K,EAAM/K,SAASC,KACrBtB,KAAMoM,EAAMpM,KAAK6L,KACjBvL,KAAM8L,EAAMpM,KAAKM,KACjBK,KAAMyL,EAAMpM,KAAKW,KACjB8Z,QAASrO,EAAMC,KAAKoO,QACpB1C,QAAS3L,EAAMC,KAAK0L,QACpB9Q,SAAUmF,EAAMC,KAAKoT,YACrBtI,cAAe/K,EAAMC,KAAK8K,cAC1B/P,MAAOgF,EAAMhF,QAWyBuX,GAAzB5c,CAA6C6c,ICvOtDc,eACL,SAAAA,EAAYte,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAA+d,IAClBve,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAod,GAAA3Z,KAAApE,KAAMP,KAkMPue,eAAiB,WAChB,IAAIjW,EAAW,OACXvD,OAAOI,WAAa,MACvBmD,EAAW,QAERA,IAAavI,EAAKmF,MAAMoD,UAC3BvI,EAAK8E,SAAS,CACbyD,SAAUA,KA1MMvI,EA8MnBma,SAAW,SAACrC,GACX9X,EAAK8E,SAAS,CACbgT,OAAQA,KAhNS9X,EAmNnBkY,UAAY,WACXlY,EAAK8E,SAAS,CACbgT,OAAQ,QArNS9X,EAmOnBye,cAAgB,SAACC,GAChB,OAAuB,IAAnBA,EAAQpQ,OACJjO,EAAAC,EAAAC,cAAA,+CAEPF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KAIE1H,OAAOuI,KAAKgV,GAASzX,IAAI,SAACI,GAC1B,IAAMsX,EAAQD,EAAQrX,GAChBgN,EAAO,IAAID,KAAKuK,EAAMC,YAC5B,GAAIvX,EAAMrH,EAAKmF,MAAM0Z,aACpB,OACCxe,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oBAAoBR,IAAKA,GACvChH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACdxH,EAAAC,EAAAC,cAAA,OAAKmI,IAAI,GAAGE,IAAI,MAEjBvI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kBACdxH,EAAAC,EAAAC,cAAA,UAAKoe,EAAM9f,KAAKigB,UAAhB,WAA8BzK,EAAK0K,qBAAnC,OAGF1e,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QACdxH,EAAAC,EAAAC,cAAA,UACEoe,EAAM7V,MACN9I,EAAKmF,MAAM6Z,UAAYhf,EAAKmF,MAAM6Z,WAAaL,EAAMtV,GACrDhJ,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAUE,MAAO,CAAE6R,MAAO,SAAW7Z,QAAS,WAAQC,EAAK8E,SAAS,CAAEka,SAAU,SAAlG,SAA8H,MAIhI3e,EAAAC,EAAAC,cAAA,SAAIP,EAAKmF,MAAM6Z,UAAYhf,EAAKmF,MAAM6Z,WAAaL,EAAMtV,GAAKsV,EAAM5b,KAAO4b,EAAM5b,KAAK8R,UAAU,EAAG7U,EAAKmF,MAAM8T,OAC5GjZ,EAAKmF,MAAM8T,MAAQ0F,EAAM5b,KAAKuL,QAAUtO,EAAKmF,MAAM6Z,WAAaL,EAAMtV,GACtEhJ,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAUE,MAAO,CAAE6R,MAAO,SAAW7Z,QAAS,WAAQC,EAAK8E,SAAS,CAAEka,SAAUL,EAAMtV,OAAxG,WAEA,OAIFsV,EAAM3F,OACN3Y,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QACdxH,EAAAC,EAAAC,cAAA,qCAA4BF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKpD,EAAKC,MAAMgG,MAAMgZ,SAAtB,KAAA7b,OAAkCub,EAAM3F,OAAO3P,KAAOsV,EAAM3F,OAAOzU,QAC/F,WA7QCvE,EAkSnB+X,OAAS,SAACC,EAAKiD,EAAKC,GACnB,IAAKlb,EAAKC,MAAMd,KAAM,OAAO,EAC7B,IAAMue,EAAY1d,EAAKC,MAAMd,KAAKkF,OAAO,SAAA8X,GAAe,OAAOtD,OAAOsD,EAAUrC,OAAOzQ,MAAQwP,OAAOb,IAAQa,OAAOsD,EAAUC,iBAAiB/S,MAAQwP,OAAOoC,KAC/J,GAAa,SAATC,EAAmB,OAAOwC,EAAUpP,OAAS,EAEjD,IAAKtO,EAAKC,MAAMT,KAAM,OAAO,EAC7B,IAAMme,EAAY3d,EAAKC,MAAMT,KAAK6E,OAAO,SAAA8X,GAAe,OAAOtD,OAAOsD,EAAUrC,OAAOzQ,MAAQwP,OAAOb,IAAQa,OAAOsD,EAAUC,iBAAiB/S,MAAQwP,OAAOoC,KAC/J,MAAa,SAATC,EAAwByC,EAAUrP,OAAS,EAExCoP,EAAUpP,OAAS,GAAKqP,EAAUrP,OAAS,GA3ShCtO,EA6SnBmY,WAAa,SAACgE,GACb,IAAMpZ,EAAO,CACZ+U,OAAQ,OACRgC,OAAQqC,EAAUrC,OAAOzQ,GACzB+S,iBAAkBD,EAAUC,iBAAiB/S,IAE9CzG,EAAS9B,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAK,WAAa8S,EAAU9S,GAAItG,GAAMyM,KAAK,SAAArN,GACrFG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRzP,EAAKC,MAAMN,gBAAgBwC,EAAKV,MAChCzB,EAAKsc,YAAYna,EAAKV,KAAKqY,QAC3B9Z,EAAK8E,SAAS,CAAEgW,qBAAqB,OAGpCyB,MAAM,SAAAC,GACRla,QAAQC,IAAIia,MA5TKxc,EAuUnBiY,UAAY,SAACD,EAAKiD,EAAKnD,GACtB,IAAM/U,EAAO,CACZ+W,OAAQ9B,EACRF,OAAQA,EACRsE,iBAAkBnB,GAEnBrY,EAAS9B,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAK,WAAYtG,GAAMyM,KAAK,SAAArN,GACtEG,QAAQC,IAAIJ,GACRA,EAAKsN,UAEO,SAAXqI,EACH9X,EAAKC,MAAMb,eAAe+C,EAAKV,MAEZ,SAAXqW,IACR9X,EAAKC,MAAMR,eAAe0C,EAAKV,MAC/BzB,EAAKsc,YAAYna,EAAKV,KAAKqY,QAC3B9Z,EAAK8E,SAAS,CAAEgW,qBAAqB,QAGrCyB,MAAM,SAAA1M,GACRvN,QAAQC,IAAIsN,MAzVb7P,EAAKmF,MAAQ,CACZ2S,OAAQ,KACRmB,MAAO,IACP+F,SAAU,KACVlE,qBAAqB,EACrB+D,aAAc,EACdK,IAAK,eAENlf,EAAK+d,aAAe/d,EAAK+d,aAAaxY,KAAlBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAVFA,mFAalBgF,OAAOS,iBAAiB,SAAUjF,KAAKge,iDAG/B,IAAA7Y,EAAAnF,KACR,IAAKA,KAAKP,MAAMqZ,QACf,OAAOjZ,EAAAC,EAAAC,cAAC4e,GAAD,MAER,IAAMrF,EAAStZ,KAAKP,MAAMqZ,QAAQjV,OAAO,SAAAyV,GACxC,OAAOA,EAAOzQ,KAAOwP,OAAOlT,EAAK1F,MAAMme,MAAMgB,OAAO/V,MAClD,GAEH,OADA7I,KAAKge,iBAEJne,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE2B,KAAMpH,KAAKP,MAAMgG,MAAMqT,QAAS/U,KAAM,eAAiB,CAAEA,KAAI,UAAAnB,OAAY0W,EAAOzQ,QACzGhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACdxH,EAAAC,EAAAC,cAAA,WAASsH,UAAU,oBAClBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,MAAME,MAAO,CAAEsX,aAAc,MAAOC,YAAa,QAC/Djf,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,YACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2BACbrH,KAAK+e,aAAazF,KAIpBtZ,KAAKP,MAAMpB,KACXwB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WAAWE,MAAO,CAAEsX,aAAc,MAAOC,YAAa,QACpEjf,EAAAC,EAAAC,cAAC2d,GAAD,CAAMpV,MAAM,aAAaoU,WAAY1c,KAAKP,MAAMd,KAAM2Y,OAAO,OAAOK,WAAY3X,KAAK2X,aACrF9X,EAAAC,EAAAC,cAAC2d,GAAD,CAAMpV,MAAM,oBAAoBoU,WAAY1c,KAAKP,MAAMT,KAAMsY,OAAO,OAAOK,WAAY3X,KAAK2X,cAG7F9X,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WAAWE,MAAO,CAAEsX,aAAc,MAAOC,YAAa,QACpEjf,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAM+E,QAA3B,aADD,4GAeI8O,GAAQ,IAAAvQ,EAAA/I,KACpB,IAAKA,KAAKP,MAAMye,QACf,OAAOre,EAAAC,EAAAC,cAAC4e,GAAD,MAER,IAAMT,EAAUle,KAAKP,MAAMye,QAAQra,OAAO,SAAAsa,GACzC,OAAOA,EAAM7E,OAAOzQ,KAAOwP,OAAOtP,EAAKtJ,MAAMme,MAAMgB,OAAO/V,MAE3D,OACChJ,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,sBAEdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACdxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,YAAYE,MAAO,CAAEG,QAAS,qBAAuB4R,EAAOhR,QAE3EzI,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WAAWE,MAAO,CAAEI,WAAY,SAI9C9H,EAAAC,EAAAC,cAAA,WACEC,KAAKP,MAAMpB,KAOZwB,EAAAC,EAAAC,cAAA,UACCsH,UAAiC,SAAtBrH,KAAK2E,MAAM2S,OAAoB,iDAAmD,wCAC7F/X,QAAS,kBAAMwJ,EAAK4Q,SAAS,UAF9B,cANA9Z,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,+BACbhX,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,yCAAb,aAPH,OAkB2BrH,KAAKP,MAAMpB,KAOpCwB,EAAAC,EAAAC,cAAA,UACCsH,UAAiC,SAAtBrH,KAAK2E,MAAM2S,OAAoB,kDAAoD,yCAC9F/X,QAAS,kBAAMwJ,EAAK4Q,SAAS,UAF9B,aANA9Z,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,wCACbhX,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,wCAAb,YAUDrH,KAAK2E,MAAM2S,OACXzX,EAAAC,EAAAC,cAAA,OAAKwH,MAAO,CAAEqB,WAAY,SACzB/I,EAAAC,EAAAC,cAACya,GAAD,CACChD,IAAK8B,EAAOzQ,GACZyO,OAAQtX,KAAK2E,MAAM2S,OAEnB9O,OAAMxI,KAAK2E,MAAM2S,OACjBjZ,KAAM2B,KAAKP,MAAMpB,KACjBoZ,UAAW,SAACD,EAAKiD,EAAKnD,GAAX,OAAsBvO,EAAK0O,UAAUD,EAAKiD,EAAKnD,IAC1DC,OAAQ,SAACC,EAAKiD,EAAKC,GAAX,OAAoB3R,EAAKwO,OAAOC,EAAKiD,EAAKC,IAClD/C,WAAY,SAACH,EAAKiD,GAAN,OAAc1R,EAAK8U,qBAAqBrG,EAAKiD,IACzD/C,UAAW1X,KAAK0X,YAVlB,KAYE,KAEF1X,KAAK2E,MAAM2V,oBACXza,EAAAC,EAAAC,cAAA,sFAA6EF,EAAAC,EAAAC,cAAA,KAAGmH,KAAK,qBAAqBG,UAAU,UAAUE,MAAO,CAAEvB,QAAS,gBAAkBzG,QAAS,kBAAMwJ,EAAKzE,SAAS,CAAEoa,IAAK,mBAAzH,eAA7E,KACE,OAKL7e,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,sBAAqBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WAClDxH,EAAAC,EAAAC,cAAA,OAAKmI,IAAKoR,EAAO9T,MAAQ8T,EAAO9T,MAAMxE,IAAM,KAAMoH,IAAI,GAAG4W,iBAAe,OAAO3X,UAAU,iBAAiBE,MAAO,CAAEoF,UAAW,cAKjI9M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACdxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,yBAEbxH,EAAAC,EAAAC,cAAA,MAAI8I,GAAG,UAAUxB,UAA8B,gBAAnBrH,KAAK2E,MAAM+Z,IAAwB,SAAW,IACzE7e,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,YAAYE,MAAO,CAAEQ,SAAU/H,KAAK2E,MAAMoD,UAAYxI,QAAS,WAChFwJ,EAAKzE,SAAS,CAAEoa,IAAK,iBACnBO,cAAY,OAFf,gBAGDpf,EAAAC,EAAAC,cAAA,MAAI8I,GAAG,WAAWxB,UAA8B,UAAnBrH,KAAK2E,MAAM+Z,IAAkB,SAAW,IACpE7e,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,YAAWE,MAAO,CAAEQ,SAAU/H,KAAK2E,MAAMoD,UAAYxI,QAAS,WAC/EwJ,EAAKzE,SAAS,CAAEoa,IAAK,WACnBO,cAAY,OAFf,kBAGDpf,EAAAC,EAAAC,cAAA,MAAI8I,GAAG,YAAYxB,UAA8B,iBAAnBrH,KAAK2E,MAAM+Z,IAAyB,SAAW,IAC5E7e,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,YAAYE,MAAO,CAAEQ,SAAU/H,KAAK2E,MAAMoD,UAAYxI,QAAS,WAChFwJ,EAAKzE,SAAS,CAAEoa,IAAK,kBACnBO,cAAY,OAFf,kBAKFpf,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eAEdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAA8B,gBAAnBrH,KAAK2E,MAAM+Z,IAAwB,4BAA8B,qBAAsB7V,GAAG,QACzGhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2BACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oBACdxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAaiS,EAAO4F,UAKpCrf,EAAAC,EAAAC,cAAA,OAAKsH,UAA8B,UAAnBrH,KAAK2E,MAAM+Z,IAAkB,4BAA8B,qBAAsB7V,GAAG,SACnGhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2BACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oBACdxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAaiS,EAAO6F,kBAIpCtf,EAAAC,EAAAC,cAAA,OAAKsH,UAA8B,iBAAnBrH,KAAK2E,MAAM+Z,IAAyB,4BAA8B,qBAAsB7V,GAAG,UAC1GhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cAEbrH,KAAKie,cAAcC,GACnBle,KAAK2E,MAAM0Z,aAAeH,EAAQpQ,OAClCjO,EAAAC,EAAAC,cAAA,UAAQwH,MAAO,CAAE0D,OAAQ,oBAAsB5D,UAAU,UAAU9H,QAAS,kBAAMwJ,EAAKzE,SAAS,CAAE+Z,aAAcH,EAAQpQ,WAAxH,2BACE,MAIH9N,KAAKP,MAAMpB,KACXwB,EAAAC,EAAAC,cAAA,OAAK8I,GAAG,qBACPhJ,EAAAC,EAAAC,cAACwa,GAAD,CAAWtQ,IAAKjK,KAAKP,MAAMpB,KAAKwK,GAAI2O,IAAK8B,EAAOzQ,GAAIuW,SAAUpf,KAAKof,YAGpEvf,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAM+E,QAA3B,aADD,6FAiCIgM,GAEV,OADA1U,QAAQC,IAAIyU,GACL7V,OAAOuI,KAAKsN,GAAM/P,IAAI,SAACI,GAC7B,IAAIwY,EAAa,GAIjB,MAHsC,aAAlC7I,EAAK3P,GAAK4U,eAAe1X,OAC5Bsb,EAAa7I,EAAK3P,GAAK4U,eAAe1X,KAAO,KAEvClE,EAAAC,EAAAC,cAAA,QAAM8G,IAAKA,GAAX,IAAkBwY,EAAWxf,EAAAC,EAAAC,cAAA,SAAIyW,EAAK3P,GAAK9C,MAA3C,8CAyDR/D,KAAK0E,2DAsCe8S,EAAKiD,GACzB,IAAMkB,EAAY3b,KAAKP,MAAMd,KAAKkF,OAAO,SAAA8X,GACxC,OAAOtD,OAAOsD,EAAUrC,OAAOzQ,MAAQwP,OAAOb,IAAQa,OAAOsD,EAAUC,iBAAiB/S,MAAQwP,OAAOoC,KACrG,GACCkB,GACH3b,KAAK2X,WAAWgE,uCA4BNrC,GAAQ,IAAAvP,EAAA/J,KACnBA,KAAKmc,iBAAiB,uBAAwB,GAC9C7C,EAAO9C,KAAKpH,QAAQ,SAAAkH,GACfA,EAAImF,gBAA8C,aAA5BnF,EAAImF,eAAe1X,MAC5CgG,EAAKqS,WAAW9F,EAAIzN,GAAI,KAG1BlI,OAAOuI,KAAKlJ,KAAKP,MAAMpB,KAAKge,OAAOjN,QAAQ,SAAAvI,GAC1CkD,EAAKtK,MAAMkW,mBAAmB5L,EAAKtK,MAAMpB,KAAKge,MAAMxV,+CAGrC9C,EAAMwY,GAAQ,IAAA1R,EAAA7K,KAC1BiB,EAAOjB,KAAKP,MAAM+V,cAAc3R,OAAO,SAAA5C,GAC1C,OAAOA,EAAK8C,OAASA,IACnB,GAEGxB,EAAO,CACZkM,MAASxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,GAE1Dna,EAAS9B,EAAKkc,KAAO,IAAMvb,EAAK4H,GAAItG,GAAMyM,KAAK,SAAArN,GAC9CG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRhO,EAAIN,OAAAwM,EAAA,EAAAxM,CAAA,GACAM,EADA,CAEHwN,MAAOxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,IAExD1R,EAAKpL,MAAMqW,gBAAgB7U,yCAInBqb,EAAOC,GAAQ,IAAArR,EAAAlL,KACrBiB,EAAOjB,KAAKP,MAAM+V,cAAc3R,OAAO,SAAA5C,GAC1C,QAAIA,EAAKqV,MACRxU,QAAQC,IAAId,EAAKqV,KACVrV,EAAKqV,MAAQgG,KAGnB,GACH,GAAKrb,EAAL,CAIA,IAAMsB,EAAO,CACZkM,MAASxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,GAE1Dna,EAAS9B,EAAKkc,KAAO,IAAMvb,EAAK4H,GAAItG,GAAMyM,KAAK,SAAArN,GAC9CG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRhO,EAAIN,OAAAwM,EAAA,EAAAxM,CAAA,GACAM,EADA,CAEHwN,MAAOxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,IAExDrR,EAAKzL,MAAMqW,gBAAgB7U,WAb5Ba,QAAQC,IAAI,0BAA4Bua,UAxYfpc,IAAMC,WAsa5B6c,GAAqB,CAC1B/d,iBACAL,iBACAO,kBACA2W,mBACAH,uBAGcvV,qBApBS,SAACqK,GACxB,MAAO,CACN9K,KAAM8K,EAAM/K,SAASC,KACrBtB,KAAMoM,EAAMpM,KAAK6L,KACjBvL,KAAM8L,EAAMpM,KAAKM,KACjBK,KAAMyL,EAAMpM,KAAKW,KACjB8Z,QAASrO,EAAMC,KAAKoO,QACpBoF,QAASzT,EAAMC,KAAK4U,aACpB9J,cAAe/K,EAAMC,KAAK8K,cAC1B/P,MAAOgF,EAAMhF,QAWyBuX,GAAzB5c,CAA6C2d,ICnb7CwB,oLAPP,OACI1f,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,YAAYmY,UAAQ,GACjC3f,EAAAC,EAAAC,cAAA,UAAQmI,IAAKlI,KAAKP,MAAM2H,KAAM7I,KAAK,sBAJ/B2B,IAAMC,gCCEpBsf,WCEoBvf,IAAMC,2LDAxB,OACIN,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBAAuBE,MAAO,CAACmY,gBAAiB,gBAC3D7f,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aAAarH,KAAKP,MAAMkgB,eACtC9f,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAMoK,QAAQhQ,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,uCAAlB,mBAN3BnH,IAAMC,YAgBfC,qBALS,SAACqK,GACrB,MAAO,CACHhF,MAAOgF,EAAMhF,QAGNrF,CAAyBqf,IERlCG,oLACI,IAAApgB,EAAAQ,KACR,IAAKA,KAAKP,MAAM6F,WAAatF,KAAKP,MAAM8F,UACvC,OAAO1F,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAb,4FAGR,IAAKrH,KAAKP,MAAMogB,gBAMf,OALApf,EAAQH,EAAKwf,sBAAwB9f,KAAKP,MAAM8F,UAAUsD,IAAImG,KAAK,SAAArN,GAC9DA,EAAKsN,SAAWtN,EAAKV,MACxBzB,EAAKC,MAAMsgB,yBAAyBpe,EAAKV,KAAK+e,WAGzCngB,EAAAC,EAAAC,cAAC4e,GAAD,MAGkBjb,EAAQ1D,KAAKP,MAAM6F,SAAS1B,SAAU,iBAAiB,GAAMkR,OAAO,GAAGC,OAAjG,IACMkL,EAAQvc,EAAQ1D,KAAKP,MAAM6F,SAAS1B,SAAU,gBAAgB,GAC9Dsc,EAAYD,EAAMza,MAAQya,EAAMza,MAAMxE,IAAM,KAC5Cmf,EAAmBzc,EAAQ1D,KAAKP,MAAM6F,SAAS1B,SAAU,sBAAsB,GAAM2O,YACrFoN,EAAgBjc,EAAQ1D,KAAKP,MAAM6F,SAAS1B,SAAU,aAAa,GAAM2O,YAEvDvS,KAAKP,MAAMogB,gBAEnC,OACChgB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KAECxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,eAK/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uDACfxH,EAAAC,EAAAC,cAAA,OAAKwH,MAAO,CAAEoF,UAAW,MACxB9M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,wDACdxH,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,YAAYE,MAAO,CAAEG,QAAS,KAA5C,uBACR7H,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAb,4YAEDxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAW6Y,EAAY,kCAAoC,UAC/DrgB,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,YAAYE,MAAO,CAAEG,QAAS,KAA5C,SAAyD1H,KAAKP,MAAM8F,UAAUxB,KAA9E,eACRlE,EAAAC,EAAAC,cAACqgB,GAAD,CAAOhZ,KAAM8Y,IACbrgB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iCAAiCgZ,wBAAyB,CAAEC,OAAQH,OAQrFtgB,EAAAC,EAAAC,cAACwgB,GAAD,CAAWZ,cAAeA,YAhDJzf,IAAMC,WAgEjBC,qBATS,SAACqK,GAExB,MAAO,CACNlF,UAAWkF,EAAMC,KAAKnF,UACtBsa,gBAAiBpV,EAAMC,KAAKmV,gBAC5Bva,SAAUmF,EAAMC,KAAK8V,cAIiB,CAAET,yBd5BF,SAACU,GAAD,OAAY,SAAAniB,GAChD,OAAOA,EAAS,CACZC,KnBL6B,wBmBM7BC,QAASiiB,OcyBFrgB,CAAuDwf,ICzEhEc,oLAEO,IAEDjH,EACAzZ,KAAKP,MADLga,iBAGJ,OAAKA,GAAgD,IAA5BA,EAAiB3L,OAStCjO,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,wBAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAACoF,UAAU,KAC7C9M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACVrH,KAAK2gB,cAAclH,OAZhC5Z,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACXxH,EAAAC,EAAAC,cAAA,gJAmBFmZ,GAAS,IAAA1Z,EAAAQ,KACnB,OAAKkZ,GAA8B,IAAnBA,EAAQpL,OAOjBoL,EAAQzS,IAAI,SAAC+R,GAChB,OACI3Y,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2BAA2BR,IAAK2R,EAAOA,QAClD3Y,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,0BACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,sBACXxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKpD,EAAKC,MAAMgG,MAAMgZ,SAAtB,KAAA7b,OAAkC4V,EAAO3P,KAC7ChJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QAAQa,IAAKsQ,EAAOrQ,KAAKnH,IAAKoH,IAAKoQ,EAAOzU,QAE7DlE,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKpD,EAAKC,MAAMgG,MAAMgZ,SAAtB,KAAA7b,OAAkC4V,EAAO3P,KAC7ChJ,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,QAAQmR,EAAOzU,QAQrClE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACXxH,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAAA,sBACNF,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,UACTmR,EAAOiG,SAAShY,IAAI,SAAC6S,GAClB,OAAOzZ,EAAAC,EAAAC,cAAA,MAAI8G,IAAK2R,EAAOzU,KAAO,IAAMuV,EAAOzQ,IAAKyQ,EAAOvV,UAIlEyU,EAAOoI,QACJ/gB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mEACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,kBADpB,IAC6CmR,EAAOoI,QAAQnM,KAD5D,KACoE+D,EAAOoI,QAAQjc,OAC1E,KAEU,MAAtB6T,EAAOuE,YACJld,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACVmR,EAAOqI,UACJhhB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,KAAGmH,KAAM,KAAOsR,EAAOuE,YAAY8D,UAAUC,QAAShS,OAAO,SAASiS,IAAI,sBAAsB1Z,UAAU,oBAAmBxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,sBAC7IxH,EAAAC,EAAAC,cAAA,KAAGmH,KAAM,UAAYsR,EAAOuE,YAAYzP,MAAOjG,UAAU,oBAAmBxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,2BAC1F,MAGZ,UA7ClBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACXxH,EAAAC,EAAAC,cAAA,uGAjCOG,IAAMC,WA4FlBC,qBANS,SAACqK,GACrB,MAAO,CACHgP,iBAAkBhP,EAAMC,KAAK+O,iBAC7BhU,MAAOgF,EAAMhF,QAGmB,KAAzBrF,CAA+BsgB,IC3FxCM,eACF,SAAAA,EAAYvhB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAghB,IACfxhB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAqgB,GAAA5c,KAAApE,KAAMP,KAsFVwe,cAAgB,SAACC,GACb,OAAuB,IAAnBA,EAAQpQ,OACDjO,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eAAcxH,EAAAC,EAAAC,cAAA,0DAEpCF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KAIK1H,OAAOuI,KAAKgV,GAASzX,IAAI,SAACI,GACvB,IAAMsX,EAAQD,EAAQrX,GAChBgN,EAAO,IAAID,KAAKuK,EAAMC,YAC5B,OACIve,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oBAAoBR,IAAKA,EAAKU,MAAO,CAAEG,QAAS,IAC3D7H,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,OAAKmI,IAAI,GAAGE,IAAI,MAEpBvI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kBACXxH,EAAAC,EAAAC,cAAA,UAAKoe,EAAM9f,KAAKigB,UAAhB,WAA8BzK,EAAK0K,qBAAnC,OAGR1e,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QACXxH,EAAAC,EAAAC,cAAA,UACKoe,EAAM7V,MACN9I,EAAKmF,MAAM6Z,UAAYhf,EAAKmF,MAAM6Z,WAAaL,EAAMtV,GAClDhJ,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAUE,MAAO,CAAE6R,MAAO,SAAW7Z,QAAS,WAAQC,EAAK8E,SAAS,CAAEka,SAAU,SAAlG,SAA8H,MAGtI3e,EAAAC,EAAAC,cAAA,SAAIP,EAAKmF,MAAM6Z,UAAYhf,EAAKmF,MAAM6Z,WAAaL,EAAMtV,GAAKsV,EAAM5b,KAAO4b,EAAM5b,KAAK8R,UAAU,EAAG7U,EAAKmF,MAAM8T,OACzGjZ,EAAKmF,MAAM8T,MAAQ0F,EAAM5b,KAAKuL,QAAUtO,EAAKmF,MAAM6Z,WAAaL,EAAMtV,GACnEhJ,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAUE,MAAO,CAAE6R,MAAO,SAAW7Z,QAAS,WAAQC,EAAK8E,SAAS,CAAEka,SAAUL,EAAMtV,OAAxG,WAEA,OAGXsV,EAAM7E,OACHzZ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QACXxH,EAAAC,EAAAC,cAAA,2BAAkBF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKpD,EAAKC,MAAMgG,MAAMqT,QAAtB,KAAAlW,OAAiCub,EAAM7E,OAAOzQ,KAAOsV,EAAM7E,OAAOhR,SACvF,WA5HrC9I,EAAKmF,MAAQ,CACT2S,OAAQ,KACRmB,MAAO,IACP+F,SAAU,MALChf,wEAQV,IAAA2F,EAAAnF,KACL,IAAKA,KAAKP,MAAMga,mBAAqBzZ,KAAKP,MAAM6f,aAC5C,OAAOzf,EAAAC,EAAAC,cAAC4e,GAAD,MAEX,IAAMnG,EAASxY,KAAKP,MAAMga,iBAAiB5V,OAAO,SAAA2U,GAC9C,OAAOA,EAAO3P,KAAOwP,OAAOlT,EAAK1F,MAAMme,MAAMgB,OAAO/V,MACrD,GAEH,OACIhJ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,oBAAqBqD,KAAMpH,KAAKP,MAAMgG,MAAMgZ,UAAY,CAAE1a,KAAI,oBAAAnB,OAAsB4V,EAAO3P,QAC1HhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAACoF,UAAU,KAC7C9M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACVrH,KAAKihB,aAAazI,4CAQ9BA,GAAQ,IAAAzP,EAAA/I,KACXke,EAAUle,KAAKP,MAAM6f,aAAazb,OAAO,SAAAsa,GAC3C,OAAOA,EAAM3F,QAAU2F,EAAM3F,OAAO3P,KAAOwP,OAAOtP,EAAKtJ,MAAMme,MAAMgB,OAAO/V,MAE9E,OACIhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,SAASR,IAAK2R,EAAOA,QAChC3Y,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,0BACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,+BACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QAAQa,IAAKsQ,EAAOrQ,KAAKnH,IAAKoH,IAAKoQ,EAAOzU,OACxDyU,EAAOoI,QACJ/gB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mEACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,kBADpB,IAC6CmR,EAAOoI,QAAQnM,KAD5D,KACoE+D,EAAOoI,QAAQjc,OAC1E,MAGjB9E,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,wBACXxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,QAAQmR,EAAOzU,MAC7BlE,EAAAC,EAAAC,cAAA,4BAC6ByY,EAAOjG,cAGvCiG,EAAOiG,UAAYjG,EAAOiG,SAAS3Q,OAAS,EACzCjO,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,UACXxH,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAAA,uBACNF,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,UACTmR,EAAOiG,SAAShY,IAAI,SAACya,GAClB,OAAOrhB,EAAAC,EAAAC,cAAA,MAAIwH,MAAO,CAACvB,QAAQ,gBAAiBa,IAAK2R,EAAOzU,KAAO,IAAMmd,EAAQrY,IAAIhJ,EAAAC,EAAAC,cAAA,SAAImhB,EAAQnd,MAAtF,eAAiHlE,EAAAC,EAAAC,cAAA,SAAImhB,EAAQ3O,kBAI9I,MAIa,MAAtBiG,EAAOuE,YACJld,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACVmR,EAAOqI,UACJhhB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,KAAGmH,KAAM,KAAOsR,EAAOuE,YAAY8D,UAAUC,QAAShS,OAAO,SAASiS,IAAI,sBAAsB1Z,UAAU,oBAAmBxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,sBAC7IxH,EAAAC,EAAAC,cAAA,KAAGmH,KAAM,UAAYsR,EAAOuE,YAAYzP,MAAOjG,UAAU,oBAAmBxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,2BAC1F,MAGZ,KACNxH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACXxH,EAAAC,EAAAC,cAAA,MAAIwH,MAAO,CAAEtB,WAAY,UAAWC,MAAO,UAA3C,+CAEHlG,KAAKie,cAAcC,GACpBre,EAAAC,EAAAC,cAACwa,GAAD,CAAWhC,IAAKC,EAAO3P,eAlFlB3I,IAAMC,WAgJpBC,qBAPS,SAACqK,GACrB,MAAO,CACHgP,iBAAkBhP,EAAMC,KAAK+O,iBAC7B6F,aAAc7U,EAAMC,KAAK4U,aACzB7Z,MAAOgF,EAAMhF,QAGmB,KAAzBrF,CAA+B4gB,IC/IxCG,eACL,SAAAA,EAAY1hB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAmhB,IAClB3hB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAwgB,GAAA/c,KAAApE,KAAMP,KACDkF,MAAQ,CACZ8T,MAAO,IACP+F,SAAU,MAJOhf,wEAOV,IAEP0e,EACGle,KAAKP,MADRye,QAED,OAAe,MAAXA,EAAwBre,EAAAC,EAAAC,cAAC4e,GAAD,MAK3B9e,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,mBAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAAEoF,UAAW,KAClD9M,EAAAC,EAAAC,cAAA,WAASsH,UAAU,gBAClBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACbrH,KAAKie,cAAcC,IAErBre,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WACbrH,KAAKP,MAAMpB,KACXwB,EAAAC,EAAAC,cAACwa,GAAD,CAAWtQ,IAAKjK,KAAKP,MAAMpB,KAAKwK,KAEhChJ,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAcxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAM+E,QAA3B,WAA3B,iEAUM0T,GAAS,IAAA/Y,EAAAnF,KACtB,OAAuB,IAAnBke,EAAQpQ,OAEVjO,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,sBACdxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAb,qGAII6W,EAAQzX,IAAI,SAAA0X,GAClB,IAAIiD,EAAK,8BAST,OAR4B,OAAxBjc,EAAKR,MAAM6Z,WAEb4C,EADGjc,EAAKR,MAAM6Z,WAAaL,EAAMtV,GAC5B,SAEA,UAKNhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAW+Z,GACfvhB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cAAcE,MAAO,CAAEG,QAAS,KAC9C7H,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,SACdxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,sBAEdxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,uBAAuB8W,EAAM7V,OAC1CnD,EAAKR,MAAM6Z,UAAYrZ,EAAKR,MAAM6Z,WAAaL,EAAMtV,GACrDhJ,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAUE,MAAO,CAAE1B,MAAO,OAAQoF,OAAQ,QAAU1L,QAAS,WAAQ4F,EAAKb,SAAS,CAAEka,SAAU,SAAjH,SAA6I,KAE9I3e,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,6BACXlC,EAAKR,MAAM6Z,UAAYrZ,EAAKR,MAAM6Z,WAAaL,EAAMtV,GAAKsV,EAAM5b,KAAO4b,EAAM5b,KAAK8R,UAAU,EAAGvB,GAAMsB,SACnGjP,EAAKR,MAAM6Z,WAAarZ,EAAKR,MAAM6Z,WAAaL,EAAMtV,KAAOiK,GAAMsB,MAAQ+J,EAAM5b,KAAKuL,OACxFjO,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAUE,MAAO,CAAE1B,MAAO,OAAQoF,OAAQ,QAAU1L,QAAS,WAAQ4F,EAAKb,SAAS,CAAEka,SAAUL,EAAMtV,OAAvH,OAEA,MAGFhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oBACdxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aAAa8W,EAAM9f,KAAKigB,YAGrCH,EAAM7E,OAAUzZ,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKuC,EAAK1F,MAAMgG,MAAMqT,QAAtB,KAAAlW,OAAiCub,EAAM7E,OAAOzQ,IAAMxB,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,SAAIoe,EAAM7E,OAAOhR,SAAwB,gBA/E5HpI,IAAMC,WA6FjBC,qBAPS,SAACqK,GACxB,MAAO,CACNyT,QAASzT,EAAMC,KAAK4U,aACpBjhB,KAAMoM,EAAMpM,KAAK6L,KACjBzE,MAAOgF,EAAMhF,QAGyB,KAAzBrF,CAA+B+gB,yCCxF9CzhB,KAAS2hB,cAVc,CACrBC,OAAQ,0CACRC,WAAY,oCACZC,YAAa,2CACbC,UAAW,oBACXC,cAAe,GACfC,kBAAmB,cACnBC,MAAO,uCAIMliB,UAAf,EAEamiB,GAAiB,IAAIniB,KAASC,KAAKmiB,mBACnCC,GAAmB,IAAIriB,KAASC,KAAKqiB,qBCF5C7T,GAAgB,CAClBb,MAAO,GACP2U,SAAU,GACV5S,MAAO,MAGL6S,eACF,SAAAA,EAAYziB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAkiB,IACf1iB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAuhB,GAAA9d,KAAApE,KAAMP,KA4CV0iB,eAAiB,WACW,KAArB3iB,EAAKmF,MAAM2I,MACd9N,EAAKC,MAAMC,SAASC,OAAOyiB,uBAAuB5iB,EAAKmF,MAAM2I,OAC1D0B,KAAK,SAAU3Q,GACdgkB,MAAM,gCACLtG,MAAM,SAAUhR,GACjBjJ,QAAQC,IAAIgJ,KAGZvL,EAAK8E,SAAS,CACV+K,MAAO,6CAvDA7P,EA6FnB8iB,iBAAmB,WACf9iB,EAAKC,MAAMC,SAASC,OAAO4iB,eAAe/iB,EAAKmF,MAAM6d,aAAaxT,KAAK,WACnExP,EAAKC,MAAMC,SAASC,OACf8iB,gBAAgBZ,IAChB7S,KAAK,SAAArP,GACFmC,QAAQC,IAAIpC,GACZH,EAAKkjB,cAAc/iB,EAAKtB,KAAKiP,OAAO0B,KAAK,SAAAC,GACjCA,GACAnN,QAAQC,IAAI,SAEpBvC,EAAK8E,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,OAEtB4N,MAAM,SAAAC,GACHla,QAAQC,IAAIia,GACZxc,EAAK8E,SAAS,CAAE+K,MAAO2M,EAAI5N,eA3GxB5O,EA+GnBmjB,mBAAqB,WACjBnjB,EAAKC,MAAMC,SAASC,OAAO4iB,eAAe/iB,EAAKmF,MAAM6d,aAAaxT,KAAK,WACnExP,EAAKC,MAAMC,SAASC,OACf8iB,gBAAgBV,IAChB/S,KAAK,SAAArP,GACFH,EAAKkjB,cAAc/iB,EAAKtB,KAAKiP,OAAO0B,KAAK,SAAAC,GACjCA,GACAnN,QAAQC,IAAI,SAGpBvC,EAAK8E,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,OAEtB4N,MAAM,SAAAC,GACHxc,EAAK8E,SAAS,CAAE+K,MAAO2M,EAAI5N,eA5HxB5O,EAiInBkjB,cAjImB,eAAAhiB,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAf,EAAAgB,KAiIH,SAAAC,EAAOuM,GAAP,IAAA3L,EAAAhD,EAAAK,EAAA,OAAA6B,EAAAf,EAAAqB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAER7B,EAAKC,MAAMmjB,eAAc,GAFjBxhB,EAAAE,KAAA,EAGWb,EAAO,GAAAmC,OAAItC,EAAKub,KAAT,OAAAjZ,OAAmB0K,IAHrC,YAGF3L,EAHEP,EAAAM,MAICuN,UAAWtN,EAAKV,KAJjB,CAAAG,EAAAE,KAAA,gBAKJ9B,EAAKC,MAAMrB,WAAWuD,EAAKV,MALvBG,EAAAE,KAAA,EAOeb,EAAO,GAAAmC,OAAItC,EAAKub,KAAT,OAAAjZ,OAAmB0K,EAAnB,yBAPtB,cAOE3O,EAPFyC,EAAAM,KAQJlC,EAAKC,MAAMf,cAAcC,EAAKsC,MAR1BG,EAAAE,KAAA,GASeb,EAAO,GAAAmC,OAAItC,EAAKub,KAAT,OAAAjZ,OAAmB0K,EAAnB,yBATtB,eASEtO,EATFoC,EAAAM,KAUJlC,EAAKC,MAAMV,cAAcC,EAAKiC,MAC9BzB,EAAKC,MAAMmjB,eAAc,GAXrBxhB,EAAAQ,OAAA,UAYG,GAZH,eAcRE,QAAQC,IAAI,0BACZvC,EAAKC,MAAMmjB,eAAc,GAfjBxhB,EAAAQ,OAAA,UAgBD,GAhBC,eAAAR,EAAAC,KAAA,GAAAD,EAAAS,GAAAT,EAAA,SAmBRU,QAAQC,IAARX,EAAAS,IACArC,EAAKC,MAAMmjB,eAAc,GApBjBxhB,EAAAQ,OAAA,UAqBD,GArBC,yBAAAR,EAAAY,SAAAjB,EAAA,kBAjIG,gBAAAkB,GAAA,OAAAvB,EAAAwB,MAAAlC,KAAAmC,YAAA,GAEf3C,EAAKmF,MAALhE,OAAAwM,EAAA,EAAAxM,CAAA,GACOwN,GADP,CACsBqU,YAAa/iB,EAAMC,SAASC,KAAKkjB,KAAKC,YAAYC,UAGxEvjB,EAAK+O,SAAW/O,EAAK+O,SAASxJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAChBA,EAAKwjB,UAAYxjB,EAAKwjB,UAAUje,KAAfpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KACjBA,EAAK8O,SAAW9O,EAAK8O,SAASvJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KARDA,wEAWV,IAAAyjB,EAC8BjjB,KAAK2E,MAAhC2I,EADH2V,EACG3V,MAAO2U,EADVgB,EACUhB,SAAU5S,EADpB4T,EACoB5T,MACzB,OACIxP,EAAAC,EAAAC,cAAA,OAAMsH,UAAU,0BACZxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACXxH,EAAAC,EAAAC,cAAA,sBAEJF,EAAAC,EAAAC,cAAA,QAAMuO,SAAUtO,KAAKsO,UACjBzO,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,sBAC5CxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,QAAQwF,KAAK,QAAQ0K,MAAOnB,EAAOiB,SAAUvO,KAAKuO,SAAUC,YAAY,iBAExF3O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,sBAC5CxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,WAAWwF,KAAK,WAAW0K,MAAOwT,EAAU1T,SAAUvO,KAAKuO,SAAUC,YAAY,oBAEhGa,GAASxP,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAAErB,MAAO,QAAnB,IAA8BmJ,EAA9B,KACVxP,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,YACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,wBACXxH,EAAAC,EAAAC,cAAA,UAAQxB,KAAK,SAAS4Z,SAAUnY,KAAKgjB,YAAa3b,UAAU,WAA5D,YAEJxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,qDAAf,kBAEIxH,EAAAC,EAAAC,cAAA,UAAQR,QAASS,KAAK2iB,mBAAoB9Z,GAAG,WAAWtK,KAAK,SAAS8I,UAAU,uBAAsBxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,sBACtHxH,EAAAC,EAAAC,cAAA,UAAQR,QAASS,KAAKsiB,iBAAkBzZ,GAAG,SAAStK,KAAK,SAAS8I,UAAU,qBAAoBxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,qBAI5HxH,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAU9H,QAASS,KAAKmiB,gBAA1C,sBACHtiB,EAAAC,EAAAC,cAAA,oCAA2BF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAMyd,QAA3B,iBAA3B,0CAoBA,IAAAC,EACoBnjB,KAAK2E,MAAzBsd,EADAkB,EACAlB,SAAU3U,EADV6V,EACU7V,MAClB,MAAqB,KAAb2U,GAA6B,KAAV3U,mCAGtBqB,GAAO,IAAAC,EACZ5O,KAAKsE,UAALsK,EAAA,GAAAjO,OAAAkO,GAAA,EAAAlO,CAAAiO,EACKD,EAAMG,OAAO/K,KAAO4K,EAAMG,OAAOL,OADtC9N,OAAAkO,GAAA,EAAAlO,CAAAiO,EAAA,QAEW,MAFXA,qCAMKD,GAAO,IAAAxJ,EAAAnF,KAEZA,KAAKP,MAAMC,SAASC,OAAO4iB,eAAeviB,KAAK2E,MAAM6d,aAAaxT,KAAK,WACnE7J,EAAK1F,MAAMC,SAASC,OAAOyjB,2BAA2Bje,EAAKR,MAAM2I,MAAOnI,EAAKR,MAAMsd,UAC9EjT,KAAK,SAAArP,GACFmC,QAAQC,IAAIpC,EAAKtB,MACjB8G,EAAKud,cAAc/iB,EAAKtB,KAAKiP,OAAO0B,KAAK,SAAAC,GACjCA,GACAnN,QAAQC,IAAI,SAEpBoD,EAAKb,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,OAEtB4N,MAAM,SAAAC,GACH7W,EAAKb,SAAS,CAAE+K,MAAO2M,EAAI5N,cAGvCO,EAAM3D,wBAzFc9K,IAAMC,WA6J5BkjB,GAAYC,aACdjjB,eADcijB,CAEhBpB,IASa9hB,qBAPS,SAACqK,GACrB,MAAO,CACH9K,KAAM8K,EAAM/K,SAASC,KACrB8F,MAAOgF,EAAMhF,QAImB,CAAErH,aAAYW,gBAAeL,iBAAtD0B,CAAuEijB,ICvLhFE,eACF,SAAAA,EAAY9jB,GAAM,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAujB,IACd/jB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA4iB,GAAAnf,KAAApE,KAAMP,KACDkF,MAAM,CACPie,eAAc,GAHJpjB,wEAMT,IAAA2F,EAAAnF,KAIL,IAAIA,KAAK2E,MAAMie,cAAc,CACzB,GAAG5iB,KAAKP,MAAMpB,KAAK6L,KACf,OAAOrK,EAAAC,EAAAC,cAACyjB,EAAA,SAAD,CAAU3b,GAAI7H,KAAKP,MAAMgG,MAAM6E,UAC1C,GAAGtK,KAAKP,MAAME,KAAK8jB,WAAazjB,KAAKP,MAAME,KAAK+jB,QAC5C,OAAO7jB,EAAAC,EAAAC,cAACyjB,EAAA,SAAD,CAAU3b,GAAI7H,KAAKP,MAAMgG,MAAMyd,SAG9C,OACIrjB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACAxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,cAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACXxH,EAAAC,EAAAC,cAAA,WAASsH,UAAU,iCACfxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OAEXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kDACXxH,EAAAC,EAAAC,cAAC4jB,GAAD,CAAWf,cAAe,SAACtL,GAAD,OAAYnS,EAAKb,SAAS,CAACse,cAActL,oBA3B3EpX,IAAMC,WA6CfC,qBAPS,SAACqK,GACrB,MAAO,CACH9K,KAAM8K,EAAM/K,SAASC,KACrBtB,KAAMoM,EAAMpM,KACZoH,MAAOgF,EAAMhF,QAGNrF,CAAyBmjB,IC1ClCpV,kBAAgB,CAClBM,MAAO,KACPmV,SAAU,OAGRC,eACF,SAAAA,EAAYpkB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAA6jB,IACfrkB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAkjB,GAAAzf,KAAApE,KAAMP,KAwCV2X,aAAe,SAACzI,GACgB,OAAxBnP,EAAKmF,MAAMif,SACXpkB,EAAKskB,QAAQtkB,EAAKmF,MAAM8J,OAEE,OAArBjP,EAAKmF,MAAM8J,MAChBjP,EAAKukB,WAAWvkB,EAAKmF,MAAM8J,OAG3BjP,EAAKwkB,WAAWxkB,EAAKmF,MAAM8J,OAE/BjP,EAAK8E,SAAS,CACVsf,SAAUpkB,EAAKmF,MAAM8J,SApDVjP,EAwDnBskB,QAAU,SAACxM,GACP,IAAM/U,EAAO,CACT+U,OAAUA,EACV2M,SAAYzkB,EAAKC,MAAMykB,OACvBvV,MAASnP,EAAKC,MAAM0kB,SAExB/hB,EAAS9B,EAAK8jB,gBAAiB7hB,GAAMyM,KAAK,SAAArN,GACtCG,QAAQC,IAAIJ,GACRA,EAAKsN,SAAWtN,EAAKV,MACrBzB,EAAKC,MAAM4kB,aAAa1iB,EAAKV,SAjEtBzB,EAsEnBwkB,WAAa,SAAC1M,GACV,IAAM/U,EAAO,CACT+U,OAAUA,EACV2M,SAAYzkB,EAAKC,MAAMykB,OACvBvV,MAASnP,EAAKC,MAAM0kB,SAExB/hB,EAAQ,GAAAQ,OAAItC,EAAKgkB,eAAT,KAAA1hB,OAA2BpD,EAAKC,MAAM8kB,KAAK1b,IAAMtG,GAAMyM,KAAK,SAAArN,GAChEG,QAAQC,IAAIJ,GACRA,EAAKsN,SAAWtN,EAAKV,MACrBzB,EAAKC,MAAM+kB,gBAAgB7iB,EAAKV,SA/EzBzB,EAoFnBukB,WAAa,WACT1gB,EAAU,GAAAT,OAAItC,EAAKgkB,eAAT,KAAA1hB,OAA2BpD,EAAKC,MAAM8kB,KAAK1b,KAAMmG,KAAK,SAAArN,GAC5DG,QAAQC,IAAIJ,GACRA,EAAKsN,SACLzP,EAAKC,MAAMglB,gBAAgBjlB,EAAKC,MAAM8kB,SAxF/B/kB,EA8FnB8O,SAAW,SAACK,GACRA,EAAM3D,iBACN,IAAMzI,EAAO,CACTwB,KAAQvE,EAAKmF,MAAMZ,KACnB2gB,UAAallB,EAAKmF,MAAMggB,SACxBnd,SAAYhI,EAAKmF,MAAM6C,UAEvBod,EAAUtkB,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAK,cACjDrJ,EAAKC,MAAMolB,cACXD,EAAUtkB,EAAKwkB,UAAY,IAAMtlB,EAAKC,MAAMolB,aAGhDziB,EAASwiB,EAASriB,GAAMyM,KAAK,SAAArN,GAEzB,GADAG,QAAQC,IAAIJ,GACRA,EAAKsN,QACL,GAAKzP,EAAKC,MAAMolB,YAuBZrlB,EAAKC,MAAMslB,cAAcpjB,EAAKV,MAC9BzB,EAAKC,MAAMiY,gBAxBc,CACzBlY,EAAKC,MAAMulB,aAAarjB,EAAKV,MAC7B,IAAIgkB,EAAe,GACnBzlB,EAAKC,MAAMpB,KAAK0Z,WAAW3I,QAAQ,SAAA4I,GAC/BiN,EAAahR,KAAK+D,EAAUnP,MAEhCtH,MAAMjB,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAI,CACxCrH,OAAQ,OACRe,KAAMU,KAAKC,UAAU,CACjBmH,eAAkB7K,EAAKC,MAAMpB,KAAKgM,eAClCiD,MAAS9N,EAAKC,MAAMpB,KAAKiP,MACzBgR,UAAa9e,EAAKC,MAAMpB,KAAKigB,UAC7B4G,kBAAA,GAAAtiB,OACOqiB,OAGZjW,KAAK,SAAAtM,GACJ,OAAOA,EAASf,SACjBqN,KAAK,SAAArN,GACJG,QAAQC,IAAIJ,GACRA,EAAKsN,SAASzP,EAAKC,MAAMiY,iBAO1CqE,MAAM,SAAA1M,GACLvN,QAAQC,IAAIsN,MAvIhB7P,EAAKmF,MAAQ,CACT8J,MAAOhP,EAAM8kB,KAAO9kB,EAAM8kB,KAAKjN,OAASnJ,GAAcM,MACtDmV,SAAUnkB,EAAM8kB,KAAO9kB,EAAM8kB,KAAKjN,OAASnJ,GAAcyV,UAG7DpkB,EAAK+O,SAAW/O,EAAK+O,SAASxJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAPDA,wEAWf,OACIK,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACKrI,KAAKP,MAAM0lB,OAAS,KACjBtlB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,MAAIwH,MAAO,CAAEvB,QAAS,iBAAtB,UACC,QAGTnG,EAAAC,EAAAC,cAAA,UAAQ0O,MAAOzO,KAAK2E,MAAM8J,MAAOF,SAAUvO,KAAKuO,UAC5C1O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,MACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,cAAd,cACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,QAAd,SACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,QAAd,mBAXR,OAcKzO,KAAK2E,MAAMif,WAAa5jB,KAAK2E,MAAM8J,MAChC5O,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,kBAAkB9H,QAASS,KAAKoX,cAAlD,UAEA,uCAOPzI,GACL3O,KAAKsE,SAAS,CACVmK,MAAOE,EAAMG,OAAOL,eAvCTvO,IAAMC,WAgJvB6c,GAAqB,CAAEqH,arBuCD,SAACe,GAAD,OAAU,SAAA9mB,GAClC,OAAOA,EAAS,CACZC,KnB5IgB,WmB6IhBC,QAAS4mB,MqB1C0BX,gBrB8CZ,SAACW,GAAD,OAAU,SAAA9mB,GACrC,OAAOA,EAAS,CACZC,KnBlJmB,cmBmJnBC,QAAS4mB,MqBjD2CZ,gBrBqD7B,SAACY,GAAD,OAAU,SAAA9mB,GACrC,OAAOA,EAAS,CACZC,KnBxJmB,cmByJnBC,QAAS4mB,OqBtDFhlB,qBAAQ,KAAM4c,GAAd5c,CAAkCyjB,IC/I3CwB,eACL,SAAAA,EAAY5lB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAqlB,IAClB7lB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA0kB,GAAAjhB,KAAApE,KAAMP,KAyRP6lB,qBAAuB,WACtB,OAAI9lB,EAAKmF,MAAM4gB,sBAGb1lB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cAEdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2BAEdxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eACfxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WAAUxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,QAAQwF,KAAK,OAAO8E,GAAG,kBAAkB2c,gBAAc,EAACjmB,QAASC,EAAKimB,aAA3G,QACA5lB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WAAUxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,QAAQwF,KAAK,OAAO8E,GAAG,uBAAuBtJ,QAASC,EAAKimB,aAAjG,cAID5lB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAEdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBAAiBwB,GAAG,UAAUtB,MAAO,CAAEvB,QAAS,UAC9DnG,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,8BAgCnBxH,EAAAC,EAAAC,cAAC0d,GAAD,CACCrH,QAAS5W,EAAKC,MAAM2W,QACpB7H,SAAU/O,EAAK+d,gBAnDyB1d,EAAAC,EAAAC,cAAA,aA3R3BP,EAoVnBkmB,aAAe,WACd,IAAIrkB,EAAO7B,EAAKmF,MAAM4gB,sBACtB/lB,EAAK8E,SAAS,CAACihB,uBAAwBlkB,KApVvC7B,EAAKmF,MAAQ,CACZ4gB,uBAAuB,EACvBI,UAAW,KACX5R,QAAS,KACT6R,SAAU,MAEXpmB,EAAKqmB,gBAAkBrmB,EAAKqmB,gBAAgB9gB,KAArBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KACvBA,EAAKsmB,cAAgBtmB,EAAKsmB,cAAc/gB,KAAnBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KACrBA,EAAK+d,aAAe/d,EAAK+d,aAAaxY,KAAlBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KACpBA,EAAKimB,WAAajmB,EAAKimB,WAAW1gB,KAAhBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAXAA,wEAiBlB,OACCK,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,aAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAACoF,UAAU,KAEhD9M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACdxH,EAAAC,EAAAC,cAAA,WAASsH,UAAU,aAClBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,4BACbrH,KAAKP,MAAM2W,QACXpW,KAAK+lB,gBAAkBlmB,EAAAC,EAAAC,cAAC4e,GAAD,OAEzB9e,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,4BACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mCACbrH,KAAK2U,aAAa3U,KAAKP,MAAM6T,qDA6B3BA,GAAQ,IAAAnO,EAAAnF,KACpB,IAAKA,KAAKP,MAAM6T,QAAuC,IAA7BtT,KAAKP,MAAM6T,OAAOxF,OAC3C,OACCjO,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACdxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAb,uEAIH,IAAM2e,EAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACvFrS,EAAM,IAAIC,KAkBhB,OAhBiBjT,OAAOuI,KAAKoK,GAAQ7M,IAAI,SAAAI,GACxC,OAAOyM,EAAOzM,KAGeof,KAAK,SAACC,EAAQC,GAC3C,IAAMC,EAAQ,IAAIxS,KAAKsS,EAAOpS,qBACxBuS,EAAW,IAAIzS,KAAKsS,EAAOlS,mBAC3BsS,EAAQ,IAAI1S,KAAKuS,EAAOrS,qBACxByS,EAAW,IAAI3S,KAAKuS,EAAOnS,mBAEjC,OAAMoS,EAAQzS,EAAO,GAAM0S,EAAW1S,EAAO,KAAQ2S,EAAQ3S,EAAO,GAAM4S,EAAW5S,EAAO,GACpFyS,EAAQE,EAERA,EAAQ3S,GAAQyS,EAAQzS,KAGblN,IAAI,SAAAkI,GACvB,IAAMkF,EAAO,IAAID,KAAKjF,EAAMmF,qBACtBC,EAAU,IAAIH,KAAKjF,EAAMqF,mBAC/B,OAAI7O,EAAK6U,aAAarL,GAEpB9O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,sCAAsC9H,QAAU,WAAMiF,OAAOgD,SAAP,GAAA5E,OAAqBuC,EAAK1F,MAAMgG,MAAM6N,OAAS,IAAM3E,EAAM9F,KAAOhC,IAAK8H,EAAM9F,IACjJhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBAEdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACdxH,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,cACjBxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI1C,EAAK1F,MAAMgG,MAAM6N,OAAS,IAAM3E,EAAM9F,IAAIhJ,EAAAC,EAAAC,cAAA,OAAKmI,IAAKyG,EAAMnJ,MAAQmJ,EAAMnJ,MAAMxE,IAAM,KAAMoH,IAAI,MAExGvI,EAAAC,EAAAC,cAAA,OAAKsH,UAAY0M,EAAUJ,EAAM,EAAK,OAAS,YAAY9T,EAAAC,EAAAC,cAAA,YAAOimB,EAAOnS,EAAKT,YAAYvT,EAAAC,EAAAC,cAAA,WAAO8T,EAAKR,cAIxGxT,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,qBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kBACdxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMP,UAAU,YAAYQ,GAAI1C,EAAK1F,MAAMgG,MAAM6N,OAAS,IAAM3E,EAAM9F,IAAIhJ,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aAAd,IAA4BsH,EAAM5K,KAAlC,MAC1ElE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QACbsH,EAAM4D,YAAYzE,OAASgF,GAAM0T,UACjC3mB,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAb,IAA2BsH,EAAM4D,YAAjC,KAEA1S,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aACXsH,EAAM4D,YAAY8B,UAAU,EAAGvB,GAAM0T,WADvC,OAEO3mB,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKuC,EAAK1F,MAAMgG,MAAM6N,OAAtB,KAAA1Q,OAAgC+L,EAAM9F,KAA9C,cAIPkL,EAAUJ,EAAM,EACjB9T,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACElD,EAAK1F,MAAMpB,KACXwB,EAAAC,EAAAC,cAAC0mB,GAAD,CACCtC,QAASxV,EAAM9F,GACfqb,OAAQ/e,EAAK1F,MAAMpB,KAAKwK,GAExB0b,KAAMpf,EAAKuhB,SAAS/X,EAAM9F,MAG3BhJ,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMP,UAAU,YAAYQ,GAAI1C,EAAK1F,MAAMgG,MAAM+E,QAAjD,WADD,uBAII,OAIT3K,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,UACdxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,yBACZlC,EAAK6N,QAAQa,EAAME,GACnBlU,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,kBAAjB,IAAuCwM,EAAK8S,iBAA5C,MAAiE5S,EAAQO,sBAEzEzU,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,kBAAjB,IAAuCwM,EAAK8S,iBAA5C,MAAiE5S,EAAQ4S,kBAEzEhY,EAAMnH,SACN3H,EAAAC,EAAAC,cAAA,8BAC0BF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,qBACrCsH,EAAMnH,SAASgN,OAAS,KAAO7F,EAAMnH,SAASiN,KAAO,IAAM9F,EAAMnH,SAAS7C,OAG5E,SAOO,wCAIPiiB,GAAU,IAAA7d,EAAA/I,KAClB,IAAKA,KAAKP,MAAMpB,OAAS2B,KAAKP,MAAMonB,WAAY,OAAO,KACvD,IAAMC,EAAQ9mB,KAAKP,MAAMonB,WAAWhjB,OAAO,SAAA0gB,GAAU,OAAQA,EAAKN,SAASpb,KAAOE,EAAKtJ,MAAMpB,KAAKwK,IAAM0b,EAAK5V,MAAM9F,KAAO+d,IAC1H,OAAIE,EAAMhZ,OAAS,EAAU,KACtBgZ,EAAM,mCAONC,EAAUC,GACjB,OAAOD,EAAS1T,YAAc2T,EAAc3T,WAC3C0T,EAAS3T,aAAe4T,EAAc5T,YACtC2T,EAAS5T,gBAAkB6T,EAAc7T,sDAO3B8T,GACfjnB,KAAKsE,SAAS,CACbqhB,UAAWsB,IAERjnB,KAAK2E,MAAMoP,SACVkT,EAAUjnB,KAAK2E,MAAMoP,SACxB/T,KAAKsE,SAAS,CACbyP,QAAS,OAIZnK,SAASsR,eAAe,mBAAmB9C,SAAU,EACrDxO,SAASsR,eAAe,wBAAwB9C,SAAU,wCAO7C6O,GACbjnB,KAAKsE,SAAS,CACbyP,QAASkT,IAEVrd,SAASsR,eAAe,mBAAmB9C,SAAU,EACrDxO,SAASsR,eAAe,wBAAwB9C,SAAU,uCAO9CzJ,GACZ,IAAIkF,EAAO,IAAID,KAAKjF,EAAMmF,qBACtBC,EAAU,IAAIH,KAAKjF,EAAMqF,mBAE7B,IAAMhU,KAAK2a,WAAWhM,EAAM5K,QAAS/D,KAAK2a,WAAWhM,EAAM4D,aAC1D,OAAO,EACR,IAAKvS,KAAKknB,eAAerT,EAAME,GAC9B,OAAO,EACR,IAAK/T,KAAKmnB,SAAStT,EAAME,GACxB,OAAO,EAER,IAAI6G,EAAS,IAAIC,IAIjB,IAAK,IAAI/C,KAHTnJ,EAAM6H,KAAKpH,QAAQ,SAAAkH,GAClBsE,EAAOE,IAAIxE,EAAIzN,MAEF7I,KAAKP,MAAM2nB,SAAU,CAClC,IAAIvjB,EAAS7D,KAAKP,MAAM2W,QAAQ0B,GAChC,IAAK9X,KAAK+a,WAAWlX,EAAO2S,KAAMoE,GACjC,OAAO,EAGT,OAAO,qCAGGI,GACV,IAAIC,EAAYrR,SAASsR,eAAe,oBACxC,OAAKD,IAEmB,KAApBA,EAAUxM,SAETuM,EAAOG,cAAe7L,SAAU2L,EAAUxM,MAAM0M,uDAKvCtH,EAAME,GACpB,IAAIJ,EAAM,IAAIC,KACVyT,EAAUzd,SAASsR,eAAe,mBAClCoM,EAAe1d,SAASsR,eAAe,wBAC3C,OAAKmM,IAAYC,OAEXA,EAAalP,SAAYiP,EAAQjP,WAAYiP,EAAQjP,YAElDkP,EAAalP,UACbvE,EAAOF,EAAM,GAAKI,EAAUJ,EAAM,qCAGnCgS,EAAW5R,GACnB,OAAK/T,KAAK2E,MAAMghB,YAAc3lB,KAAK2E,MAAMoP,UAEpC/T,KAAK2E,MAAMoP,QAEX/T,KAAK2E,MAAMghB,UAET5R,GAAW/T,KAAK2E,MAAMghB,WAAa5R,GAAW/T,KAAK2E,MAAMoP,QAAQwT,SAAS,GAAI,GAAI,GAAI,IADrFxT,GAAW/T,KAAK2E,MAAMoP,QAAQwT,SAAS,GAAI,GAAI,GAAI,IAFnD5B,GAAa3lB,KAAK2E,MAAMghB,8CAOtBvK,EAAYR,GACtB,IAAIS,GAAW,EACf,IAAK,IAAIvD,KAAKsD,EAAY,CACzB,IAAIE,EAAW1R,SAASsR,eAAe,YAAcE,EAAWtD,GAAGjP,IACnE,GAAIyS,GAAYA,EAASlD,UACxBiD,GAAW,EACPT,EAAOW,IAAIH,EAAWtD,GAAGjP,KAC5B,OAAO,EAGV,OAAOwS,0CAiEQ,IAAAtR,EAAA/J,KACf,OACCH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBAAiBE,MAAO,CAAE0D,OAAQ,IAChDpL,EAAAC,EAAAC,cAAA,QAAMuZ,OAAO,KACZzZ,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOiQ,YAAY,aAAa3F,GAAG,qBAC/ChJ,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,oBAAoBxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAe6S,cAAY,YAGhFra,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,uBAAuB9H,QAAW,WAAKwK,EAAK2b,iBAAzD,iBAEA1lB,KAAKslB,gEAMTtlB,KAAK0E,mDAGL1E,KAAKsE,SAAS,CACbyP,QAAS,KACT4R,UAAW,OAEZ3lB,KAAK0E,qBAnXkBxE,IAAMC,WAkYhBC,qBAVS,SAACqK,GACxB,MAAO,CACN9K,KAAM8K,EAAM/K,SAASC,KACrBtB,KAAMoM,EAAMpM,KAAK6L,KACjBoJ,OAAQ7I,EAAMC,KAAK4I,OACnBuT,WAAYpc,EAAMC,KAAK8c,MACvB/hB,MAAOgF,EAAMhF,MACb2Q,QAAS3L,EAAMC,KAAK0L,QAAU3L,EAAMC,KAAK0L,QAAQvS,OAAO,SAAA4jB,GAAS,MAAoB,aAAbA,EAAI1jB,OAAyB,OAG/D,KAAzB3D,CAA+BilB,IC9YxCqC,oLAIO,IAAAloB,EAAAQ,KACL,IAAKA,KAAKP,MAAM6T,OAAQ,OAAOzT,EAAAC,EAAAC,cAAC4e,GAAD,MAE/B,IAAMhQ,EAAQ3O,KAAKP,MAAM6T,OAAOzP,OAAO,SAAA8K,GACnC,OAAOA,EAAM9F,KAAOwP,OAAO7Y,EAAKC,MAAMme,MAAMgB,OAAO/V,MACpD,GAEH,OACIhJ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE2B,KAAKpH,KAAKP,MAAMgG,MAAM6N,OAAQvP,KAAM,UAAY,CAAEA,KAAI,SAAAnB,OAAW+L,EAAM9F,QAChGhJ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAACoF,UAAU,KAC7C9M,EAAAC,EAAAC,cAAA,WAASsH,UAAU,oBACfxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2BACVrH,KAAK2nB,YAAYhZ,4CASlCA,GACR,IAAKA,EAAO,OAAQ9O,EAAAC,EAAAC,cAAA,oDAA4CC,KAAKP,MAAMme,MAAMgB,OAAO/V,IACxF,IAAMgL,EAAO,IAAID,KAAKjF,EAAMmF,qBACtBC,EAAU,IAAIH,KAAKjF,EAAMqF,mBAC/B,OACInU,EAAAC,EAAAC,cAAA,WAASsH,UAAU,yBACfxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WACXxH,EAAAC,EAAAC,cAAA,OAAKmI,IAAKyG,EAAMnJ,MAAQmJ,EAAMnJ,MAAMxE,IAAM,KAAMoH,IAAI,OAG5DvI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QACXxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aAAasH,EAAM5K,MACjClE,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAasH,EAAM4D,aAChC1S,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAasH,EAAMiZ,aAK5C/nB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OAEXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,+BACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACXxH,EAAAC,EAAAC,cAAA,6BAEJF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAI8G,IAAI,QAAOhH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,kBAAoBxH,EAAAC,EAAAC,cAAA,kBAAa8T,EAAK8S,iBAC9D9mB,EAAAC,EAAAC,cAAA,gBAAWgU,EAAQ4S,kBAEtBhY,EAAMnH,SACH3H,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,qBACbxH,EAAAC,EAAAC,cAAA,mBAFJ,IAEmB4O,EAAMnH,SAASgN,OAAS,KAAO7F,EAAMnH,SAASiN,KAAO,IAAM9F,EAAMnH,SAAS7C,OAG7F,QAKfgK,EAAMkZ,QACHhoB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,+BACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACXxH,EAAAC,EAAAC,cAAA,4BAGJF,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,SACTrH,KAAK8nB,cAAcnZ,EAAMkZ,WAIlC,gDASlBA,GACV,OAAOlnB,OAAOuI,KAAK2e,GAASphB,IAAI,SAAAI,GAC5B,OAAOhH,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GAAKhH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,uBAA0BwgB,EAAQhhB,aAhGrD3G,IAAMC,WA4GlBC,qBARS,SAACqK,GACrB,MAAO,CACH9K,KAAM8K,EAAM/K,SAASC,KACrBtB,KAAMoM,EAAMpM,KAAK6L,KACjBoJ,OAAQ7I,EAAMC,KAAK4I,OACnB7N,MAAOgF,EAAMhF,QAGmB,KAAzBrF,CAA+BsnB,IC3GxCK,8MASFxoB,QAAU,WACNC,EAAKC,MAAMC,SAASC,OAAOC,UAC3BJ,EAAKC,MAAMhB,uFATX,OAEIoB,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,cAAc9I,KAAK,SAASgB,QAASS,KAAKT,SAA5D,mBAJgBW,IAAMC,eAenBC,kBAAQ,KAAM,CAAC3B,eAAf2B,CAA6BC,uBAAa0nB,wBCQ1CC,eAxBX,SAAAA,EAAYvoB,GAAM,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAgoB,IACdxoB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAqnB,GAAA5jB,KAAApE,KAAMP,KACDkF,MAAM,CACPsjB,MAAO,IACPtP,MAAO,GAJGnZ,wEAUd,OACQK,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QACXxH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WACLF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,QACXxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAWrH,KAAKP,MAAM6S,QAE7BzS,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACXxH,EAAAC,EAAAC,cAACmoB,GAAApoB,EAAD,CAAS0T,IAAKxT,KAAKP,MAAM+T,IAAK2U,SAAU,KAE5CtoB,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,iBAAiBrH,KAAKP,MAAM6I,eArBxCpI,IAAMC,WCItBgO,GAAgB,CAClBpK,KAAM,GACN4gB,SAAU,cACVnd,SAAU,IAgKC4gB,eA5JX,SAAAA,EAAY3oB,GAAO,IAAAD,EAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAooB,IACf5oB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAynB,GAAAhkB,KAAApE,KAAMP,KAyHV6O,SAAW,SAACK,GACRA,EAAM3D,iBACN,IAAMxD,EAAWhI,EAAKmF,MAAMic,QAAU,KAAOphB,EAAKmF,MAAM8P,KAAO,KAAOjV,EAAKmF,MAAMA,MAC3EpC,EAAO,CACTwB,KAAQvE,EAAKmF,MAAMZ,KACnB2gB,UAAallB,EAAKmF,MAAMggB,SACxBnd,SAAYA,GAEZod,EAAUtkB,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAK,cACjDrJ,EAAKC,MAAMolB,cACXD,EAAUtkB,EAAKwkB,UAAY,IAAMtlB,EAAKC,MAAMolB,aAGhDziB,EAASwiB,EAASriB,GAAMyM,KAAK,SAAArN,GACzBG,QAAQC,IAAIJ,GACRA,EAAKsN,UACAzP,EAAKC,MAAMolB,aAMZrlB,EAAKC,MAAMslB,cAAcpjB,EAAKV,MAC9BzB,EAAKC,MAAMiY,cANXlY,EAAKC,MAAMulB,aAAarjB,EAAKV,MAC7BmB,EAAS9B,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAI,CAACqc,kBAAqBvjB,EAAKV,KAAK4H,KAAKmG,KAAK,SAAArN,GACjFA,EAAKsN,SAASzP,EAAKC,MAAMiY,kBAO1CqE,MAAM,SAAA1M,GACLvN,QAAQC,IAAIsN,MAnJhB,IAAIuR,EAAU,GACVnM,EAAO,GACP9P,EAAQ,KACZ,GAAIlF,EAAM+H,UAA8B,IAAlB/H,EAAM+H,SAAgB,CACxC,IAAI6gB,EAAgB5oB,EAAM+H,SAAS8gB,MAAM,MACzC1H,EAAUyH,EAAc,GACxB5T,EAAO4T,EAAc,GACrB1jB,EAAQ0jB,EAAc,GATX,OAWf7oB,EAAKmF,MAAQ,CACTZ,KAAMtE,EAAMsE,KAAOtE,EAAMsE,KAAOoK,GAAcpK,KAC9C4gB,SAAUllB,EAAMklB,SAAWllB,EAAMklB,SAAWxW,GAAcwW,SAE1D/D,QAASA,EACTnM,KAAMA,EACN9P,MAAOA,GAGXnF,EAAK+O,SAAW/O,EAAK+O,SAASxJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KApBDA,wEAuBV,IAAA2F,EAAAnF,KACL,OACIH,EAAAC,EAAAC,cAAA,QAAMuO,SAAUtO,KAAKsO,SAAUjH,UAAU,iBACrCxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,iBAAQF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,MACRxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,OAAO0K,MAAOzO,KAAK2E,MAAMZ,KAAMwK,SAAUvO,KAAKuO,SAAUG,UAAQ,KAE5F7O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBACXxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,QAAQwF,KAAK,WAAW8E,GAAG,mBAAmB4F,MAAM,cAAc2J,QAAiC,gBAAxBpY,KAAK2E,MAAMggB,SAA4BpW,SAAUvO,KAAKuO,WAC7I1O,EAAAC,EAAAC,cAAA,SAAOuY,QAAQ,mBAAmBjR,UAAU,OAAOoH,MAAM,oBAAzD,gBAEJ5O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBACXxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,QAAQwF,KAAK,WAAW8E,GAAG,kBAAkB4F,MAAM,aAAa2J,QAAiC,eAAxBpY,KAAK2E,MAAMggB,SAA2BpW,SAAUvO,KAAKuO,WAC1I1O,EAAAC,EAAAC,cAAA,SAAOuY,QAAQ,kBAAkBjR,UAAU,OAAOoH,MAAM,mBAAxD,gBAGR5O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,UAAU0K,MAAOzO,KAAK2E,MAAMic,QAAU5gB,KAAK2E,MAAMic,QAAU,GAAIrS,SAAUvO,KAAKuO,YAE1G1O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,OAAO0K,MAAOzO,KAAK2E,MAAM8P,KAAOzU,KAAK2E,MAAM8P,KAAO,GAAIlG,SAAUvO,KAAKuO,YAEjG1O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACXxH,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,UAAQ0O,MAAOzO,KAAK2E,MAAMA,MAAO4J,SAAU,SAAAI,GAAK,OAAIxJ,EAAKb,SAAS,CAAEK,MAAOgK,EAAMG,OAAOL,UACpF5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,IAAd,MACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,WACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,UACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,WACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,cACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,eACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,oBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,WACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,WACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,UACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,SACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,WACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,QACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,UACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,aACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,SACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,iBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,aACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,eACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,WACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,UACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,iBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,cACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,cACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,kBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,gBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,QACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,UACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,gBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,gBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,kBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,gBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,aACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,SACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,QACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,WACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,YACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,cACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,iBACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,aACA5O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,aAGR5O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,WACXxH,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,kBAAkB9I,KAAK,SAASgJ,MAAO,CAAE1B,MAAO,QAAW7F,KAAKP,MAAMolB,YAAgC,iBAAlB,oDAO7GlW,GAAO,IAAAC,EACZ5O,KAAKsE,UAALsK,EAAA,GAAAjO,OAAAkO,GAAA,EAAAlO,CAAAiO,EACKD,EAAMG,OAAO/K,KAAO4K,EAAMG,OAAOL,OADtC9N,OAAAkO,GAAA,EAAAlO,CAAAiO,EAAA,QAEW,MAFXA,IAIA9M,QAAQC,IAAI/B,KAAK2E,MAAMggB,iBAxHGzkB,IAAMC,WCDlCooB,eACF,SAAAA,EAAY9oB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAuoB,IACf/oB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA4nB,GAAAnkB,KAAApE,KAAMP,KAsCV6O,SAAW,SAACK,GAER,GADAA,EAAM3D,iBACFxL,EAAKmF,MAAM6jB,gBAAkBhpB,EAAKmF,MAAM8jB,aACxCjpB,EAAKkpB,oBACF,CACH,IAAMnmB,EAAO,CACT+b,UAAa9e,EAAKmF,MAAM2Z,UACxBjU,eAAkB7K,EAAKmF,MAAM0F,gBAE7Bua,EAAUtkB,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAEhDzG,EAASwiB,EAASriB,GAAMyM,KAAK,SAAArN,GACzBG,QAAQC,IAAIJ,GACRA,EAAKsN,SAAWtN,EAAKV,OACrBzB,EAAKC,MAAMrB,WAAWuD,EAAKV,MAC3BzB,EAAKC,MAAMiY,eAEhBqE,MAAM,SAAA1M,GACLvN,QAAQC,IAAIsN,OAvDpB7P,EAAKmF,MAAQ,CACT2Z,UAAW7e,EAAM6e,UAAY7e,EAAM6e,UAAY,GAC/CjU,eAAgB5K,EAAM4K,eAAiB5K,EAAM4K,eAAiB,GAC9Dme,gBAAgB,EAChBG,iBAAiB,EACjBF,cAAc,GAGlBjpB,EAAK+O,SAAW/O,EAAK+O,SAASxJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAVDA,wEAaV,IAAA2F,EAAAnF,KACL,OACIH,EAAAC,EAAAC,cAAA,QAAMuO,SAAUtO,KAAKsO,UAChBtO,KAAK2E,MAAM0K,MACZxP,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAerH,KAAK2E,MAAM0K,OAAa,KAEpDxP,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,YAAY0K,MAAOzO,KAAK2E,MAAM2Z,UAAW/P,SAAUvO,KAAKuO,SAAUG,UAAQ,IAClG7O,EAAAC,EAAAC,cAAA,sBAAaF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,MAEbxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,iBAAiB0K,MAAOzO,KAAK2E,MAAM0F,eAAgBkE,SAAUvO,KAAKuO,SAAUG,UAAQ,IAC5G7O,EAAAC,EAAAC,cAAA,2BAAkBF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,MAClBxH,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,kBAAkB9I,KAAK,UAAU,UACnDsB,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,cAAc9I,KAAK,SAASgB,QAAS,kBAAM4F,EAAK1F,MAAMiY,cAAxE,8CAMH/I,GAAO,IAAAC,EACZ5O,KAAKsE,UAALsK,EAAA,GAAAjO,OAAAkO,GAAA,EAAAlO,CAAAiO,EACKD,EAAMG,OAAO/K,KAAO4K,EAAMG,OAAOL,OADtC9N,OAAAkO,GAAA,EAAAlO,CAAAiO,EAAA,QAEW,MAFXA,IAIA9M,QAAQC,IAAI/B,KAAK2E,MAAMggB,kDA0BvB3kB,KAAKsE,SAAS,CAAC+K,MAAO,yDA/DGnP,IAAMC,WA0ExBC,qBANS,SAAAqK,GACpB,MAAO,CACHpM,KAAMoM,EAAMpM,KAAK6L,KACjBvK,KAAM8K,EAAM/K,SAASC,OAGW,CAAEvB,cAA3BgC,CAAyCmoB,ICrElDK,8MAmHF5V,QAAU,SAAC+T,EAAUC,GACjB,OAAOD,EAAS1T,YAAc2T,EAAc3T,WACxC0T,EAAS3T,aAAe4T,EAAc5T,YACtC2T,EAAS5T,gBAAkB6T,EAAc7T,uFApH7C,OAEItT,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACXxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,cAAcrH,KAAKP,MAAM6I,OACvCzI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACXxH,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,aAAaE,MAAO,CAAE1B,MAAO,SACzC7F,KAAKP,MAAMyK,KACRrK,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,eACbxH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,sBAGN,KACNF,EAAAC,EAAAC,cAAA,aACKC,KAAKP,MAAMyK,KAAOlK,KAAK6oB,qBAAqB7oB,KAAKP,MAAMonB,YAAc7mB,KAAK2U,aAAa3U,KAAKP,MAAMonB,qDAO9GA,GAAY,IAAA1hB,EAAAnF,KACrB,OAAK6mB,GAAcA,EAAW/Y,QAAU,EAEhCjO,EAAAC,EAAAC,cAAA,MAAI8G,IAAI,KAAIhH,EAAAC,EAAAC,cAAA,MAAI8c,QAAQ,QAAOhd,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,6BAAb,8BAAoExH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAM6N,QAA3B,eAIpG3S,OAAOuI,KAAK2d,GAAYpgB,IAAI,SAAAI,GAC/B,IAAI0d,EAAOsC,EAAWhgB,GAClB8H,EAAQ4V,EAAK5V,MACbkF,EAAO,IAAID,KAAKjF,EAAMmF,qBAC1B,OACIjU,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GAILhH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAE,GAAAjF,OAAKuC,EAAK1F,MAAMgG,MAAM6N,OAAtB,KAAA1Q,OAAgC+L,EAAM9F,KAC1ChJ,EAAAC,EAAAC,cAAA,cAAM4O,EAAM5K,SAIxBlE,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACPxH,EAAAC,EAAAC,cAAA,aAAK4O,EAAMnH,SAAN,GAAA5E,OAAmB+L,EAAMnH,SAASgN,OAAlC,MAAA5R,OAA6C+L,EAAMnH,SAASiN,MAAQ,MACzE5U,EAAAC,EAAAC,cAAA,aAAK8T,EAAMA,EAAK0K,qBAAuB,QAGnD1e,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAC0mB,GAAD,CACAtB,QAAQ,EACRhB,QAASxV,EAAM9F,GACfqb,OAAQ/e,EAAK1F,MAAMpB,KAAKwK,GAExB0b,KAAMA,sDAQTsC,GAAY,IAAA9d,EAAA/I,KAC7B,OAAK6mB,GAAcA,EAAW/Y,QAAU,EAEhCjO,EAAAC,EAAAC,cAAA,MAAI8G,IAAI,KAAIhH,EAAAC,EAAAC,cAAA,MAAI8c,QAAQ,QAAOhd,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,6BAAb,8BAAoExH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI7H,KAAKP,MAAMgG,MAAM6N,QAA3B,eAIpG3S,OAAOuI,KAAK2d,GAAYpgB,IAAI,SAAAI,GAC/B,IAAI0d,EAAOsC,EAAWhgB,GAClB8H,EAAQ4V,EAAK5V,MACbma,EAAY,IAAIlV,KAAKjF,EAAMmF,qBAC3BiV,EAAU,IAAInV,KAAKjF,EAAMqF,mBAC7B,OACInU,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GACLhH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,UAAK4O,EAAM5K,QAGnBlE,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACVxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,SAAIgJ,EAAKiK,QAAQ8V,EAAWC,GAAUD,EAAUvK,qBAAuBuK,EAAUvK,qBAAuB,MAAQwK,EAAQxK,wBAGhI1e,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACVxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,SAAIgJ,EAAKiK,QAAQ8V,EAAWC,GAAUD,EAAUxU,qBAAqB,MAAMyU,EAAQzU,qBAAuBwU,EAAUxU,wBAG5HzU,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACVxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,SAAI4O,EAAMnH,SAAN,GAAA5E,OAAmB+L,EAAMnH,SAASgN,OAAlC,MAAA5R,OAA6C+L,EAAMnH,SAASiN,MAAQ,QAGhF5U,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACVxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,aAAKwkB,EAAKjN,OAAV,iBA3GJpX,IAAMC,WAmIxB6c,GAAqB,CACvB7d,kBAAiBL,sBAAqBI,sBAAqB4W,mBAAiBH,sBAAoBE,0BAGrFzV,qBAdS,SAACqK,GACrB,MAAO,CACHpM,KAAMoM,EAAMpM,KAAK6L,KACjBvL,KAAM8L,EAAMpM,KAAKM,KACjBK,KAAMyL,EAAMpM,KAAKW,KACjBwW,cAAe/K,EAAMC,KAAK8K,cAC1B/P,MAAOgF,EAAMhF,QAQmBuX,GAAzB5c,CAA6CwoB,IClJtDI,eACF,SAAAA,EAAYvpB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAgpB,IACfxpB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAqoB,GAAA5kB,KAAApE,KAAMP,KAoCV6O,SAAW,WACP,GAAyB,OAArB9O,EAAKmF,MAAM8J,MAAgB,CAC3B,IAAMlM,EAAO,CACTlD,YAAeG,EAAKmF,MAAM8J,OAE1BmW,EAAUtkB,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAEhDzG,EAASwiB,EAASriB,GAAMyM,KAAK,SAAArN,GACzBG,QAAQC,IAAIJ,GACRA,EAAKsN,UACLzP,EAAKC,MAAML,yBAAyBuC,EAAKV,KAAK5B,aAC9CG,EAAKC,MAAMiY,eAEhBqE,MAAM,SAAA1M,GACLvN,QAAQC,IAAIsN,OAjDpB7P,EAAKmF,MAAQ,CACT8J,MAAO,MAGXjP,EAAK+O,SAAW/O,EAAK+O,SAASxJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KANDA,wEASV,IAAA2F,EAAAnF,KACL,OACIH,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,MAAIwH,MAAO,CAAEvB,QAAS,iBAAtB,eADJ,OAGInG,EAAAC,EAAAC,cAAA,UAAQ0O,MAAOzO,KAAK2E,MAAM8J,MAAOF,SAAUvO,KAAKuO,UAC5C1O,EAAAC,EAAAC,cAAA,UAAQ0O,MAAM,MAAd,MACC9N,OAAOuI,KAAKlJ,KAAKP,MAAMJ,aAAaoH,IAAI,SAAAI,GACrC,IAAMtB,EAAYJ,EAAK1F,MAAMJ,YAAYwH,GACzC,OAA0F,IAAvF1B,EAAK1F,MAAMpB,KAAKgB,YAAYwE,OAAO,SAAAolB,GAAQ,OAAOA,EAAIpgB,KAAOtD,EAAUsD,KAAKiF,OACpEjO,EAAAC,EAAAC,cAAA,UAAQ8G,IAAKA,EAAK4H,MAAOlJ,EAAUsD,IAAKtD,EAAUxB,MACtD,QAGflE,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAUE,MAAQ,CAAC1B,MAAM,OAAQtG,QAASS,KAAKsO,UAAjE,QACAzO,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAUE,MAAQ,CAAC1B,MAAM,OAAQtG,QAASS,KAAKP,MAAMiY,WAAvE,4CAMH/I,GACY3O,KAAK2E,MAAM8J,MAC5BzO,KAAKsE,SAAS,CACVmK,MAAOE,EAAMG,OAAOL,eAlCGvO,IAAMC,WAiEnC6c,GAAqB,CAAE5d,4BAEdgB,qBARS,SAAAqK,GACpB,MAAO,CACHpL,YAAaoL,EAAMC,KAAKrL,YACxBhB,KAAMoM,EAAMpM,KAAK6L,OAKe8S,GAAzB5c,CAA6C4oB,8CChEtDE,oLACO,IAAA1pB,EAAAQ,KACL,OACIH,EAAAC,EAAAC,cAAA,OAAKwH,MAAO,CAACG,QAAS,SAClB7H,EAAAC,EAAAC,cAAA,OAAKmI,IAAKC,KAAMZ,MAAO,CAAC1B,MAAO,MAAOoF,OAAO,OAAQjF,QAAQ,QAASmjB,cAAc,UACpFtpB,EAAAC,EAAAC,cAAC2d,GAAD,CAAMpV,MAAM,aAAaoU,WAAY1c,KAAKP,MAAMd,KAAM2Y,OAAO,OAAOpN,MAAM,IAC1ErK,EAAAC,EAAAC,cAAC2d,GAAD,CAAMpV,MAAM,oBAAoBoU,WAAY1c,KAAKP,MAAMT,KAAMsY,OAAO,OAAOpN,MAAM,IAChFlK,KAAKP,MAAM+nB,MACZ3nB,EAAAC,EAAAC,cAACqpB,GAAD,CAAW9gB,MAAM,cAAcue,WAAY7mB,KAAKP,MAAM+nB,MAAM3jB,OAAO,SAAA0gB,GAAI,OAAIA,EAAKN,UAAYM,EAAKN,SAASpb,KAAOrJ,EAAKC,MAAMpB,KAAKwK,KAAKqB,MAAM,IAC3I,aATchK,IAAMC,WAgB/BkpB,oLACO,IAAAlkB,EAAAnF,KACL,OACIH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACupB,GAAD,CAAkBC,IAAK,SAAAC,GAAE,OAAKrkB,EAAKskB,aAAeD,GAAK7qB,KAAMqB,KAAKP,MAAMd,KAAMK,KAAMgB,KAAKP,MAAMT,KAAMwoB,MAAOxnB,KAAKP,MAAM+nB,MAAOnpB,KAAM2B,KAAKP,MAAMpB,OAC/IwB,EAAAC,EAAAC,cAAC2pB,GAAA5pB,EAAD,CACImW,QAAS,kBAAM9Q,EAAKskB,cACpB1S,QAAS,kBAAMlX,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,WAAlB,IAA6BxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,gBAA1C,kCAPXnH,IAAMC,WAsBfC,qBARS,SAACqK,GACrB,MAAO,CACH9L,KAAM8L,EAAMpM,KAAKM,KACjBK,KAAMyL,EAAMpM,KAAKW,KACjBwoB,MAAO/c,EAAMC,KAAK8c,MAClBnpB,KAAMoM,EAAMpM,KAAK6L,OAGV9J,CAAyBipB,aCrClCM,eACF,SAAAA,EAAYlqB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAA2pB,IACfnqB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAgpB,GAAAvlB,KAAApE,KAAMP,KAyCV8O,SAAW,SAACI,GAAU,IAAAC,EAClBpP,EAAK8E,UAALsK,EAAA,GAAAjO,OAAAkO,GAAA,EAAAlO,CAAAiO,EACKD,EAAMG,OAAO/K,KAAO4K,EAAMG,OAAOL,OADtC9N,OAAAkO,GAAA,EAAAlO,CAAAiO,EAAA,QAEW,MAFXA,IAIA9M,QAAQC,IAAIvC,EAAKmF,MAAMggB,WA/CRnlB,EAkDnB8O,SAAW,SAACK,GACRA,EAAM3D,iBACFxL,EAAKmF,MAAM8jB,aACXjpB,EAAKkpB,gBAELlpB,EAAKC,MAAMiY,aArDflY,EAAKmF,MAAQ,CACT8jB,cAAc,EACdxG,SAAU,IAJCziB,wEAQV,IAAA2F,EAAAnF,KACL,OACIH,EAAAC,EAAAC,cAAA,QAAMuO,SAAUtO,KAAKsO,UACjBzO,EAAAC,EAAAC,cAAA,4DACwB,uBAAvBC,KAAK4pB,cACF/pB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,WAAWwF,KAAK,WAAW0K,MAAOzO,KAAK2E,MAAMsd,SAAU1T,SAAUvO,KAAKuO,SAAUG,UAAQ,IACpG7O,EAAAC,EAAAC,cAAA,qBAAYF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,OAEd,KAENxH,EAAAC,EAAAC,cAAA,SACIxB,KAAK,QACLsK,GAAG,cACHuP,QAASpY,KAAK2E,MAAM8jB,aACpBla,SAAU,kBAAMpJ,EAAKb,SAAS,CAAEmkB,cAAetjB,EAAKR,MAAM8jB,gBAC1DlhB,MAAO,CAAEvB,QAAS,kBAEtBnG,EAAAC,EAAAC,cAAA,SAAOuY,QAAQ,cAAc/Q,MAAO,CAAEvB,QAAS,iBAA/C,SAhBJ,OAkBInG,EAAAC,EAAAC,cAAA,SACIxB,KAAK,QACLsK,GAAG,gBACHuP,SAAUpY,KAAK2E,MAAM8jB,aACrBla,SAAU,kBAAMpJ,EAAKb,SAAS,CAAEmkB,cAAetjB,EAAKR,MAAM8jB,gBAC1DlhB,MAAO,CAAEvB,QAAS,kBAEtBnG,EAAAC,EAAAC,cAAA,SAAOuY,QAAQ,gBAAgB/Q,MAAO,CAAEvB,QAAS,iBAAjD,OACAnG,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,kBAAkB9I,KAAK,UAAU,UACnDsB,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,cAAc9I,KAAK,SAASgB,QAAS,kBAAM4F,EAAK1F,MAAMiY,cAAxE,qDAoBI,IAAA3O,EAAA/I,KACN6pB,EAAW7pB,KAAK4pB,cACtB,GAAiB,uBAAbC,EAaG,MAAiB,WAAbA,OAEP7pB,KAAKP,MAAMC,SAASC,OAAO8iB,gBAAgBZ,IAAgB7S,KAAK,WAC5DjG,EAAKtJ,MAAMC,SAASC,OAAOmqB,YAAYC,SAAS/a,KAAK,WACjD3L,EAAU,GAAAT,OAAItC,EAAKub,KAAT,KAAAjZ,OAAiBmG,EAAKtJ,MAAMpB,KAAKwK,KAAMmG,KAAK,SAAArN,GAClDG,QAAQC,IAAIJ,GACZoH,EAAKtJ,MAAMC,SAASC,OAAOC,UAC3BmJ,EAAKtJ,MAAMhB,kBAEhBsd,MAAM,SAAAC,GACLjT,EAAKzE,SAAS,CAAC+K,MAAO2M,EAAI5N,cAId,aAAbyb,OAEP7pB,KAAKP,MAAMC,SAASC,OAAO8iB,gBAAgBV,IAAkB/S,KAAK,WAC9DjG,EAAKtJ,MAAMC,SAASC,OAAOmqB,YAAYC,SAAS/a,KAAK,WACjD3L,EAAU,GAAAT,OAAItC,EAAKub,KAAT,KAAAjZ,OAAiBmG,EAAKtJ,MAAMpB,KAAKwK,KAAMmG,KAAK,SAAArN,GAClDG,QAAQC,IAAIJ,GACZoH,EAAKtJ,MAAMC,SAASC,OAAOC,UAC3BmJ,EAAKtJ,MAAMhB,kBAEhBsd,MAAM,SAAAC,GACLjT,EAAKzE,SAAS,CAAC+K,MAAO2M,EAAI5N,mBAKlCpO,KAAKsE,SAAS,CAAE+K,MAAO,6DAzCvB,IAAI2a,EAAOhqB,KAAKP,MAAMC,SAASC,KAAKsqB,kBAAkBC,WAClDlqB,KAAKP,MAAMpB,KAAKiP,MAAOtN,KAAK2E,MAAMsd,UAEtCjiB,KAAKP,MAAMC,SAASC,OAAOmqB,YAAYK,6BAA6BH,GAAMhb,KAAK,WAC3EjG,EAAKtJ,MAAMC,SAASC,OAAOmqB,YAAYC,SAAS/a,KAAK,WACjD3L,EAAU,GAAAT,OAAItC,EAAKub,KAAT,KAAAjZ,OAAiBmG,EAAKtJ,MAAMpB,KAAKwK,KAAMmG,KAAK,SAAArN,GAClDG,QAAQC,IAAIJ,GACZoH,EAAKtJ,MAAMC,SAASC,OAAOC,UAC3BmJ,EAAKtJ,MAAMhB,0DAuC3B,GAAIuB,KAAKP,MAAME,MAAQK,KAAKP,MAAME,KAAKyqB,aAAc,CAE7C,GAAmD,aAA/CpqB,KAAKP,MAAME,KAAKyqB,aAAa,GAAGC,WAChC,MAAO,qBACJ,GAAIrqB,KAAKP,MAAME,KAAKyqB,aAAa,GAAGC,WAAWlP,cAAcmP,QAAQ,WAAa,EACrF,MAAO,SACJ,GAAItqB,KAAKP,MAAME,KAAKyqB,aAAa,GAAGC,WAAWlP,cAAcmP,QAAQ,aAAe,EACvF,MAAO,WAInB,OAAO,YAxHqBpqB,IAAMC,WA6HpCoqB,GAAoBjH,aACtBjjB,eADsBijB,CAExBqG,IASavpB,qBANS,SAAAqK,GACpB,MAAO,CACHpM,KAAMoM,EAAMpM,KAAK6L,KACjBvK,KAAM8K,EAAM/K,SAASC,OAGW,CAAEvB,aAAYK,eAAvC2B,CAAsDmqB,ICvI/DC,eACF,SAAAA,EAAY/qB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAwqB,IACfhrB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA6pB,GAAApmB,KAAApE,KAAMP,KA8BV8O,SAAW,SAACI,GAAU,IAAAC,EAClBpP,EAAK8E,UAALsK,EAAA,GAAAjO,OAAAkO,GAAA,EAAAlO,CAAAiO,EACKD,EAAMG,OAAO/K,KAAO4K,EAAMG,OAAOL,OADtC9N,OAAAkO,GAAA,EAAAlO,CAAAiO,EAAA,QAEW,MAFXA,IAIA9M,QAAQC,IAAIvC,EAAKmF,MAAMggB,WApCRnlB,EAuCnB8O,SAAW,SAACK,GAGR,GAFAA,EAAM3D,iBAEHxL,EAAKmF,MAAM8lB,YAAcjrB,EAAKmF,MAAM+lB,UACnClrB,EAAK8E,SAAS,CAAC+K,MAAO,iCACrB,CACD,IAAI2a,EAAOxqB,EAAKC,MAAMC,SAASC,KAAKsqB,kBAAkBC,WAClD1qB,EAAKC,MAAMpB,KAAKiP,MAAO9N,EAAKmF,MAAMgmB,cAEtCnrB,EAAKC,MAAMC,SAASC,OAAOmqB,YAAYK,6BAA6BH,GAAMhb,KAAK,WAC3ExP,EAAKC,MAAMC,SAASC,OAAOmqB,YAAYc,eAAeprB,EAAKmF,MAAM8lB,WAAWzb,KAAK,WAC7ExP,EAAKC,MAAMiY,UAAU,+CACtBqE,MAAM,SAAAC,GACLxc,EAAK8E,SAAS,CAAE+K,MAAO2M,EAAI5N,QAAS4N,EAAI5N,QAAU4N,QAEvDD,MAAM,SAAAC,GACLxc,EAAK8E,SAAS,CAAE+K,MAAO2M,EAAI5N,QAAS4N,EAAI5N,QAAU4N,QArD1Dxc,EAAKmF,MAAQ,CACT0K,MAAO,KACPsb,aAAc,KACdF,UAAW,KACXC,UAAW,MANAlrB,wEAUV,IAAA2F,EAAAnF,KACL,OACIH,EAAAC,EAAAC,cAAA,QAAMuO,SAAUtO,KAAKsO,UAChBtO,KAAK2E,MAAM0K,MACRxP,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAerH,KAAK2E,MAAM0K,OAAa,KAExDxP,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,WAAWwF,KAAK,eAAe0K,MAAOzO,KAAK2E,MAAMgmB,aAAcpc,SAAUvO,KAAKuO,SAAUG,UAAQ,IAC5G7O,EAAAC,EAAAC,cAAA,yBAAgBF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,MAEhBxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,WAAWwF,KAAK,YAAY0K,MAAOzO,KAAK2E,MAAM8lB,UAAWlc,SAAUvO,KAAKuO,SAAUG,UAAQ,IACtG7O,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,iEACVhX,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,WAAWwF,KAAK,YAAY0K,MAAOzO,KAAK2E,MAAM+lB,UAAWnc,SAAUvO,KAAKuO,SAAUG,UAAQ,KAG1G7O,EAAAC,EAAAC,cAAA,yBAAgBF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,MAChBxH,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,kBAAkB9I,KAAK,UAAU,UACnDsB,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,cAAc9I,KAAK,SAASgB,QAAS,kBAAM4F,EAAK1F,MAAMiY,cAAxE,oBA3BqBxX,IAAMC,WA8DrC0qB,GAAqBvH,aACvBjjB,eADuBijB,CAEzBkH,IAQapqB,qBANS,SAAAqK,GACpB,MAAO,CACHpM,KAAMoM,EAAMpM,KAAK6L,KACjBvK,KAAM8K,EAAM/K,SAASC,OAGW,CAAEvB,cAA3BgC,CAAyCyqB,IC1ElDC,eACF,SAAAA,EAAYrrB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAA8qB,IACftrB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAmqB,GAAA1mB,KAAApE,KAAMP,KAsBV8O,SAAW,SAACI,GAAU,IAAAC,EAClBpP,EAAK8E,UAALsK,EAAA,GAAAjO,OAAAkO,GAAA,EAAAlO,CAAAiO,EACKD,EAAMG,OAAO/K,KAAO4K,EAAMG,OAAOL,OADtC9N,OAAAkO,GAAA,EAAAlO,CAAAiO,EAAA,QAEW,MAFXA,IAIA9M,QAAQC,IAAIvC,EAAKmF,MAAMggB,WA5BRnlB,EA+BnB8O,SAAW,SAACK,GACRA,EAAM3D,iBAEN,IAAIgf,EAAOxqB,EAAKC,MAAMC,SAASC,KAAKsqB,kBAAkBC,WAClD1qB,EAAKC,MAAMpB,KAAKiP,MAAO9N,EAAKmF,MAAMsd,UAEtCziB,EAAKC,MAAMC,SAASC,OAAOmqB,YAAYK,6BAA6BH,GAAMhb,KAAK,WAC3ExP,EAAKC,MAAMC,SAASC,OAAOmqB,YAAYiB,YAAYvrB,EAAKmF,MAAM2I,OAAO0B,KAAK,WACtExP,EAAKC,MAAMC,SAASC,OAAOmqB,YAAYkB,wBAAwBhc,KAAK,kBAAMlN,QAAQC,IAAI,gBACtFK,EAAQ,GAAAQ,OAAItC,EAAKub,KAAT,KAAAjZ,OAAiBpD,EAAKC,MAAMpB,KAAKwK,IAAM,CAACyE,MAAO9N,EAAKmF,MAAM2I,QAAQ0B,KAAK,SAAAtM,GAC3EZ,QAAQC,IAAIW,KAEhBlD,EAAKC,MAAMiY,UAAU,8FACtBqE,MAAM,SAAAC,GACLxc,EAAK8E,SAAS,CAAE+K,MAAO2M,EAAI5N,QAAS4N,EAAI5N,QAAU4N,QAEvDD,MAAM,SAAAC,GACLxc,EAAK8E,SAAS,CAAE+K,MAAO2M,EAAI5N,QAAS4N,EAAI5N,QAAU4N,OA9CtDxc,EAAKmF,MAAQ,CACT8jB,cAAc,GAHHjpB,wEAOV,IAAA2F,EAAAnF,KACL,OACIH,EAAAC,EAAAC,cAAA,QAAMuO,SAAUtO,KAAKsO,UAChBtO,KAAK2E,MAAM0K,MACRxP,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAerH,KAAK2E,MAAM0K,OAAa,KAExDxP,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,QAAQwF,KAAK,QAAQ0K,MAAOzO,KAAK2E,MAAM2I,MAAOiB,SAAUvO,KAAKuO,SAAUG,UAAQ,IAC3F7O,EAAAC,EAAAC,cAAA,sBAAaF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,MAEbxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,WAAWwF,KAAK,WAAW0K,MAAOzO,KAAK2E,MAAMsd,SAAU1T,SAAUvO,KAAKuO,SAAUG,UAAQ,IACpG7O,EAAAC,EAAAC,cAAA,qBAAYF,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,MACZxH,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,kBAAkB9I,KAAK,UAAU,UACnDsB,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,cAAc9I,KAAK,SAASgB,QAAS,kBAAM4F,EAAK1F,MAAMiY,cAAxE,qDAiCR1X,KAAKsE,SAAS,CAAE+K,MAAO,yDArDGnP,IAAMC,WAyDlC8qB,GAAkB3H,aACpBjjB,eADoBijB,CAEtBwH,IAQa1qB,qBANS,SAAAqK,GACpB,MAAO,CACHpM,KAAMoM,EAAMpM,KAAK6L,KACjBvK,KAAM8K,EAAM/K,SAASC,OAGW,CAAEvB,cAA3BgC,CAAyC6qB,ICnClDC,eACL,SAAAA,EAAYzrB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAkrB,IAClB1rB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAuqB,GAAA9mB,KAAApE,KAAMP,KAsKP0rB,WAAa,SAACC,GACb,OACCvrB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAAA,UACEP,EAAKC,MAAMpB,KAEXwB,EAAAC,EAAAC,cAAA,OAAKwH,MAAO,CAAEvB,QAAS,iBACnBnG,EAAAC,EAAAC,cAAA,QAAMwH,MAAO,CAAErB,MAAO,YAAtB,WADJ,IACuD1G,EAAKC,MAAMpB,KAAKgM,gBAGvE,eAEDxK,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAD,CAAUuJ,SAAU,kBAAM,MAAM9B,MAAO,CAAEvB,QAAS,iBACjDnG,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAASwJ,OAAV,CAAiB/B,MAAO,CAAErB,MAAO,OAAQD,WAAY,QAAS8S,OAAQ,WACtElZ,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAS2J,KAAV,CAAelC,MAAO,CACrByB,UAAW,oBACXC,aAAc,IACdvB,QAAS,MAET7H,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAASurB,KAAV,CAAe9rB,QAAS,kBAAMC,EAAK8E,SAAS,CAAEgnB,mBAAoB,WAAlE,gBACC9rB,EAAKC,MAAME,KAAKyqB,cAAwD,IAAxC5qB,EAAKC,MAAME,KAAKyqB,aAAatc,QAA+D,aAA/CtO,EAAKC,MAAME,KAAKyqB,aAAa,GAAGC,WAC7GxqB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAASurB,KAAV,CAAe9rB,QAAS,kBAAMC,EAAK8E,SAAS,CAAEgnB,mBAAoB,eAAlE,mBACAzrB,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAASurB,KAAV,CAAe9rB,QAAS,kBAAMC,EAAK8E,SAAS,CAAEgnB,mBAAoB,YAAlE,iBAEC,KAEHzrB,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAASurB,KAAV,CAAe9rB,QAAS,kBAAMC,EAAK8E,SAAS,CAAEgnB,mBAAoB,aAAlE,oBAxBH,YA6BAzrB,EAAAC,EAAAC,cAAA,aAAKP,EAAKmF,MAAMyJ,QAAU5O,EAAKmF,MAAMyJ,QAAU,GAA/C,KACU,SAATgd,EACAvrB,EAAAC,EAAAC,cAACwrB,GAAD,CACCjN,UAAW9e,EAAKC,MAAMpB,KAAKigB,UAC3BjU,eAAgB7K,EAAKC,MAAMpB,KAAKgM,eAChCqN,UAAW,eAACtJ,EAADjM,UAAA2L,OAAA,QAAA0d,IAAArpB,UAAA,GAAAA,UAAA,GAAW,GAAX,OAAkB3C,EAAK8E,SAAS,CAAEgnB,mBAAoB,KAAMld,QAASA,GAAoB,UAChG,KAEI,WAATgd,EACAvrB,EAAAC,EAAAC,cAAC0rB,GAAD,CACC/T,UAAW,eAACtJ,EAADjM,UAAA2L,OAAA,QAAA0d,IAAArpB,UAAA,GAAAA,UAAA,GAAW,GAAX,OAAkB3C,EAAK8E,SAAS,CAAEgnB,mBAAoB,KAAMld,QAASA,GAAoB,UAChG,KAEI,aAATgd,EACAvrB,EAAAC,EAAAC,cAAC2rB,GAAD,CACChU,UAAW,eAACtJ,EAADjM,UAAA2L,OAAA,QAAA0d,IAAArpB,UAAA,GAAAA,UAAA,GAAW,GAAX,OAAkB3C,EAAK8E,SAAS,CAAEgnB,mBAAoB,KAAMld,QAASA,GAAoB,UAChG,KAEI,UAATgd,EACAvrB,EAAAC,EAAAC,cAAC4rB,GAAD,CACCjU,UAAW,eAACtJ,EAADjM,UAAA2L,OAAA,QAAA0d,IAAArpB,UAAA,GAAAA,UAAA,GAAW,GAAX,OAAkB3C,EAAK8E,SAAS,CAAEgnB,mBAAoB,KAAMld,QAASA,GAAoB,QACpGd,MAAO9N,EAAKC,MAAMpB,KAAKiP,QACnB,OA7NU9N,EAuSnBwlB,aAAe,SAAChN,GACfxY,EAAKC,MAAMmsB,kBAAkB5T,GAC7BrX,OAAOuI,KAAK1J,EAAKC,MAAMpB,KAAKge,OAAO5V,IAAI,SAAAI,GACtC,IAAM+O,EAAOpW,EAAKC,MAAMpB,KAAKge,MAAMxV,GACnCrH,EAAKC,MAAMosB,kBAAkBjW,KAE9BpW,EAAKssB,oBA7SatsB,EA+SnBulB,cAAgB,SAAC/M,GAChBxY,EAAKC,MAAMssB,mBAAmB/T,IAhTZxY,EAmTnBwsB,gBAAkB,SAAChU,GACdxY,EAAKC,MAAMpB,KAAK0Z,WAAWjK,OAAS,EACvCzK,EAAU,GAAAT,OAAItC,EAAKwkB,UAAT,KAAAliB,OAAsBoV,EAAUnP,KAAMmG,KAAK,SAAArN,GAEpD,GADAG,QAAQC,IAAIJ,GACRA,EAAKsN,QAAS,CACjB,IAAIgd,EAAUzsB,EAAKC,MAAMT,KAAK6E,OAAO,SAAA/D,GAAC,OAAIA,EAAE8b,iBAAiB/S,KAAOmP,EAAUnP,KAAIiF,OAClFtO,EAAKC,MAAMysB,qBAAqBlU,GAChCxY,EAAK2sB,sBAAsBF,MAK7BzsB,EAAK8E,SAAS,CACb8nB,gBAAiB,qIAhUD5sB,EAoWnB6sB,eAAiB,SAAC9mB,GACjB,GAAIA,EAAUsD,KAAOrJ,EAAKC,MAAM8F,UAAUsD,GAAI,CAC7C,IAAIyjB,EAAkB,GAEtB9sB,EAAKC,MAAMpB,KAAKgB,YAAY+P,QAAQ,SAAA6Z,GAC/BA,EAAIpgB,KAAOtD,EAAUsD,IACxByjB,EAAgBrY,KAAKgV,EAAIpgB,MAG3B,IAAMtG,EAAO,CACZlD,YAAaitB,GAEdlqB,EAAQ,GAAAQ,OAAItC,EAAKub,KAAT,KAAAjZ,OAAiBpD,EAAKC,MAAMpB,KAAKwK,IAAMtG,GAAMyM,KAAK,SAAArN,GACzDG,QAAQC,IAAIJ,GACRA,EAAKsN,SACRzP,EAAKC,MAAM8sB,oBAAoBhnB,UAIjC/F,EAAK8E,SAAS,CACbkoB,cAAe,yCAxXChtB,EA6XnBitB,UAAY,SAAC7W,GACRA,GAAQpW,EAAKC,MAAMpB,MACtBgF,EAAU,GAAAT,OAAItC,EAAKosB,KAAT,KAAA9pB,OAAiBgT,EAAK/M,GAAtB,YAAAjG,OAAmCpD,EAAKC,MAAMpB,KAAKwK,KAAMmG,KAAK,SAAArN,GACvEG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRzP,EAAKC,MAAMktB,eAAe/W,GAE1BpW,EAAKC,MAAMmtB,sBAAsB,CAChChX,KAAMA,EACNiX,OAAQ,CACP9U,WAAYvY,EAAKC,MAAMpB,KAAK0Z,WAAWjK,OACvCgL,QAAStZ,EAAKC,MAAMd,KAAKmP,OAAStO,EAAKC,MAAMT,KAAK8O,OAClDgf,kBAAmBttB,EAAKC,MAAMT,KAAK8O,OACnCif,aAAcvtB,EAAKC,MAAMd,KAAKmP,cA1YjBtO,EAkZnBwtB,WAAa,WACRxtB,EAAKmF,MAAMynB,iBACd5sB,EAAK8E,SAAS,CACb8nB,gBAAiB,OAGf5sB,EAAKmF,MAAM6nB,eACdhtB,EAAK8E,SAAS,CACbkoB,cAAe,QA1ZChtB,EA8ZnBytB,oBAAsB,WACrB,IAAM1qB,EAAO,CACZlD,YAAeG,EAAKC,MAAM8F,UAAUsD,IAEjC+b,EAAUtkB,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAEhDzG,EAASwiB,EAASriB,GAAMyM,KAAK,SAAArN,GAC5BG,QAAQC,IAAIJ,GACRA,EAAKsN,SACRzP,EAAKC,MAAML,yBAAyBuC,EAAKV,KAAK5B,eAE7C0c,MAAM,SAAA1M,GACRvN,QAAQC,IAAIsN,MA1aK7P,EA8anB0tB,oBAAsB,WACrB,IAKItI,EAAUtkB,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAK,cAErDzG,EAASwiB,EAPI,CACZ7gB,KAAQ,OACR2gB,UAAa,cACbld,SAAY,KAIWwH,KAAK,SAAArN,GAE5B,GADAG,QAAQC,IAAIJ,GACRA,EAAKsN,QAAS,CACjBzP,EAAKwlB,aAAarjB,EAAKV,MACvB,IAAIgkB,EAAe,GACnBzlB,EAAKC,MAAMpB,KAAK0Z,WAAW3I,QAAQ,SAAA4I,GAClCiN,EAAahR,KAAK+D,EAAUnP,MAE7BtH,MAAMjB,EAAKub,KAAO,IAAMrc,EAAKC,MAAMpB,KAAKwK,GAAI,CAC3CrH,OAAQ,OACRe,KAAMU,KAAKC,UAAU,CACpBmH,eAAkB7K,EAAKC,MAAMpB,KAAKgM,eAClCiD,MAAS9N,EAAKC,MAAMpB,KAAKiP,MACzBgR,UAAa9e,EAAKC,MAAMpB,KAAKigB,UAC7B4G,kBAAA,GAAAtiB,OACIqiB,OAGHjW,KAAK,SAAAtM,GACP,OAAOA,EAASf,SACdqN,KAAK,SAAArN,GACPG,QAAQC,IAAIJ,QAGZoa,MAAM,SAAA1M,GACRvN,QAAQC,IAAIsN,MA7cb7P,EAAKmF,MAAQ,CACZ0Y,QAAQ,EACR8P,YAAY,EAEZC,kBAAmB,KACnBC,UAAW,KAEXC,YAAY,EACZC,UAAU,EACVjC,mBAAoB,KAEpBkC,UAAU,EAEVpf,QAAS,IAfQ5O,wEAmBV,IAAA2F,EAAAnF,KACR,IAAKA,KAAKP,MAAMpB,KACf,OAAOwB,EAAAC,EAAAC,cAACyjB,EAAA,SAAD,CAAU3b,GAAI7H,KAAKP,MAAMgG,MAAM+E,QAA/B,KAEkC,IAAtCxK,KAAKP,MAAMpB,KAAK0Z,WAAWjK,QAAiB9N,KAAK2E,MAAMwoB,aAC1DntB,KAAKsE,SAAS,CAAE6oB,YAAY,IAC5BntB,KAAKktB,uBAEFltB,KAAKP,MAAM8F,WAC0F,IAApGvF,KAAKP,MAAMpB,KAAKgB,YAAYwE,OAAO,SAAAolB,GAAS,OAAOA,EAAIpgB,KAAO1D,EAAK1F,MAAM8F,UAAUsD,KAAMiF,QAC5F9N,KAAKitB,sBAVC,IAaA5uB,EAAS2B,KAAKP,MAAdpB,KAER,OACCwB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,cAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgB9H,QAASS,KAAKgtB,WAAYzlB,MAAO,CAACoF,UAAU,KAC1E9M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACbrH,KAAK2E,MAAM6oB,SACX3tB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAAC0tB,GAAD,MACA5tB,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,sBAAsB9H,QAAS,kBAAM4F,EAAKb,SAAS,CAAEkpB,UAAU,MAAjF,YAGD3tB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,MAAME,MAAO,CAAEsX,aAAc,MAAOC,YAAa,QAC/Djf,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,6BACbrH,KAAKmrB,WAAWnrB,KAAK2E,MAAM2mB,oBAC5BzrB,EAAAC,EAAAC,cAAA,WAASsH,UAAU,iCAClBxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAAEtB,WAAY,OAAQJ,MAAO,SAClEhG,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yCACdxH,EAAAC,EAAAC,cAAC2tB,GAAD,CAASla,IAAKxT,KAAKP,MAAMT,KAAOgB,KAAKP,MAAMT,KAAK8O,OAAS,EAAGwE,KAAM,aAAchK,MAAO,uBAExFzI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mDACdxH,EAAAC,EAAAC,cAAC2tB,GAAD,CAASla,IAAKxT,KAAKP,MAAMd,KAAOqB,KAAKP,MAAMd,KAAKmP,OAAS,EAAGwE,KAAM,aAAchK,MAAO,mBAExFzI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,wCACdxH,EAAAC,EAAAC,cAAC2tB,GAAD,CAASla,IAAKxT,KAAKP,MAAMT,KAAgC,GAAzBgB,KAAKP,MAAMT,KAAK8O,OAAc,EAAG6f,KAAM,OAAQrb,KAAM,aAAchK,MAAO,8BAO/GzI,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,gBAAgBE,MAAO,CAAE1B,MAAO,SAChDhG,EAAAC,EAAAC,cAAA,aACCF,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,YAEAC,KAAK4tB,iBAAiBvvB,EAAK0Z,YAC1B/X,KAAK2E,MAAM0oB,UAqBV,KApBFxtB,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,MAAI8c,QAAS,GACX7c,KAAK2E,MAAM4oB,SACX1tB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAAC8tB,GAAD,CACCxvB,KAAM2B,KAAKP,MAAMpB,KACjB2mB,aAAchlB,KAAKglB,aACnBtN,UAAW,kBAAMvS,EAAKb,SAAS,CAAEipB,UAAU,OAE5C1tB,EAAAC,EAAAC,cAAA,UACCsH,UAAU,UACV9H,QAAS,kBAAM4F,EAAKb,SAAS,CAAEipB,UAAU,KACzChmB,MAAO,CAAE1B,MAAO,QAHjB,WAODhG,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAU9H,QAAS,kBAAM4F,EAAKb,SAAS,CAAEipB,UAAU,EAAMF,UAAW,SAAtF,kDAQLrtB,KAAK2E,MAAMynB,gBACXvsB,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAb,IAA6BrH,KAAK2E,MAAMynB,iBAAuB,KAEhEvsB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,gBAAgBE,MAAO,CAAE1B,MAAO,SAChDhG,EAAAC,EAAAC,cAAA,aACCF,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,YAEAC,KAAK8tB,YAAYzvB,EAAKge,OACvBxc,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,MAAI8c,QAAS,EAAGzH,MAAM,UAASvV,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMP,UAAU,UAAUQ,GAAI7H,KAAKP,MAAMgG,MAAM4W,MAAO9U,MAAO,CAAE0D,OAAQ,QAAUjL,KAAKP,MAAMpB,KAAKge,MAAMvO,OAAS,EAAI,oBAAsB,oBAI5KjO,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,gBAAgBE,MAAO,CAAE1B,MAAO,SAChDhG,EAAAC,EAAAC,cAAA,aACCF,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,YAEAC,KAAK+tB,kBAAkB1vB,EAAKgB,aAC7BQ,EAAAC,EAAAC,cAAA,UACEC,KAAK2E,MAAM2oB,WACXztB,EAAAC,EAAAC,cAAA,MAAI8c,QAAS,GACZhd,EAAAC,EAAAC,cAACiuB,GAAD,CAAsBtW,UAAW,kBAAMvS,EAAKb,SAAS,CAAEgpB,YAAY,QAIpEztB,EAAAC,EAAAC,cAAA,MAAI8c,QAAS,GACZhd,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAU9H,QAAS,kBAAM4F,EAAKb,SAAS,CAAEgpB,YAAY,MAAvE,8BAMJttB,KAAK2E,MAAM6nB,cACX3sB,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAb,IAA6BrH,KAAK2E,MAAM6nB,eAAqB,KAE9D3sB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,YAGDF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,2BAA2BE,MAAO,CAAEsX,aAAc,MAAOC,YAAa,QAMnF9e,KAAKP,MAAMd,KACXkB,EAAAC,EAAAC,cAAC2d,GAAD,CAAMpV,MAAM,aAAaoU,WAAY1c,KAAKP,MAAMd,KAAM2Y,OAAO,SAAY,KACzEtX,KAAKP,MAAMT,KACXa,EAAAC,EAAAC,cAAC2d,GAAD,CAAMpV,MAAM,oBAAoBoU,WAAY1c,KAAKP,MAAMT,KAAMsY,OAAO,SAAY,KAChFtX,KAAKP,MAAM+nB,MACX3nB,EAAAC,EAAAC,cAACqpB,GAAD,CAAW9gB,MAAM,cAAcue,WAAY7mB,KAAKP,MAAM+nB,MAAM3jB,OAAO,SAAA0gB,GAAI,OAAIA,EAAKN,UAAYM,EAAKN,SAASpb,KAAO1D,EAAK1F,MAAMpB,KAAKwK,OAAU,KAC5IhJ,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,sBAAsB9H,QAAS,kBAAM4F,EAAKb,SAAS,CAAEkpB,UAAU,MAAjF,0EAqEUnuB,GAAa,IAAA0J,EAAA/I,KAC9B,OAAKX,EACEsB,OAAOuI,KAAK7J,GAAaoH,IAAI,SAAAI,GACnC,IAAMtB,EAAYlG,EAAYwH,GAC9B,OAAQhH,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GAChBhH,EAAAC,EAAAC,cAAA,cAAKF,EAAAC,EAAAC,cAAA,KAAGmH,KAAI,IAAAtE,OAAM2C,EAAU0oB,YAAvB,IAAsC1oB,EAAUxB,KAAhD,MACLlE,EAAAC,EAAAC,cAAA,cAAKF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,aAAa9H,QAAS,kBAAMwJ,EAAKsjB,eAAe9mB,KAAlE,IAA+E1F,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,iBAAjG,QALuBxH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,MAAI8c,QAAS,GAAb,+EAUlBR,GAAO,IAAAtS,EAAA/J,KAClB,OAAKqc,EACE1b,OAAOuI,KAAKmT,GAAO5V,IAAI,SAAAI,GAC7B,IAAM+O,EAAOyG,EAAMxV,GACnB,OAAQhH,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GAChBhH,EAAAC,EAAAC,cAAA,UACE6V,EAAK7R,KADP,QAEgBlE,EAAAC,EAAAC,cAACsa,GAAD,CAAS/R,MAAOsN,EAAK7R,KAAM8S,KAAMjB,EAAKrD,YAAa0E,IAAI,SACrEpX,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,oBAAoBE,MAAO,CAAErB,MAAO,eAGtDrG,EAAAC,EAAAC,cAAA,cAAKF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,cAAlB,IAAgCxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,cAAc9H,QAAS,kBAAMwK,EAAK0iB,UAAU7W,OAA9F,QAViB,8CAeHmC,GAAY,IAAAlN,EAAA7K,KAC5B,OAAOW,OAAOuI,KAAK6O,GAAYtR,IAAI,SAAAI,GAClC,IAAMqnB,EAAQnW,EAAWlR,GACzB,OAAIgE,EAAKlG,MAAM0oB,YAAca,EAAMrlB,GAEjChJ,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GACRhH,EAAAC,EAAAC,cAAA,MAAI8c,QAAS,GACZhd,EAAAC,EAAAC,cAAC8tB,GAAD,CACChJ,YAAaqJ,EAAMrlB,GACnB9E,KAAMmqB,EAAMnqB,KACZyD,SAAU0mB,EAAM1mB,SAChBmd,SAAUuJ,EAAMxJ,UAChBrmB,KAAMwM,EAAKpL,MAAMpB,KACjB0mB,cAAela,EAAKka,cACpBrN,UAAW,kBAAM7M,EAAKvG,SAAS,CAAE+oB,UAAW,UAE7CxtB,EAAAC,EAAAC,cAAA,UACCsH,UAAU,UACV9H,QAAS,kBAAMsL,EAAKvG,SAAS,CAAEipB,UAAU,EAAOF,UAAW,QAC3D9lB,MAAO,CAAE1B,MAAO,QAHjB,YAUFhG,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GACRhH,EAAAC,EAAAC,cAAA,UACEmuB,EAAMnqB,KADR,QAEsBlE,EAAAC,EAAAC,cAACsa,GAAD,CAAS/R,MAAO4lB,EAAMnqB,KAAM8S,KAChDqX,EAAM1mB,SAAW,aAAe0mB,EAAM1mB,SAAW,WAAa0mB,EAAMxJ,UAAY,yCAA2CwJ,EAAMxJ,UAChIzN,IAAI,SACLpX,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,oBAAoBE,MAAO,CAAErB,MAAO,eAGtDrG,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,YAAlB,IAA8BxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,aAAa9H,QAAS,kBAAMsL,EAAKvG,SAAS,CAAE+oB,UAAWa,EAAMrlB,GAAI0kB,UAAU,OAAtH,MACJ1tB,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,cAAlB,IAAgCxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,cAAc9H,QAAS,kBAAMsL,EAAKmhB,gBAAgBkC,MAA/F,uDAmCajC,GAAS,IAAA/gB,EAAAlL,KAC9BA,KAAKmc,iBAAiB,yBAA0B,GAChDxb,OAAOuI,KAAKlJ,KAAKP,MAAMpB,KAAKge,OAAOjN,QAAQ,SAAAvI,GAC1CqE,EAAKzL,MAAM0uB,qBAAqBjjB,EAAKzL,MAAMpB,KAAKge,MAAMxV,IACtD,IAAK,IAAIiR,EAAI,EAAGA,EAAImU,EAASnU,IAC5B5M,EAAKzL,MAAMoW,sBAAsB3K,EAAKzL,MAAMpB,KAAKge,MAAMxV,iDAKzD7G,KAAKmc,iBAAiB,wBAAyB,4CAE/BpY,EAAMwY,GAAQ,IAAAnR,EAAApL,KAC1BiB,EAAOjB,KAAKP,MAAM+V,cAAc3R,OAAO,SAAA5C,GAC1C,OAAOA,EAAK8C,OAASA,IACnB,GAEGxB,EAAO,CACZkM,MAASxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,GAE1Dna,EAAS9B,EAAKkc,KAAO,IAAMvb,EAAK4H,GAAItG,GAAMyM,KAAK,SAAArN,GAC9CG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRhO,EAAIN,OAAAwM,EAAA,EAAAxM,CAAA,GACAM,EADA,CAEHwN,MAAOxN,EAAKwN,MAAQ8N,EAAS,EAAItb,EAAKwN,MAAQ8N,EAAS,IAExDnR,EAAK3L,MAAMqW,gBAAgB7U,aAhWLf,IAAMC,WAke1B6c,GAAqB,CAC1B7d,kBACAysB,kBtDzagC,SAACsC,GAAD,OAAW,SAAA5vB,GAC1C,OAAOA,EAAS,CACdC,KCnFyB,gBDoFzBC,QAAS0vB,MsDuaZnC,mBtDnaiC,SAACmC,GAAD,OAAW,SAAA5vB,GAC3C,OAAOA,EAAS,CACdC,KCzF0B,iBD0F1BC,QAAS0vB,MsDiaZhC,qBtD5ZmC,SAACkC,GAAD,OAAc,SAAA9vB,GAChD,OAAOA,EAAS,CACdC,KChG4B,kBDiG5BC,QAAS4vB,MsD0ZZ7B,oBtDxYkC,SAAChnB,GAAD,OAAe,SAAAjH,GAChD,OAAOA,EAAS,CACdC,KCjH4B,kBDkH5BC,QAAS+G,MsDsYZnG,2BACA0W,mBACA6W,etD5X6B,SAAC/W,GAAD,OAAU,SAAAtX,GACtC,OAAOA,EAAS,CACZC,KC7HoB,aD8HpBC,QAASoX,MsD0XdgX,sBlCrToC,SAACyB,GAAD,OAAmB,SAAA/vB,GACpD,OAAOA,EAAS,CACZC,KnB7J0B,qBmB8J1BC,QAAS6vB,MkCmThBF,qBlC9RmC,SAACvY,GAAD,OAAU,SAAAtX,GAC1C,OAAOA,EAAS,CACZC,KnBjL6B,wBmBkL7BC,QAASoX,MkC4RhBC,yBACAgW,kBlCtSgC,SAACjW,GAAD,OAAU,SAAAtX,GACvC,OAAOA,EAAS,CACZC,KnB5K0B,qBmB6K1BC,QAASoX,OkCqSFxV,qBA5BS,SAACqK,GACxB,MAAO,CACN9K,KAAM8K,EAAM/K,SAASC,KACrBtB,KAAMoM,EAAMpM,KAAK6L,KACjBvL,KAAM8L,EAAMpM,KAAKM,KACjBK,KAAMyL,EAAMpM,KAAKW,KACjBK,YAAaoL,EAAMpM,KAAK6L,KAAOO,EAAMpM,KAAK6L,KAAK7K,YAAc,KAC7DkG,UAAWkF,EAAMC,KAAKnF,UACtBiQ,cAAe/K,EAAMC,KAAK8K,cAC1BuC,WAAYtN,EAAMpM,KAAK6L,KAAOO,EAAMpM,KAAK6L,KAAK6N,WAAa,KAC3DyP,MAAO/c,EAAMC,KAAK8c,MAClB/hB,MAAOgF,EAAMhF,QAiByBuX,GAAzB5c,CAA6C8qB,ICvc7CoD,oLAnEP,IAAM7d,EAAU,CAiBZnI,MAAO,CACCuO,KAAM7W,KAAKP,MAAM6I,MACjBf,MAAO,CACHQ,SAAU,OACV5B,WAAY,wBACZD,MAAO,YAGnBwK,MAAO,CACH5K,OAAQ,IACRvH,KAAM,MACNgwB,UAASvuB,KAAKP,MAAM8uB,SAASvuB,KAAKP,MAAM8uB,QACxCC,QAAS,CACLvd,MAAM,GAEVwd,KAAM,CACFC,SAAS,IAGjBC,MAAO,CACHC,WAAY5uB,KAAKP,MAAMmvB,YAE3Bhe,OAAQ5Q,KAAKP,MAAMmR,OACnBie,WAAY,CAAC,CACTC,WAAY,IACZre,QAAS,CACLse,OAAQ,CACJnpB,SAAU,SACVopB,SAAU,GACV7d,QAAS,MAIrBN,YAAa,CACToe,IAAK,CACDC,YAAY,IAGpBve,OAAQ3Q,KAAKP,MAAMkR,QAEvB,OACI9Q,EAAAC,EAAAC,cAAC4R,GAAA7R,EAAD,CAAOyH,MAAO,CAAE0D,OAAQ,QACpBwF,QAASA,EACTE,OAAQ3Q,KAAKP,MAAMkR,OACnBpS,KAAK,eAhEE2B,IAAMC,WCPRgvB,oLAEb,OACItvB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,6DACXxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aAAarH,KAAKP,MAAMQ,kBAJfC,IAAMC,WCSvCivB,oLACI,IAAA5vB,EAAAQ,KACR,IAAKA,KAAKP,MAAM4vB,kBAAoBrvB,KAAKP,MAAM4vB,iBAAiBvhB,QAAU,EAOzE,OANArN,EAAQH,EAAKgvB,mBAAmBtgB,KAAK,SAAArN,GACpCG,QAAQC,IAAIJ,GACRA,EAAKsN,SACRzP,EAAKC,MAAMgW,0BAA0B9T,EAAKV,KAAK6M,OAAS,EAAInM,EAAKV,KAAO,QAGnEpB,EAAAC,EAAAC,cAAC4e,GAAD,MAER,IAAK3e,KAAKP,MAAM2W,UAAYpW,KAAKP,MAAM+V,cAAe,OAAO3V,EAAAC,EAAAC,cAAC4e,GAAD,MAC7D,IAAK3e,KAAKP,MAAM+V,eAAqD,IAApCxV,KAAKP,MAAM+V,cAAc1H,OACzD,OAAQjO,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,eACtBxH,EAAAC,EAAAC,cAAA,kFAGF,IAAIwvB,EAAQvvB,KAAKP,MAAM4vB,iBAAiBrhB,MAAM,GAE9CuhB,EAAQA,EAAMtJ,KAAK,SAACnmB,EAAG0vB,GACtB,OAAOA,EAAE1C,kBAAoBhtB,EAAEgtB,oBAGhC,IAAI2C,EAAkB,CAErBb,WAAc,GACdje,OAAU,CACT,CACC5M,KAAM,qBAEN9C,KAAM,IAEP,CACC8C,KAAM,oBAEN9C,KAAM,MAKTsuB,EAAMngB,QAAQ,SAAAsgB,GACbD,EAAgBb,WAAW3a,KAAKyb,EAAKnqB,UAAUxB,MAC/C0rB,EAAgB9e,OAAO,GAAG1P,KAAKgT,KAAKyb,EAAKC,oBACzCF,EAAgB9e,OAAO,GAAG1P,KAAKgT,KAAKyb,EAAK5C,qBAG1C,IAAItW,EAAOxW,KAAKP,MAAM2W,QAAQvS,OAAO,SAAAwS,GAAY,MAAuB,aAAhBA,EAAOtS,OAAuB,GAAGyS,KACrFoZ,EAAmB,GACnBC,EAAe,CAClB,CACC9rB,KAAM,iBACN9C,KAAM,IAEP,CACC8C,KAAM,gBACN9C,KAAM,KAIRuV,EAAKpH,QAAQ,SAAAkH,GACZ,IAAIrV,EAAOzB,EAAKC,MAAM+V,cAAc3R,OAAO,SAAAisB,GAC1C,OAAOA,EAAExZ,MAAQA,EAAIzN,KACnB,GACH,GAAI5H,EAAM,CACT2uB,EAAiB3b,KAAKhT,EAAK8C,MAC3B8rB,EAAa,GAAG5uB,KAAKgT,KAAKhT,EAAKwN,OAC/B,IAAIshB,EAAQvwB,EAAKC,MAAM+V,cAAc3R,OAAO,SAAAisB,GAC3C,OAAQA,EAAExZ,KAAOwZ,EAAExZ,MAAQrV,EAAKqV,KAAOwZ,EAAE/rB,KAAKoX,cAAcmP,QAAQ,UAAY,IAC9E,GACCyF,EACHF,EAAa,GAAG5uB,KAAKgT,KAAK8b,EAAMthB,OAEhCohB,EAAa,GAAG5uB,KAAKgT,KAAK,MAK7B,IAAI+b,EAAoBhwB,KAAKP,MAAM+V,cAAc3R,OAAO,SAAAisB,GACvD,MAAkB,0BAAXA,EAAE/rB,OACP,GACCksB,EAAmBjwB,KAAKP,MAAM+V,cAAc3R,OAAO,SAAAisB,GACtD,MAAkB,yBAAXA,EAAE/rB,OACP,GACH,OACClE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACCxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,aAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAACoF,UAAU,KAChD9M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,0BACdxH,EAAAC,EAAAC,cAACmwB,GAAD,+BACArwB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAACiS,GAAD,CACCX,IAAK2e,EAAkBvhB,MAAOiD,KAAM2G,OAAO2X,EAAkB/d,aAAcR,MAAO,qBAAsBV,KAAM,IAC9GH,OAAQ,CAAC,eAIZ/Q,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAACiS,GAAD,CACCX,IAAK4e,EAAiBxhB,MAAOiD,KAAM2G,OAAO4X,EAAiBhe,aAAcR,MAAO,oBAAqBV,KAAM,IAC3GH,OAAQ,CAAC,gBAKb/Q,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,mBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oCACdxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aAAd,sBACAxH,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAAC4oB,IAAI,IAAIvqB,SAAS,WAAWmC,SAAS,GAAI+E,UAAU,iBAAiBsjB,MAAM,MAArF,gCAEDvwB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAACswB,GAAD,CACCzB,WAAYgB,EACZjf,OAAQkf,EACRtB,SAAS,EACT3d,OAAQ,CAAC,UAAW,aAGrB/Q,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAACQ,SAAS,GAAGkD,OAAO,GAAI5D,UAAU,aAA5C,sBAKVxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oCACdxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,aAAd,iCACAxH,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAAC4oB,IAAI,IAAIvqB,SAAS,WAAWmC,SAAS,GAAI+E,UAAU,iBAAiBsjB,MAAM,MAArF,6CAEDvwB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACdxH,EAAAC,EAAAC,cAACswB,GAAD,CACCzB,WAAYa,EAAgBb,WAC5Bje,OAAQ8e,EAAgB9e,OACxBC,OAAQ,CAAC,UAAW,aAEpB/Q,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAACQ,SAAS,GAAGkD,OAAO,IAA9B,8BA1IM/K,IAAMC,WA6JhBC,qBAPS,SAACqK,GACxB,MAAO,CACN4kB,iBAAkB5kB,EAAMC,KAAK2kB,iBAC7B7Z,cAAe/K,EAAMC,KAAK8K,cAC1BY,QAAS3L,EAAMC,KAAK0L,UAGkB,CAAEX,8BAA3BrV,CAAwDgvB,yBC7IxDkB,eA3Bb,SAAAA,EAAY7wB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAswB,IACjB9wB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA2vB,GAAAlsB,KAAApE,KAAMP,KAEDkF,MAAQ,GAHInF,wEAQV,IAAA2F,EAAAnF,KAAAuwB,EACgBvwB,KAAKP,MAAMwW,QAA3B3N,EADAioB,EACAjoB,MAAOkoB,EADPD,EACOC,KACd,OACE3wB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACbxH,EAAAC,EAAAC,cAAA,MAAIR,QAAW,WAAK4F,EAAK1F,MAAMgxB,WAAWppB,UAAU,2BAA0BxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,iBAC9FxH,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,UAAKuI,GACLzI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAIywB,MAIV3wB,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,uBAAuB9H,QAAW,WAAK4F,EAAK1F,MAAMgxB,qBAtBjDtwB,aCclBuwB,eACL,SAAAA,EAAYjxB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAA0wB,IAClBlxB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA+vB,GAAAtsB,KAAApE,KAAMP,KAQPkxB,YAAc,WACb,GAAInxB,EAAKmF,MAAMisB,cAAe,OAAO/wB,EAAAC,EAAAC,cAAC8wB,GAAD,CAAO5a,QAAWzW,EAAKmF,MAAMmsB,cAAeL,QAASjxB,EAAKuxB,eAV7EvxB,EAanBuxB,YAAc,WACb,IAAIrqB,EAAMlH,EAAKmF,MAAMisB,cACrBpxB,EAAK8E,SAAS,CAAEssB,eAAgBlqB,KAfdlH,EAsGnBwxB,OAAS,SAACC,GACT,QAAKzxB,EAAKC,MAAMpB,MAGTmB,EAAKC,MAAMpB,KAAKge,MAAMxY,OAAO,SAAA+R,GAAU,OAAOA,EAAK/M,KAAOooB,IAAWnjB,OAAS,GA1GnEtO,EA6GnB0xB,SAAW,SAACtb,GACX,IAAMrT,EAAO,CACZyd,QAASxgB,EAAKC,MAAMpB,KAAKwK,IAE1BzG,EAAQ,GAAAQ,OAAItC,EAAKosB,KAAT,KAAA9pB,OAAiBgT,EAAK/M,IAAMtG,GAAMyM,KAAK,SAAArN,GAC9CG,QAAQC,IAAIJ,GACRA,EAAKsN,UACRzP,EAAKC,MAAM0xB,cAAcvb,GAEzBpW,EAAKC,MAAM2xB,mBAAmB,CAC7Bxb,KAAMA,EACNiX,OAAQ,CACP9U,WAAYvY,EAAKC,MAAMpB,KAAK0Z,WAAWjK,OACvCgL,QAAStZ,EAAKC,MAAMd,KAAKmP,OAAStO,EAAKC,MAAMT,KAAK8O,OAClDgf,kBAAmBttB,EAAKC,MAAMT,KAAK8O,OACnCif,aAAcvtB,EAAKC,MAAMd,KAAKmP,cAzHlCtO,EAAKmF,MAAQ,CACZisB,eAAe,EACfE,cAAe,CAAExoB,MAAM,MAAMkoB,KAAK,QAEnChxB,EAAKuxB,YAAcvxB,EAAKuxB,YAAYhsB,KAAjBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAPDA,wEAkBlB,IAAM6c,EAAQrc,KAAKP,MAAM4xB,UACzB,OAAa,MAAThV,EAAsBxc,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAb,yFAGzBxH,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACErI,KAAK2wB,cACN9wB,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,YAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,oBAAoBE,MAAO,CAACoF,UAAU,KACpD9M,EAAAC,EAAAC,cAACmwB,GAAD,0BACArwB,EAAAC,EAAAC,cAACuxB,GAAAxxB,EAAD,CAAOyxB,UAAQ,EAAC5lB,OAAK,EAACkjB,YAAU,GAC/BhvB,EAAAC,EAAAC,cAAA,aACCF,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,yCACAF,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,wBAAwBI,IAAI,QACzCpX,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,eAAhB,mBAGFxH,EAAAC,EAAAC,cAAA,yBAGFF,EAAAC,EAAAC,cAAA,aACEC,KAAKwxB,gBAAgBnV,+CAQZoV,GAEf,IAF0B,IAAAtsB,EAAAnF,KACtB0xB,EAAcD,EAAUzjB,MAAM,GACzB8J,EAAI,EAAGA,EAAI4Z,EAAY5jB,OAAQgK,IAAK,CAC5C,IAAIC,EAAa2Z,EAAY5Z,GAAGC,WAC5B+U,EAAoB4E,EAAY5Z,GAAGgV,kBACnC6E,EAAOtZ,OAAOyU,GAAqBzU,OAAON,GAC9C4Z,EAASC,MAAMD,GAA2B,EAAlBA,EAAKE,QAAQ,GACrCH,EAAY5Z,GAAZ,wBAA4C6Z,EAO7C,OAJAD,EAAcA,EAAYzL,KAAK,SAACnmB,EAAG0vB,GAClC,OAAOA,EAAEsC,wBAA0BhyB,EAAEgyB,2BAGnBrrB,IAAI,SAACsrB,GACvB,IAAMvB,EAAQuB,EAAInc,KAAKrD,YAAYzE,OAAS,GAAKikB,EAAInc,KAAKrD,YAAYyf,OAAO,EAAE,IAAM,MAAQD,EAAInc,KAAKrD,YACtG,OACC1S,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,UAAKgyB,EAAInc,KAAK7R,KAAd,QACOlE,EAAAC,EAAAC,cAACsa,GAAD,CAAS/R,MAAOypB,EAAInc,KAAK7R,KAAM8S,KAAM2Z,EAAMvZ,IAAI,SACpDpX,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,iBAAiB9H,QAAS,WAAQ4F,EAAKb,SAAS,CAACwsB,cAAc,CAACxoB,MAAMypB,EAAInc,KAAK7R,KAAMysB,KAAKuB,EAAInc,KAAKrD,eAAepN,EAAK4rB,gBAAxI,WACAlxB,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,oBAAoBE,MAAO,CAAErB,MAAO,gBAIvDrG,EAAAC,EAAAC,cAAA,UAAKgyB,EAAIha,YACTlY,EAAAC,EAAAC,cAAA,UAAKgyB,EAAIjF,mBACTjtB,EAAAC,EAAAC,cAAA,UAAKgyB,EAAID,yBACTjyB,EAAAC,EAAAC,cAAA,iBACCoF,EAAK1F,MAAMpB,KACXwB,EAAAC,EAAAC,cAAA,UACEoF,EAAK6rB,OAAOe,EAAInc,KAAK/M,IACrBhJ,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,eAAcxH,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,sBAAb,KAAhC,UAEAxH,EAAAC,EAAAC,cAAA,UAAQsH,UAAU,UAAU9H,QAAS,WACpCuC,QAAQC,IAAI,WACZoD,EAAK+rB,SAASa,EAAInc,QAChB/V,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,mBAAb,KAHH,WAOFxH,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAI1C,EAAK1F,MAAMgG,MAAM+E,QAA3B,WAAH,8BA/FiBtK,IAAMC,WA6IxB6c,GAAqB,CAC1BmU,c3Dd4B,SAACvb,GAAD,OAAU,SAAAtX,GACrC,OAAOA,EAAS,CACZC,KCvHmB,YDwHnBC,QAASoX,M2DYdwb,mBvC0DiC,SAAC/C,GAAD,OAAmB,SAAA/vB,GACjD,OAAOA,EAAS,CACZC,KnBxJuB,kBmByJvBC,QAAS6vB,OuC3DFjuB,qBAbS,SAACqK,GACxB,MAAO,CACNpM,KAAMoM,EAAMpM,KAAK6L,KACjBvL,KAAM8L,EAAMpM,KAAKM,KACjBK,KAAMyL,EAAMpM,KAAKW,KACjBqyB,UAAW5mB,EAAMC,KAAK2mB,UACtB5rB,MAAOgF,EAAMhF,QAOyBuX,GAAzB5c,CAA6CswB,uDChJtDviB,GAAgB,CAClBb,MAAO,GACP2kB,YAAa,GACbC,YAAa,GAEbC,UAAW,GACXC,SAAU,GACVC,cAAe,GACfC,iBAAiB,EACjBC,kBAAkB,EAClBC,cAAc,EACdC,SAAS,EAETrH,KAAM,EACN/b,MAAO,MAGLqjB,eACF,SAAAA,EAAYjzB,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAA0yB,IACflzB,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA+xB,GAAAtuB,KAAApE,KAAMP,KA2DVkzB,WAAa,SAACjoB,GAEV,OADA5I,QAAQC,IAAI2I,GACC,IAATA,EACOlL,EAAKozB,cACI,IAATloB,EACAlL,EAAKqzB,cACI,IAATnoB,EACAlL,EAAKszB,mBADT,GAlEQtzB,EAsEnBozB,YAAc,WAAM,IAAA3P,EAMZzjB,EAAKmF,MAJL2I,EAFY2V,EAEZ3V,MACA2kB,EAHYhP,EAGZgP,YACAC,EAJYjP,EAIZiP,YACA7iB,EALY4T,EAKZ5T,MAEJ,OACIxP,EAAAC,EAAAC,cAAA,OAAMsH,UAAU,6BACZxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACXxH,EAAAC,EAAAC,cAAA,+CAEJF,EAAAC,EAAAC,cAAA,QAAMuO,SAAU9O,EAAK8O,UACjBzO,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,sBAC5CxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,QAAQwF,KAAK,QAAQ0K,MAAOnB,EAAOiB,SAAU/O,EAAK+O,SAAUC,YAAY,mBAAmBE,UAAQ,KAEnH7O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,sBAC5CxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,WAAWwF,KAAK,cAAc0K,MAAOwjB,EAAa1jB,SAAU/O,EAAK+O,SAAUC,YAAY,sBAAsBE,UAAQ,KAErI7O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,sBAC5CxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,WAAWwF,KAAK,cAAc0K,MAAOyjB,EAAa3jB,SAAU/O,EAAK+O,SAAUC,YAAY,yBAAyBE,UAAQ,KAExI7O,EAAAC,EAAAC,cAAA,WACCsP,GAASxP,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAAErB,MAAO,QAAnB,IAA8BmJ,EAA9B,KACVxP,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,YACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,wBACXxH,EAAAC,EAAAC,cAAA,UAAQxB,KAAK,SAAS4Z,SAAU3Y,EAAKwjB,YAAa3b,UAAU,WAA5D,qBAIZxH,EAAAC,EAAAC,cAAA,OAAKwH,MAAO,CAAE1B,MAAO,OAAQC,OAAQ,MAAOitB,aAAc,kBAAmBnmB,aAAc,UAE3F/M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,yBACXxH,EAAAC,EAAAC,cAAA,+CAEJF,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,4CACXxH,EAAAC,EAAAC,cAAA,UAAQR,QAASC,EAAKmjB,mBAAoB9Z,GAAG,WAAWxB,UAAU,uBAAsBxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,oBAAhB,4BACxFxH,EAAAC,EAAAC,cAAA,UAAQR,QAASC,EAAK8iB,iBAAkBzZ,GAAG,SAASxB,UAAU,qBAAoBxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,gBAAhB,2BAhC1F,4BAkC6BxH,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAIrI,EAAKC,MAAMgG,MAAM+E,QAA3B,aAhHlBhL,EAoHnBqzB,YAAc,WAAM,IAAA1P,EAOZ3jB,EAAKmF,MALLwtB,EAFYhP,EAEZgP,UACAC,EAHYjP,EAGZiP,SACAC,EAJYlP,EAIZkP,cACAC,EALYnP,EAKZmP,gBACAC,EANYpP,EAMZoP,iBAEJ,OACI1yB,EAAAC,EAAAC,cAAA,OAAMsH,UAAU,6BACZxH,EAAAC,EAAAC,cAAA,QAAMuO,SAAU9O,EAAKwzB,eACfxzB,EAAKC,MAAMC,SAASC,OAAOmqB,YAAYmJ,cASrCpzB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,gBAC5CxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,YAAY0K,MAAO0jB,EAAW5jB,SAAU/O,EAAK+O,SAAUC,YAAY,aAAaE,UAAQ,KAEpH7O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,gBAC5CxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,WAAW0K,MAAO2jB,EAAU7jB,SAAU/O,EAAK+O,SAAUC,YAAY,YAAYE,UAAQ,KAEjH7O,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cACXxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,aAAYxH,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,sBAC5CxH,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,OAAOwF,KAAK,gBAAgB0K,MAAO4jB,EAAe9jB,SAAU/O,EAAK+O,SAAUC,YAAY,wCAEvG3O,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,sBACbxH,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,WAAW9I,KAAK,WAAWwF,KAAK,kBAAkBwK,SAAU,WAAQ/O,EAAK8E,SAAS,CAAEguB,iBAAkBA,KAAsBla,QAASka,IACtJzyB,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,cAChBxH,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAAEI,WAAY,SAAxB,gCAEJ9H,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,sBACbxH,EAAAC,EAAAC,cAAA,SAAOsH,UAAU,WAAW9I,KAAK,WAAWwF,KAAK,mBAAmBwK,SAAU,WAAQ/O,EAAK8E,SAAS,CAAEiuB,kBAAmBA,KAAuBna,QAASma,IACzJ1yB,EAAAC,EAAAC,cAAA,QAAMsH,UAAU,cAChBxH,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAAEI,WAAY,SAAxB,kCAA4D9H,EAAAC,EAAAC,cAAA,UAAQxB,KAAK,SAASgB,QAAS,kBAAMC,EAAK8E,SAAS,CAACmuB,SAAQ,KAAQprB,UAAU,UAAUE,MAAO,CAACvB,QAAQ,iBAAxG,oBAA5D,QAAmNnG,EAAAC,EAAAC,cAAA,UAAQxB,KAAK,SAASgB,QAAS,kBAAMC,EAAK8E,SAAS,CAAC4uB,QAAQ,KAAQ7rB,UAAU,UAAUE,MAAO,CAACvB,QAAQ,iBAAxG,oBAGvNnG,EAAAC,EAAAC,cAACozB,GAAA,EAAD,CACIC,QAAQ,2CACR7kB,SAAU/O,EAAK6zB,qBAlCvBxzB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,oGACQF,EAAAC,EAAAC,cAAA,UAAQxB,KAAK,SAAS8I,UAAU,UAAU9H,QAASC,EAAK8zB,uBAAxD,+BACJzzB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAIrI,EAAKC,MAAMgG,MAAM+E,OAAQjL,QAAS,kBAAMC,EAAKC,MAAMC,SAASC,OAAOC,YAA7E,cAkCXJ,EAAKmF,MAAM0K,OAASxP,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAAErB,MAAO,QAAnB,IAA8B1G,EAAKmF,MAAM0K,MAAzC,KACrBxP,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,YACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,wBACV7H,EAAKC,MAAME,KAAKszB,cACbpzB,EAAAC,EAAAC,cAAA,UAAQxB,KAAK,SAAS8I,UAAU,WAAhC,2BAEY,KAEhBxH,EAAAC,EAAAC,cAACsa,GAAD,CAASxD,KAAK,mEACVhX,EAAAC,EAAAC,cAAA,UAAQR,QAASC,EAAK+zB,sBAAuBlsB,UAAU,eAAvD,kBA/KT7H,EAwLnB8zB,sBAAwB,WACpBxxB,QAAQC,IAAIyxB,mDAAYC,oBACxBj0B,EAAKC,MAAMC,SAASC,OAAOmqB,YAAYkB,wBAAwBhc,KAAK,kBAAMlN,QAAQC,IAAI,iBA1LvEvC,EA4LnB6zB,kBAAoB,SAAC5kB,GACZA,GACDjP,EAAK8E,SAAS,CAAEuU,kBAAkB,IAEtCzW,EAAS9B,EAAKozB,OAAQ,CAAEC,cAAiBllB,IAASO,KAAK,SAAAtM,GACnDZ,QAAQC,IAAIW,GACRA,EAASuM,SAAWvM,EAASzB,KAAKgO,SAASzP,EAAK8E,SAAS,CAAEuU,kBAAoB,OAlMxErZ,EAwQnB+zB,sBAAwB,WACpB/zB,EAAKC,MAAMC,SAASC,OAAOmqB,YAAYC,SACvCvqB,EAAKC,MAAMC,SAASC,OAAOC,WA1QZJ,EA+QnB8iB,iBAAmB,WAEf9iB,EAAKC,MAAMC,SAASC,OAAO4iB,eAAe/iB,EAAKmF,MAAM6d,aAAaxT,KAAK,WACnExP,EAAKC,MAAMC,SAASC,OACf8iB,gBAAgBZ,IAChB7S,KAAK,SAAArP,GACFmC,QAAQC,IAAIpC,GACZH,EAAKkjB,cAAc/iB,EAAKtB,KAAKiP,OAAO0B,KAAK,SAAAC,MAEzCzP,EAAK8E,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,GAAnB,CAAkCid,KAAM,OAE3CrP,MAAM,SAAAC,GACHla,QAAQC,IAAIia,GACZxc,EAAK8E,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,GAAnB,CAAkCid,KAAM,UA5RrC5rB,EAiSnBmjB,mBAAqB,WACjBnjB,EAAKC,MAAMC,SAASC,OAAO4iB,eAAe/iB,EAAKmF,MAAM6d,aAAaxT,KAAK,WACnExP,EAAKC,MAAMC,SAASC,OACf8iB,gBAAgBV,IAChB/S,KAAK,SAAArP,GACFH,EAAKkjB,cAAc/iB,EAAKtB,KAAKiP,OACxB3N,EAAKszB,eAAezzB,EAAK8zB,wBAC9B9zB,EAAK8E,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,OAEtB4N,MAAM,SAAAC,GACHxc,EAAK8E,SAAS,CAAE+K,MAAO2M,EAAI5N,eA3SxB5O,EAgTnBkjB,cAhTmB,eAAAhiB,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAf,EAAAgB,KAgTH,SAAAC,EAAOuM,GAAP,IAAA3L,EAAAhD,EAAAK,EAAA,OAAA6B,EAAAf,EAAAqB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEWb,EAAO,GAAAmC,OAAItC,EAAKub,KAAT,OAAAjZ,OAAmB0K,IAFrC,YAEF3L,EAFEP,EAAAM,MAGCuN,UAAWtN,EAAKV,KAHjB,CAAAG,EAAAE,KAAA,gBAIJ9B,EAAKC,MAAMrB,WAAWuD,EAAKV,MAJvBG,EAAAE,KAAA,EAMeb,EAAO,GAAAmC,OAAItC,EAAKub,KAAT,OAAAjZ,OAAmB0K,EAAnB,yBANtB,cAME3O,EANFyC,EAAAM,KAOJlC,EAAKC,MAAMf,cAAcC,EAAKsC,MAP1BG,EAAAE,KAAA,GAQeb,EAAO,GAAAmC,OAAItC,EAAKub,KAAT,OAAAjZ,OAAmB0K,EAAnB,yBARtB,eAQEtO,EARFoC,EAAAM,KASJlC,EAAKC,MAAMV,cAAcC,EAAKiC,MAT1BG,EAAAQ,OAAA,UAUG,GAVH,eAYRE,QAAQC,IAAI,0BAZJX,EAAAQ,OAAA,UAaD,GAbC,eAAAR,EAAAC,KAAA,GAAAD,EAAAS,GAAAT,EAAA,SAgBRU,QAAQC,IAARX,EAAAS,IAhBQT,EAAAQ,OAAA,UAiBD,GAjBC,yBAAAR,EAAAY,SAAAjB,EAAA,kBAhTG,gBAAAkB,GAAA,OAAAvB,EAAAwB,MAAAlC,KAAAmC,YAAA,GAEf3C,EAAKmF,MAALhE,OAAAwM,EAAA,EAAAxM,CAAA,GACOwN,GADP,CAEIqU,YAAahjB,EAAKC,MAAMC,SAASC,KAAKkjB,KAAKC,YAAYC,QACvDqI,KAAM3rB,EAAM2rB,KAAO3rB,EAAM2rB,KAAO,IAGpC5rB,EAAK+O,SAAW/O,EAAK+O,SAASxJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAChBA,EAAKwjB,UAAYxjB,EAAKwjB,UAAUje,KAAfpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KACjBA,EAAK8O,SAAW9O,EAAK8O,SAASvJ,KAAdpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAChBA,EAAKwzB,cAAgBxzB,EAAKwzB,cAAcjuB,KAAnBpE,OAAAqE,EAAA,EAAArE,QAAAqE,EAAA,EAAArE,CAAAnB,KAXNA,wEAcV,IAGDkL,EAHCvF,EAAAnF,KACL,IAAKA,KAAKP,MAAME,OAASK,KAAKP,MAAMpB,OAAS2B,KAAKP,MAAMm0B,SAAU,OAAO/zB,EAAAC,EAAAC,cAAC4e,GAAD,MAIrEjU,EADA1K,KAAKP,MAAME,KAAK+jB,QACT,EAEA,EAEX,IAAMmQ,EAAM7zB,KAAKP,MAAMm0B,SAAS/vB,OAAO,SAAAC,GAAC,MAAe,qBAAXA,EAAEC,OAA6B,GACrE+vB,EAAK9zB,KAAKP,MAAMm0B,SAAS/vB,OAAO,SAAAC,GAAC,MAAe,mBAAXA,EAAEC,OAA2B,GAExE,OAAI/D,KAAKP,MAAMpB,KAAK6L,MAAQlK,KAAKP,MAAMpB,KAAKM,MAAQqB,KAAKP,MAAMpB,KAAKW,MAAQgB,KAAKP,MAAME,KAAKszB,cACjFpzB,EAAAC,EAAAC,cAACyjB,EAAA,SAAD,CAAU3b,GAAI7H,KAAKP,MAAMgG,MAAM6E,UAGtCzK,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAAA,WACKC,KAAK2yB,WAAWjoB,IAErB7K,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAD,CAAOmR,KAAMjR,KAAK2E,MAAM8tB,QAASuB,OAAQ,kBAAM7uB,EAAKb,SAAS,CAAEmuB,SAAS,KAAUwB,UAAQ,GACtFp0B,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAMo0B,OAAP,CAAcC,aAAW,GACrBt0B,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAMs0B,MAAP,0BAEJv0B,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAMu0B,KAAP,CAAYhU,wBAAyB,CAAEC,OAAQuT,EAAKA,EAAIthB,YAAc,yDAA2DhL,MAAO,CAAE+sB,UAAW,OAAQC,UAAW,YACxK10B,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAMyP,OAAP,KACI1P,EAAAC,EAAAC,cAACy0B,GAAA10B,EAAD,CAAQ20B,QAAQ,YAAYl1B,QAAS,kBAAM4F,EAAKb,SAAS,CAAEmuB,SAAS,MAApE,WAKR5yB,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAD,CAAOmR,KAAMjR,KAAK2E,MAAMuuB,OAAQc,OAAQ,kBAAM7uB,EAAKb,SAAS,CAAE4uB,QAAQ,KAAUe,UAAQ,GACpFp0B,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAMo0B,OAAP,CAAcC,aAAW,GACrBt0B,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAMs0B,MAAP,wBAEJv0B,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAMu0B,KAAP,CAAYhU,wBAAyB,CAAEC,OAAQwT,EAAIA,EAAGvhB,YAAc,uDAAyDhL,MAAO,CAAE+sB,UAAW,OAAQC,UAAW,YACpK10B,EAAAC,EAAAC,cAACg0B,GAAAj0B,EAAMyP,OAAP,KACI1P,EAAAC,EAAAC,cAACy0B,GAAA10B,EAAD,CAAQ20B,QAAQ,YAAYl1B,QAAS,kBAAM4F,EAAKb,SAAS,CAAE4uB,QAAQ,MAAnE,6CAkJXvkB,GAAO,IAAAC,EACZ5O,KAAKsE,UAALsK,EAAA,GAAAjO,OAAAkO,GAAA,EAAAlO,CAAAiO,EACKD,EAAMG,OAAO/K,KAAO4K,EAAMG,OAAOL,OADtC9N,OAAAkO,GAAA,EAAAlO,CAAAiO,EAAA,QAEW,MAFXA,wCAMQ,IAAA8lB,EAC0C10B,KAAK2E,MAA/CstB,EADAyC,EACAzC,YAAa3kB,EADbonB,EACapnB,MAAOvJ,EADpB2wB,EACoB3wB,KAC5B,OAAQkuB,IAFAyC,EAC0BxC,aAEd,KAAhBD,GACU,KAAV3kB,GACS,KAATvJ,mCAGC4K,GAAO,IAAA5F,EAAA/I,KACZ2O,EAAM3D,iBADM,IAAA2pB,EAEmB30B,KAAK2E,MAA5B2I,EAFIqnB,EAEJrnB,MAAO2kB,EAFH0C,EAEG1C,YAEfjyB,KAAKP,MAAMC,SAASC,OAAO4iB,eAAeviB,KAAK2E,MAAM6d,aAAaxT,KAAK,WACnEjG,EAAKtJ,MAAMC,SAASC,OACfi1B,+BAA+BtnB,EAAO2kB,GACtCjjB,KAAK,SAAA6lB,GACF9rB,EAAKzE,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,GAAnB,CAAkCid,KAAM,KACxCriB,EAAKuqB,0BAERvX,MAAM,SAAAC,GACHjT,EAAKzE,SAAS,CAAE+K,MAAO2M,EAAI5N,oDAI7BO,GAAO,IAAA5E,EAAA/J,KAEjB,GADA2O,EAAM3D,iBACDhL,KAAK2E,MAAM4tB,iBAEV,GAAIvyB,KAAK2E,MAAMkU,iBAEf,KAAAic,EAEgF90B,KAAK2E,MAA/EwtB,EAFN2C,EAEM3C,UAAWC,EAFjB0C,EAEiB1C,SAAUC,EAF3ByC,EAE2BzC,cAAeC,EAF1CwC,EAE0CxC,gBAAiBC,EAF3DuC,EAE2DvC,iBAC7D,IAAKA,EAED,YADAvyB,KAAKsE,SAAS,CAAEkuB,cAAc,IAJhC,IAQIjwB,EAAO,CACT+b,UAAa6T,EAAY,IAAMC,EAC/B/nB,eAAoC,KAAlBgoB,EAAuBF,EAAYE,EACrD/kB,MAJatN,KAAKP,MAAdE,KAIU2N,MAEdynB,UAAazC,EACb0C,6BAAgCzC,GAEpCnwB,EAAS9B,EAAK20B,MAAO1yB,GAAMyM,KAAK,SAAArN,GAC5BG,QAAQC,IAAIJ,GACRA,EAAKsN,SAAWtN,EAAKV,MACrB8I,EAAK2Y,cAAc/gB,EAAKV,KAAKqM,OAAO0B,KAAK,SAAAC,GACjCA,GACAlF,EAAKzF,SAAS,CAAC+K,MAAO,2BAKtCrP,KAAKsE,SAAL3D,OAAAwM,EAAA,EAAAxM,CAAA,GAAmBwN,UA3BnBnO,KAAKsE,SAAS,CAAE+K,MAAO,6CAFvBrP,KAAKsE,SAAS,CAAE+K,MAAO,uDAxOJnP,IAAMC,WAwU/B+0B,GAAe5R,aACjBjjB,eADiBijB,CAEnBoP,IAUatyB,qBARS,SAACqK,GACrB,MAAO,CACH9K,KAAM8K,EAAM/K,SAASC,KACrBtB,KAAMoM,EAAMpM,KACZu1B,SAAUnpB,EAAMC,KAAKkpB,SACrBnuB,MAAOgF,EAAMhF,QAGmB,CAAErH,aAAYW,gBAAeL,iBAAtD0B,CAAuE80B,ICjXhFC,oLAEE,OACIt1B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACIxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,cAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACXxH,EAAAC,EAAAC,cAAA,WAASsH,UAAU,iCACfxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,aACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,OAEXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,kDACVrH,KAAKP,MAAM+H,SAAS4tB,WAAap1B,KAAKP,MAAMgG,MAAMyd,OAASrjB,EAAAC,EAAAC,cAAA,KAAGwH,MAAO,CAAErB,MAAO,QAAnB,4DAA2F,KACvJrG,EAAAC,EAAAC,cAACs1B,GAAD,mBAZTn1B,IAAMC,WA2BlBC,qBALS,SAACqK,GACrB,MAAO,CACHhF,MAAOgF,EAAMhF,QAGNrF,CAAyB+0B,mECxBlCG,oLAEE,OAAIt1B,KAAKP,MAAMm0B,SAEX/zB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACAxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,eAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACXxH,EAAAC,EAAAC,cAACw1B,GAAAz1B,EAAD,CAAW01B,iBAAiB,KACvBx1B,KAAKy1B,eAAez1B,KAAKP,MAAMm0B,cAPhB/zB,EAAAC,EAAAC,cAAC4e,GAAD,6CAerBiV,GACX,IAAM8B,EAAQC,KAAYC,MAAM51B,KAAKP,MAAM+H,SAASquB,QAQpD,OAPGH,GAASA,EAAM3xB,OACd6vB,EAAWA,EAAS/vB,OAAO,SAAA1F,GAGvB,OAFA2D,QAAQC,IAAI2zB,EAAM3xB,MAClBjC,QAAQC,IAAI5D,EAAE4F,MACP5F,EAAE4F,OAAS2xB,EAAM3xB,QAGzBpD,OAAOuI,KAAK0qB,GAAUntB,IAAI,SAACI,GAC9B,IAAMivB,EAASlC,EAAS/sB,GACxB,OACIhH,EAAAC,EAAAC,cAACg2B,GAAAj2B,EAAD,CAAM+G,IAAKA,GACPhH,EAAAC,EAAAC,cAACw1B,GAAAz1B,EAAUwJ,OAAX,CAAkBC,GAAIysB,KAAK9B,OAAQ+B,SAAUpvB,GAC5CivB,EAAO/xB,MAERlE,EAAAC,EAAAC,cAACw1B,GAAAz1B,EAAUo2B,SAAX,CAAoBD,SAAUpvB,GAC9BhH,EAAAC,EAAAC,cAACg2B,GAAAj2B,EAAKu0B,KAAN,CAAWhU,wBAAyB,CAACC,OAAQwV,EAAOvjB,0BAlC7CrS,IAAMC,WA+ClBC,qBALS,SAACqK,GACrB,MAAO,CACHmpB,SAAUnpB,EAAMC,KAAKkpB,WAGW,KAAzBxzB,CAA+Bk1B,IChDxCa,oLAGE,IAAIn2B,KAAKP,MAAM22B,WAAY,OAAOv2B,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,eAAb,0FAElC,IAAMgvB,EAAer2B,KAAKP,MAAM22B,WAAWxyB,SAC3C,GAAmB,MAAhByyB,EAAsB,OAAOx2B,EAAAC,EAAAC,cAAC4e,GAAD,MAEhC,IAAMtZ,EAAS3B,EAAQ2yB,EAAc,oBAAoB,GACnDC,EAAS5yB,EAAQ2yB,EAAc,oBAAoB,GACzD,OACIx2B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACAxI,EAAAC,EAAAC,cAACyd,GAAD,CAAe/X,MAAO,CAAC,CAAE1B,KAAM,aAC/BlE,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,gBAAgBE,MAAO,CAACoF,UAAU,KAC7C9M,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACXxH,EAAAC,EAAAC,cAACmwB,GAAD,KAAY7qB,EAAOiD,OACnBzI,EAAAC,EAAAC,cAAA,SAAIsF,EAAOkN,aACX1S,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAK6S,MAAM,0CACP/S,EAAAC,EAAAC,cAAA,OAAK6S,MAAM,4BACP/S,EAAAC,EAAAC,cAAA,QAAMuZ,OAAO,wCAAwC9X,OAAO,OAAOsN,OAAO,QACtEjP,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,SAASwF,KAAK,MAAM0K,MAAM,eACtC5O,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,SAASwF,KAAK,WAAW0K,MAAO6nB,EAAOpsB,KAAKqsB,WACxD12B,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,SAASwF,KAAK,gBAAgB0K,MAAM,QAChD5O,EAAAC,EAAAC,cAAA,SAAOxB,KAAK,QAAQ8I,UAAU,QAAQa,IAAI,kCAAkC6Q,OAAO,IAAIhV,KAAK,SAASuE,MAAM,gDAAgDF,IAAI,8BAC/JvI,EAAAC,EAAAC,cAAA,OAAKqI,IAAI,GAAG2Q,OAAO,IAAI7Q,IAAI,+CAA+CrC,MAAM,IAAIC,OAAO,mBAzBlG5F,IAAMC,WA0ChBC,qBALS,SAACqK,GACrB,MAAO,CACH2rB,WAAY3rB,EAAMC,KAAK0rB,aAGS,KAAzBh2B,CAA+B+1B,IC3CxCK,oLACO,IAAAh3B,EAAAQ,KACL,OAAIA,KAAKP,MAAMJ,YAEfQ,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACXxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,cAAcE,MAAO,CAAC0D,OAAO,OAAQjF,QAAQ,QAASywB,SAAS,SAAUvuB,IAAKC,MAC7FtI,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eAAd,qCACAxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eAAd,gCACAxH,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eACT1G,OAAOuI,KAAKlJ,KAAKP,MAAMJ,aAAaoH,IAAI,SAAAI,GACrC,IAAMoiB,EAAMzpB,EAAKC,MAAMJ,YAAYwH,GACnC,OAAOhH,EAAAC,EAAAC,cAAA,MAAI8G,IAAKA,GAAT,IAAehH,EAAAC,EAAAC,cAAA,KAAGmH,KAAI,IAAAtE,OAAMqmB,EAAIgF,YAAchF,EAAIllB,UAGjElE,EAAAC,EAAAC,cAAA,MAAIsH,UAAU,eAAd,2BACIxH,EAAAC,EAAAC,cAAA,KAAIsH,UAAU,eAAcxH,EAAAC,EAAAC,cAAA,KAAGmH,KAAK,4BAAR,gBAA5B,MAb2BrH,EAAAC,EAAAC,cAAC4e,GAAD,aAFTze,IAAMC,WAyBzBC,qBALS,SAACqK,GACrB,MAAO,CACHpL,YAAYoL,EAAMC,KAAKrL,cAGhBe,CAAyBo2B,IC2BlCE,eACL,SAAAA,EAAYj3B,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAA02B,IAClBl3B,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAA+1B,GAAAtyB,KAAApE,KAAMP,KACDkF,MAAQ,CACZgyB,YAAY,GAHKn3B,mFAMC,IAAA2F,EAAAnF,KACfiuB,EAAYjuB,KAAKP,MAAMme,MAAMgB,OAAOqP,UACxCjuB,KAAKP,MAAMm3B,eAAe,CACzBzvB,KAAI,IAAAvE,OAAMqrB,GACVnV,QAAO,IAAAlW,OAAMqrB,EAAN,YACP4I,QAAO,IAAAj0B,OAAMqrB,EAAN,YACPxP,SAAQ,IAAA7b,OAAMqrB,EAAN,aACR3O,aAAY,IAAA1c,OAAMqrB,EAAN,iBACZ5R,MAAK,IAAAzZ,OAAMqrB,EAAN,UACL7b,OAAM,IAAAxP,OAAMqrB,EAAN,WACNpe,OAAM,IAAAjN,OAAMqrB,EAAN,WACN3a,OAAM,IAAA1Q,OAAMqrB,EAAN,WACNzjB,OAAM,IAAA5H,OAAMqrB,EAAN,WACN/K,OAAM,IAAAtgB,OAAMqrB,EAAN,WACN3jB,QAAO,IAAA1H,OAAMqrB,EAAN,YACP2F,SAAQ,IAAAhxB,OAAMqrB,EAAN,eAET6I,QAAQC,IAAI,CACXt2B,EAAQH,EAAK02B,UAAY/I,EAAY,oBACrCxtB,EAAQH,EAAK22B,YAAc,yBAA2BhJ,GACtDxtB,EAAQH,EAAK02B,UAAY/I,EAAY,uBACrCxtB,EAAQH,EAAK02B,UAAY/I,EAAY,sBACrCxtB,EAAQH,EAAK02B,UAAY/I,EAAY,WACrCxtB,EAAQH,EAAK02B,UAAY/I,EAAY,YACrCxtB,EAAQH,EAAK02B,UAAY/I,EAAY,YACrCxtB,EAAQH,EAAK02B,UAAY/I,EAAY,iBACrCxtB,EAAQH,EAAK42B,OACbz2B,EAAQH,EAAK62B,UACb12B,EAAQH,EAAK8jB,iBACb3jB,EAAQH,EAAK82B,aACb32B,EAAQH,EAAK+2B,iBACb52B,EAAQH,EAAK02B,UAAY/I,EAAY,WACnCjf,KAAK,SAAAsoB,GACPnyB,EAAK1F,MAAM83B,kBAAkBD,EAAQ,GAAGr2B,KAAK6M,OAAS,EAAIwpB,EAAQ,GAAGr2B,KAAK,GAAK,MAC/EkE,EAAK1F,MAAM+3B,mBAAmBF,EAAQ,GAAGr2B,KAAK6M,OAAS,EAAIwpB,EAAQ,GAAGr2B,KAAO,MAC7EkE,EAAK1F,MAAMg4B,qBAAqBH,EAAQ,GAAGr2B,KAAK6M,OAAS,EAAIwpB,EAAQ,GAAGr2B,KAAK,GAAK,MAClFkE,EAAK1F,MAAMi4B,oBAAoBJ,EAAQ,GAAGr2B,KAAK6M,OAAS,EAAIwpB,EAAQ,GAAGr2B,KAAK,GAAK,MACjFkE,EAAK1F,MAAMk4B,gBAAgBL,EAAQ,GAAGr2B,MACtCkE,EAAK1F,MAAMm4B,iBAAiBN,EAAQ,GAAGr2B,MACvCkE,EAAK1F,MAAMo4B,0BAA0BP,EAAQ,GAAGr2B,MAChDkE,EAAK1F,MAAMq4B,sBAAsBR,EAAQ,GAAGr2B,MAC5CkE,EAAK1F,MAAMs4B,cAAcT,EAAQ,GAAGr2B,MACpCkE,EAAK1F,MAAMu4B,kBAAkBV,EAAQ,GAAGr2B,MACxCkE,EAAK1F,MAAMw4B,eAAeX,EAAQ,IAAIr2B,MACtCkE,EAAK1F,MAAMiW,qBAAqB4hB,EAAQ,IAAIr2B,MAC5CkE,EAAK1F,MAAMy4B,mBAAmBZ,EAAQ,IAAIr2B,KAAK4C,OAAO,SAAAolB,GACrD,OAAOA,EAAIgF,YAAcA,IACvB,IACH9oB,EAAK1F,MAAM04B,iBAAiBb,EAAQ,IAAIr2B,MACxCkE,EAAK1F,MAAM24B,uBAAuBd,EAAQ,IAAIr2B,QAC5C8a,MAAM,SAAAC,GACR7W,EAAKb,SAAS,CAAE+K,MAAO2M,IACvBla,QAAQC,IAAIia,6EAGA1O,6FACM7M,EAAO,GAAAmC,OAAItC,EAAKub,KAAT,OAAAjZ,OAAmB0K,gBAAvC3L,UACGsN,UAAWtN,EAAKV,6BACxBjB,KAAKP,MAAMrB,WAAWuD,EAAKV,eACRR,EAAO,GAAAmC,OAAItC,EAAKub,KAAT,OAAAjZ,OAAmB0K,EAAnB,uCAApB3O,SACNqB,KAAKP,MAAMf,cAAcC,EAAKsC,gBACXR,EAAO,GAAAmC,OAAItC,EAAKub,KAAT,OAAAjZ,OAAmB0K,EAAnB,wCAApBtO,SACNgB,KAAKP,MAAMV,cAAcC,EAAKiC,yBACvB,kBAGPa,QAAQC,IAAI,8BACL,wIAGA,IAAAgH,EAAA/I,KAGR,GAFA4J,SAASrH,KAAKgF,MAAM8wB,UAAY,UAE3B5U,mBAASzjB,KAAKP,MAAME,MAExB,OADAmC,QAAQC,IAAI,gBACLlC,EAAAC,EAAAC,cAAC4e,GAAD,MASR,GAPK3e,KAAK2E,MAAMgyB,aAAc32B,KAAKP,MAAME,KAAKsK,KAAQjK,KAAKP,MAAMpB,MAChE2B,KAAKs4B,QAAQt4B,KAAKP,MAAME,KAAK2N,OAAO0B,KAAK,SAAAC,GACxClG,EAAKzE,SAAS,CACbqyB,YAAY,MAIX32B,KAAKP,MAAME,KAAKsK,MAAQjK,KAAK2E,MAAMgyB,WAEtC,OADA70B,QAAQC,IAAI,gBACLlC,EAAAC,EAAAC,cAAC4e,GAAD,MAhBA,IAkBAlZ,EAAUzF,KAAKP,MAAfgG,MAER,OACC5F,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,iBACdxH,EAAAC,EAAAC,cAAA,OAAKsH,UAAU,wBACfxH,EAAAC,EAAAC,cAACw4B,EAAAz4B,EAAD,KACCD,EAAAC,EAAAC,cAAA,QAAMy4B,QAAQ,UACd34B,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,QAAMgE,KAAK,WAAWkS,QAAQ,wCAC9BpW,EAAAC,EAAAC,cAAA,QAAMgE,KAAK,WAAWkS,QAAQ,0DAE9BjW,KAAKP,MAAMg5B,KACX54B,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAC24B,EAAD,CACClyB,SAAUxG,KAAKP,MAAMg5B,KAAK50B,OAAO,SAAA40B,GAAU,MAAqB,uBAAdA,EAAK10B,OAAiC,GAAGkS,UAE5FpW,EAAAC,EAAAC,cAAC44B,EAAD,OACQ94B,EAAAC,EAAAC,cAAC4e,GAAD,MAGR3e,KAAK2E,MAAMgyB,aAAe32B,KAAKP,MAAMpB,MAAQ2B,KAAKP,MAAME,KAAKsK,KACzDjK,KAAKP,MAAME,KAAKsK,MAAQjK,KAAKP,MAAME,KAAKszB,cAC5CpzB,EAAAC,EAAAC,cAACyjB,EAAA,OAAD,KACC3jB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOoV,UAAWzD,MAGnBt1B,EAAAC,EAAAC,cAACyjB,EAAA,OAAD,KACC3jB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOqV,OAAK,EAACC,KAAMrzB,EAAM0B,KAAMyxB,UAAWhkB,KAC1C/U,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOqV,OAAK,EAACC,KAAI,GAAAl2B,OAAK6C,EAAM0B,KAAX,SAAwByxB,UAAWhkB,KACpD/U,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOqV,OAAK,EAACC,KAAMrzB,EAAMqT,QAAS8f,UAAW3b,KAC7Cpd,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAMrzB,EAAMoxB,QAAS+B,UAAWhZ,KACvC/f,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOqV,OAAK,EAACC,KAAMrzB,EAAMgZ,SAAUma,UAAWlY,KAC9C7gB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAI,GAAAl2B,OAAK6C,EAAMgZ,SAAX,QAA2Bma,UAAW5X,KACjDnhB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAI,GAAAl2B,OAAK6C,EAAMqT,QAAX,QAA0B8f,UAAW7a,KAChDle,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAMrzB,EAAM6Z,aAAcsZ,UAAWzX,KAC5CthB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAMrzB,EAAM4W,MAAOuc,UAAWlI,KACrC7wB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAMrzB,EAAM2M,OAAQwmB,UAAWxJ,KACtCvvB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAMrzB,EAAMoK,OAAQ+oB,UAAWzC,KACtCt2B,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOqV,OAAK,EAACC,KAAMrzB,EAAM6N,OAAQslB,UAAWvT,KAC5CxlB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAI,GAAAl2B,OAAK6C,EAAM6N,OAAX,QAAyBslB,UAAWlR,KAC/C7nB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAMrzB,EAAM+E,OAAQouB,UAAWrV,KACtC1jB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAMrzB,EAAMyd,OAAQ0V,UAAWzD,KACtCt1B,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAMrzB,EAAM6E,QAASsuB,UAAW1N,KACvCrrB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAMrzB,EAAMmuB,SAAUgF,UAAWtD,KAExCz1B,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOoV,UAAW,WACjB,OAAO/4B,EAAAC,EAAAC,cAAA,4CAMVC,KAAKP,MAAMg5B,KACX54B,EAAAC,EAAAC,cAACg5B,GAAD,CACCppB,YAAa3P,KAAKP,MAAMg5B,KAAK50B,OAAO,SAAA40B,GAAU,MAAqB,2BAAdA,EAAK10B,OAAqC,GAAGkS,QAClGxG,WAAYzP,KAAKP,MAAMg5B,KAAK50B,OAAO,SAAA40B,GAAU,MAAqB,4BAAdA,EAAK10B,OAAsC,GAAGkS,UAC9FpW,EAAAC,EAAAC,cAAC4e,GAAD,cAvJcxe,aAqKlB6c,GAAqB,CAC1Bkb,mB7C3LiC,SAAC3yB,GAAD,OAAe,SAAAjH,GAC7C,OAAOA,EAAS,CACZC,KnBLsB,iBmBMtBC,QAAS+G,M6CyLhBgyB,kB7CxKgC,SAAC7sB,GAAD,OAAU,SAAApM,GACvC,OAAOA,EAAS,CACZC,KnBvBsB,iBmBwBtBC,QAASkM,M6CsKhBsuB,qB7ClKmC,SAACtuB,GAAD,OAAU,SAAApM,GAC1C,OAAOA,EAAS,CACZC,KnB7ByB,oBmB8BzBC,QAASkM,M6CgKhBuuB,8B7C5J4C,SAACvuB,GAAD,OAAU,SAAApM,GACnD,OAAOA,EAAS,CACZC,KnBnCmC,8BmBoCnCC,QAASkM,M6C0JhBwuB,0B7CtJwC,SAACxuB,GAAD,OAAU,SAAApM,GAC/C,OAAOA,EAAS,CACZC,KnBzC8B,yBmB0C9BC,QAASkM,M6CoJhB8sB,mB7ChJiC,SAAC9sB,GAAD,OAAU,SAAApM,GACxC,OAAOA,EAAS,CACZC,KnB/CuB,kBmBgDvBC,QAASkM,M6C8IhB+sB,qB7C1ImC,SAAC/sB,GAAD,OAAU,SAAApM,GAC1C,OAAOA,EAAS,CACZC,KnBrD0B,qBmBsD1BC,QAASkM,M6CwIhB+K,6BACAiiB,oB7C9HkC,SAAChtB,GAAD,OAAU,SAAApM,GACzC,OAAOA,EAAS,CACZC,KnBjEwB,mBmBkExBC,QAASkM,M6C4HhByuB,oB7CxHkC,SAACzuB,GAAD,OAAU,SAAApM,GACzC,OAAOA,EAAS,CACZC,KnBvEwB,mBmBwExBC,QAASkM,M6CsHhBqtB,c7ClH4B,SAACU,GAAD,OAAU,SAAAn6B,GACnC,OAAOA,EAAS,CACZC,KnB7EiB,YmB8EjBC,QAASi6B,M6CgHhBT,kB7C5GgC,SAACpE,GAAD,OAAc,SAAAt1B,GAC3C,OAAOA,EAAS,CACZC,KnBnFqB,gBmBoFrBC,QAASo1B,M6C0GhBgE,iB7CtG8B,SAAC9e,GAAD,OAAa,SAAAxa,GACxC,OAAOA,EAAS,CACZC,KnBrFoB,emBsFpBC,QAASsa,M6CoGhB6e,gB7ChG8B,SAACrkB,GAAD,OAAY,SAAAhV,GACvC,OAAOA,EAAS,CACZC,KnB3FmB,cmB4FnBC,QAAS8U,M6C8FhBukB,0B7C1FwC,SAACpe,GAAD,OAAsB,SAAAnb,GAC3D,OAAOA,EAAS,CACZC,KnBjG6B,yBmBkG7BC,QAASib,M6CwFhBqe,sB7CpFoC,SAACxY,GAAD,OAAkB,SAAAhhB,GACnD,OAAOA,EAAS,CACZC,KnBvGyB,oBmBwGzBC,QAAS8gB,M6CkFhB5J,wBACAtX,aACAM,gBACAK,gBACAk5B,e7CtD6B,SAACnR,GAAD,OAAW,SAAAxoB,GACrC,OAAOA,EAAS,CACZC,KnBtIwB,mBmBuIxBC,QAASsoB,M6CoDhBqR,iB7C5E+B,SAAC/hB,GAAD,OAAa,SAAA9X,GACzC,OAAOA,EAAS,CACZC,KnBnHqB,gBmBoHrBC,QAAS4X,M6C0EhBgiB,uB7C1MqC,SAACn3B,GAAD,OAAU,SAAA3C,GAC5C,OAAOA,EAAS,CACZC,KnBC2B,sBmBA3BC,QAASyC,M6CwMhB21B,eCrP6B,SAACnxB,GAAD,OAAW,SAAAnH,GACrC,OAAOA,EAAS,CACZC,KjE6EkB,aiE5ElBC,QAASiH,ODoPFrF,qBAlCS,SAACqK,GACxB,MAAO,CACN9K,KAAM8K,EAAM/K,SAASC,KACrBtB,KAAMoM,EAAMpM,KAAK6L,KACjBuuB,KAAMhuB,EAAMC,KAAK+tB,KACjBhzB,MAAOgF,EAAMhF,QA6ByBuX,GAAzB5c,CAA6Cs2B,IEhPtD0C,eACL,SAAAA,EAAY35B,GAAO,IAAAD,EAAA,OAAAmB,OAAAsD,EAAA,EAAAtD,CAAAX,KAAAo5B,IAClB55B,EAAAmB,OAAAuD,EAAA,EAAAvD,CAAAX,KAAAW,OAAAwD,EAAA,EAAAxD,CAAAy4B,GAAAh1B,KAAApE,KAAMP,KA4BP45B,UAAY,SAAChqB,GACZ,OACCxP,EAAAC,EAAAC,cAAA,KAAGsH,UAAU,2BAAb,IAAyCgI,EAAzC,MA7BD7P,EAAKmF,MAAQ,CACZ0K,MAAO,MAHU7P,mFAMC,IAAA2F,EAAAnF,KACnBS,EAAQH,EAAK82B,aAAapoB,KAAK,SAAArN,GAC1BA,EAAKsN,SACR9J,EAAK1F,MAAMiW,qBAAqB/T,EAAKV,QAEpC8a,MAAM,SAAAC,GAAG,OAAI7W,EAAKb,SAAS,CAAE+K,MAAO2M,uCAGvC,OACCnc,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACErI,KAAK2E,MAAM0K,MACXxP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuI,SAAA,KACErI,KAAKq5B,UAAUr5B,KAAK2E,MAAM0K,QAG5BxP,EAAAC,EAAAC,cAACyjB,EAAA,OAAD,KACC3jB,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOsV,KAAK,cAAcF,UAAWlC,KACrC72B,EAAAC,EAAAC,cAACyjB,EAAA,MAAD,CAAOoV,UAAWpC,cAxBNr2B,aAqCZ6c,GAAqB,CAC1BtH,yBAEctV,qBAAQ,KAAM4c,GAAd5c,CAAkCg5B,IC/C3CE,8LACiBrhB,GACbjY,KAAKP,MAAM+H,WAAayQ,EAAUzQ,UACpChD,OAAO+0B,SAAS,EAAG,oCAKrB,OAAOv5B,KAAKP,MAAMQ,gBAREC,IAAMC,WAYfq5B,wBAAWF,ICFRG,QACW,cAA7Bj1B,OAAOgD,SAASkyB,UAEe,UAA7Bl1B,OAAOgD,SAASkyB,UAEhBl1B,OAAOgD,SAASkyB,SAAS9b,MACvB,4FChBS+b,GADCC,wBCoBVC,GAAe,CACnB3vB,KAAM,KACNvL,KAAM,KACNK,KAAM,MCYF66B,GAAe,CAEjBlvB,SAAU,KACVmT,YAAa,KACbgc,qBAAsB,KACtBC,iBAAkB,KAClB1I,UAAW,KACX7Q,YAAa,KACb4V,WAAY,KACZ4D,WAAY,KAEZvB,KAAM,KACN7E,SAAU,KAEV9a,QAAS,KACTxF,OAAQ,KACRmG,iBAAkB,KAClB6F,aAAc,KACdlJ,QAAS,KAET/W,YAAa,KACbgwB,iBAAkB,KAClB9pB,UAAW,KACXiQ,cAAe,KACfqK,gBAAiB,MCxDbga,GAAe,GCKRI,gBAAgB,CAC7B57B,KHiBa,WAAwC,IAA9BsG,EAA8BxC,UAAA2L,OAAA,QAAA0d,IAAArpB,UAAA,GAAAA,UAAA,GAAtB03B,GAAcvgB,EAAQnX,UAAA2L,OAAA,EAAA3L,UAAA,QAAAqpB,EACrD,OAAQlS,EAAO/a,MAEb,ItEzBiB,QsE0Bf,OAAOoC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAMoP,EAAO9a,UAEjB,ItE7BkB,SsE8BhB,OAAOq7B,GAET,ItE9BqB,YsE+BnB,OAAOl5B,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEhG,KAAM2a,EAAO9a,UAEjB,ItElCuB,csEmCrB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEhG,KAAI,GAAAiE,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACCgE,EAAMhG,MADP,CAEF2a,EAAO9a,YAGb,ItEzC4B,mBsE0C1B,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEhG,KAAMgG,EAAMhG,KAAKkF,OAAO,SAAAs2B,GAAO,OAAIA,EAAQtxB,KAAOyQ,EAAO9a,QAAQqK,OAGrE,ItE7CqB,YsE8CnB,OAAOlI,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEE3F,KAAMsa,EAAO9a,UAEjB,ItEjDuB,csEkDrB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEE3F,KAAI,GAAA4D,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACCgE,EAAM3F,MADP,CAEFsa,EAAO9a,YAGb,ItExD4B,mBsEyD1B,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEE3F,KAAM2F,EAAM3F,KAAK6E,OAAO,SAAAs2B,GAAO,OAAIA,EAAQtxB,KAAOyQ,EAAO9a,QAAQqK,OAGrE,ItE5DwB,esE6DtB,OAAOlI,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEE3F,KAAI,GAAA4D,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACCgE,EAAM3F,MADP,CAEFsa,EAAO9a,UAETG,KAAMgG,EAAMhG,KAAKkF,OAAO,SAAAs2B,GAAO,OAAIA,EAAQtxB,KAAOyQ,EAAO9a,QAAQqK,OAGrE,ItEpE2B,kBsEqEzB,OAAOlI,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAKvJ,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EAAMuF,KADP,CAEF6N,WAAYuB,EAAO9a,YAGzB,ItE3EyB,gBsE4EvB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAKvJ,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EAAMuF,KADP,CAEF6N,WAAU,GAAAnV,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACLgE,EAAMuF,KAAK6N,YADN,CAERuB,EAAO9a,cAKf,ItEtF0B,iBsEuFxB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAKvJ,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EAAMuF,KADP,CAEF6N,WAAU,GAAAnV,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACLgE,EAAMuF,KAAK6N,WAAWlU,OAAO,SAAAs2B,GAAO,OAAIA,EAAQtxB,KAAOyQ,EAAO9a,QAAQqK,MADjE,CAERyQ,EAAO9a,cAIf,ItEhG4B,kBsEiG1B,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAKvJ,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EAAMuF,KADP,CAEF6N,WAAYpT,EAAMuF,KAAK6N,WAAWlU,OAAO,SAAAs2B,GAAO,OAAIA,EAAQtxB,KAAOyQ,EAAO9a,QAAQqK,OAEpFlK,KAAMgG,EAAMhG,KAAKkF,OAAO,SAAA/D,GAAC,OAAIA,EAAE8b,iBAAiB/S,KAAOyQ,EAAO9a,QAAQqK,KACtE7J,KAAM2F,EAAM3F,KAAK6E,OAAO,SAAA/D,GAAC,OAAIA,EAAE8b,iBAAiB/S,KAAOyQ,EAAO9a,QAAQqK,OAG1E,ItEzGiC,wBsE0G/B,OAAOlI,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAKvJ,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EAAMuF,KADP,CAEF7K,YAAaia,EAAO9a,YAG1B,ItEhHyB,gBsEiHvB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAKvJ,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EAAMuF,KADP,CAEF7K,YAAW,GAAAuD,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACNgE,EAAMuF,KAAK7K,aADL,CAETia,EAAO9a,cAIf,ItE1H4B,kBsE2H1B,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAKvJ,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EAAMuF,KADP,CAEF7K,YAAasF,EAAMuF,KAAK7K,YAAYwE,OAAO,SAAAs2B,GAAO,OAAIA,IAAY7gB,EAAO9a,cAG/E,ItEhIqB,YsEiInB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAKvJ,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EAAMuF,KADP,CAEFmS,MAAK,GAAAzZ,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACAgE,EAAMuF,KAAKmS,OADX,CAEH/C,EAAO9a,cAIf,ItE1IsB,asE2IpB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,EADL,CAEEuF,KAAKvJ,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EAAMuF,KADP,CAEFmS,MAAO1X,EAAMuF,KAAKmS,MAAMxY,OAAO,SAAA+R,GAAI,OAAIA,EAAK/M,KAAOyQ,EAAO9a,QAAQqK,SAKxE,QACE,OAAOlI,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,KGvKT+F,KFqDa,WAAwC,IAA9B/F,EAA8BxC,UAAA2L,OAAA,QAAA0d,IAAArpB,UAAA,GAAAA,UAAA,GAAtB03B,GAAcvgB,EAAQnX,UAAA2L,OAAA,EAAA3L,UAAA,QAAAqpB,EACnD,OAAQlS,EAAO/a,MAEX,IvEjCsB,iBuEkClB,OAAOoC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEIY,UAAW+T,EAAO9a,UAE1B,IvEzB2B,sBuE0BvB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI6Q,cAAe8D,EAAO9a,UAE9B,IvE7B6B,wBuE8BzB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEIkb,gBAAiBvG,EAAO9a,UAEhC,IvE9CsB,iBuE+ClB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEIgG,SAAU2O,EAAO9a,UAEzB,IvElDyB,oBuEmDrB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEImZ,YAAaxE,EAAO9a,UAE5B,IvEtDmC,8BuEuD/B,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEIm1B,qBAAsBxgB,EAAO9a,UAErC,IvE1D8B,yBuE2D1B,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEIo1B,iBAAkBzgB,EAAO9a,UAEjC,IvE9DuB,kBuE+DnB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI0sB,UAAW/X,EAAO9a,UAE1B,IvElE0B,qBuEmEtB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI6b,YAAalH,EAAO9a,UAE5B,IvEtE8B,yBuEuE1B,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI0qB,iBAAkB/V,EAAO9a,UAEjC,IvE1EwB,mBuE2EpB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEIyxB,WAAY9c,EAAO9a,UAE3B,IvE9EwB,mBuE+EpB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEIq1B,WAAY1gB,EAAO9a,UAE3B,IvElFiB,YuEmFb,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI8zB,KAAMnf,EAAO9a,UAErB,IvEtFqB,gBuEuFjB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEIivB,SAAUta,EAAO9a,UAEzB,IvEtFoB,euEuFhB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEImU,QAASQ,EAAO9a,UAExB,IvE1FmB,cuE2Ff,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI2O,OAAQgG,EAAO9a,UAEvB,IvE9F6B,yBuE+FzB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI8U,iBAAkBH,EAAO9a,UAEjC,IvElGyB,oBuEmGrB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI2a,aAAchG,EAAO9a,UAE7B,IvEtGwB,mBuEuGpB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEItF,YAAaia,EAAO9a,UAE5B,IvE1GqB,gBuE2GjB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEIyR,QAASkD,EAAO9a,UAExB,IvEvGuB,kBuEwGnB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI2a,aAAY,GAAA1c,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACLgE,EAAM2a,cADD,CAERhG,EAAO9a,YAGnB,IvE9G0B,qBuE+GtB,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI2a,aAAc3a,EAAM2a,aAAazb,OAAO,SAAAu2B,GAAW,OAAIA,EAAYvxB,KAAOyQ,EAAO9a,QAAQqK,OAEjG,IvE1HwB,mBuE2HpB,OAAOlI,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI6iB,MAAOlO,EAAO9a,UAEtB,IvE9HgB,WuE+HZ,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI6iB,MAAK,GAAA5kB,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACEgE,EAAM6iB,OADR,CAEDlO,EAAO9a,YAGnB,IvErImB,cuEsIf,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI6iB,MAAO7iB,EAAM6iB,MAAM3jB,OAAO,SAAA0gB,GAAU,OAAOA,EAAK1b,KAAOyQ,EAAO9a,QAAQqK,OAE9E,IvEzImB,cuE0If,OAAOlI,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI6iB,MAAK,GAAA5kB,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACEgE,EAAM6iB,MAAM3jB,OAAO,SAAA0gB,GAAU,OAAOA,EAAK1b,KAAOyQ,EAAO9a,QAAQqK,MADjE,CAEDyQ,EAAO9a,YAGnB,IvE3IuB,kBuE4InB,IAAIoX,EAAOjR,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQoX,KAAK/M,KAAM,GAC1FwxB,EAAO15B,OAAAwM,EAAA,EAAAxM,CAAA,GACNiV,EADM,CAETmC,WAAYnC,EAAKmC,WAAauB,EAAO9a,QAAQquB,OAAO9U,WACpDe,QAASlD,EAAKkD,QAAUQ,EAAO9a,QAAQquB,OAAO/T,QAC9CgU,kBAAmBlX,EAAKkX,kBAAoBxT,EAAO9a,QAAQquB,OAAOC,kBAClEC,aAAcnX,EAAKmX,aAAezT,EAAO9a,QAAQquB,OAAOE,eAE5D,OAAOpsB,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI0sB,UAAS,GAAAzuB,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACFgE,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQoX,KAAK/M,MAD7E,CAELwxB,MAGZ,IvE1J0B,qBuE4JtB,OADIzkB,EAAOjR,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQoX,KAAK/M,KAAM,GACzFlI,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI0sB,UAAS,GAAAzuB,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACFgE,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQoX,KAAK/M,MAD7E,CAAAlI,OAAAwM,EAAA,EAAAxM,CAAA,GAGEiV,EAHF,CAIDmC,WAAYnC,EAAKmC,WAAauB,EAAO9a,QAAQquB,OAAO9U,WACpDe,QAASlD,EAAKkD,QAAUQ,EAAO9a,QAAQquB,OAAO/T,QAC9CgU,kBAAmBlX,EAAKkX,kBAAoBxT,EAAO9a,QAAQquB,OAAOC,kBAClEC,aAAcnX,EAAKmX,aAAezT,EAAO9a,QAAQquB,OAAOE,mBAIxE,IvExKuB,kBuE0KnB,OADInX,EAAOjR,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQqK,KAAM,GACpFlI,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI0sB,UAAS,GAAAzuB,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACFgE,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQqK,MADxE,CAAAlI,OAAAwM,EAAA,EAAAxM,CAAA,GAGEiV,EAHF,CAIDkX,kBAAmBlX,EAAKkX,kBAAoB,QAI5D,IvEnL0B,qBuEqLtB,OADIlX,EAAOjR,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQqK,KAAM,GACpFlI,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI0sB,UAAS,GAAAzuB,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACFgE,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQqK,MADxE,CAAAlI,OAAAwM,EAAA,EAAAxM,CAAA,GAGEiV,EAHF,CAIDkX,kBAAmBlX,EAAKkX,kBAAoB,QAI5D,IvE9L0B,qBuEgMtB,OADIlX,EAAOjR,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQqK,KAAM,GACpFlI,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI0sB,UAAS,GAAAzuB,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACFgE,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQqK,MADxE,CAAAlI,OAAAwM,EAAA,EAAAxM,CAAA,GAGEiV,EAHF,CAIDmC,WAAYnC,EAAKmC,WAAa,QAI9C,IvEzM6B,wBuE2MzB,OADInC,EAAOjR,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQqK,KAAM,GACpFlI,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI0sB,UAAS,GAAAzuB,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACFgE,EAAM0sB,UAAUxtB,OAAO,SAAA0rB,GAAW,OAAOA,EAAM3Z,KAAK/M,KAAOyQ,EAAO9a,QAAQqK,MADxE,CAAAlI,OAAAwM,EAAA,EAAAxM,CAAA,GAGEiV,EAHF,CAIDmC,WAAYnC,EAAKmC,WAAa,QAI9C,IvEnNmB,cuEoNf,OAAOpX,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,EADP,CAEI6Q,cAAa,GAAA5S,OAAAjC,OAAAu5B,GAAA,EAAAv5B,CACNgE,EAAM6Q,cAAc3R,OAAO,SAAA5C,GAAU,OAAOA,EAAK4H,KAAOyQ,EAAO9a,QAAQqK,MADjE,CAETyQ,EAAO9a,YAInB,QACI,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACAgE,KE5RjBc,MDJe,WAAwC,IAA9Bd,EAA8BxC,UAAA2L,OAAA,QAAA0d,IAAArpB,UAAA,GAAAA,UAAA,GAAtB03B,GAAcvgB,EAAQnX,UAAA2L,OAAA,EAAA3L,UAAA,QAAAqpB,EACrD,OAAQlS,EAAO/a,MAEb,IxEsEoB,awErEhB,OAAOoC,OAAAwM,EAAA,EAAAxM,CAAA,GACA2Y,EAAO9a,SAGlB,QACE,OAAOmC,OAAAwM,EAAA,EAAAxM,CAAA,GACFgE,KCLX21B,OAAQC,aAAcZ,IACtBj6B,SAAU86B,oBCXNC,GAAa,CAACC,MAWLjwB,GARDkwB,aACZC,GACAtX,aACEuX,KAAe34B,WAAf,EAAmBu4B,gBCSjBK,GAAW,CAChBp7B,YACAq7B,OAJiB,CAAEC,YAAa,QAASC,kBAAmB,YAK5D38B,SAAUmM,GAAMnM,UAEjB48B,IAASC,OACRt7B,EAAAC,EAAAC,cAACq7B,EAAA,SAAD,CAAU3wB,MAAOA,IAChB5K,EAAAC,EAAAC,cAACs7B,EAAA,2BAA+BP,GAC/Bj7B,EAAAC,EAAAC,cAACu7B,GAAA,gBAAD,CAAiB3B,QAASA,IACzB95B,EAAAC,EAAAC,cAACw7B,GAAD,KACC17B,EAAAC,EAAAC,cAACy7B,GAAD,UAKJ5xB,SAASsR,eAAe,SPgGnB,kBAAmBugB,WACrBA,UAAUC,cAAcC,MAAM3sB,KAAK,SAAA4sB,GACjCA,EAAaC,mCQnInB79B,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.15d3ba33.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ae19d4e1.svg\";","module.exports = __webpack_public_path__ + \"static/media/loader.e380a832.gif\";","/**\n * I am naming all actions redux{ACTIONNAME} because\n * it makes it less confusing when I use them in the code for me\n */\nimport { \n  LOGIN, \n  LOGOUT, \n  MOVE_TO_DONE,\n  REMOVE_FROM_DONE, \n  REMOVE_FROM_TODO, \n  ADD_TO_TODO, \n  ADD_TO_DONE, \n  LOAD_TODO, \n  LOAD_DONE,\n  LOAD_HOUSEHOLDS, \n  LOAD_USER_COMMUNITIES,\n  ADD_HOUSEHOLD, \n  EDIT_HOUSEHOLD,\n  REMOVE_HOUSEHOLD, \n  ADD_COMMUNITY, \n  REMOVE_COMMUNITY,\n  JOIN_TEAM,\n  LEAVE_TEAM\n} from './types'\n\n/** stores the user data when a user logs in */\nexport const reduxLogin = (user) => dispatch => {\n    return dispatch({\n      type: LOGIN,\n      payload: user\n    });\n}\n\n/** nulls the stored user after logout*/\nexport const reduxLogout = () => dispatch => {\n  return dispatch({\n    type: LOGOUT,\n  });\n}\n\n/** stores the todo actions*/\nexport const reduxLoadTodo = (todo) => dispatch => { \n  return dispatch({\n    type: LOAD_TODO,\n    payload: todo\n  });\n}\n\n/** adds a action to todo */\nexport const reduxAddToTodo = (item) => dispatch => {\n  return dispatch({\n    type: ADD_TO_TODO,\n    payload: item\n  });\n}\n\n/** you get it im going to stop commmenting them now */\nexport const reduxRemoveFromTodo = (item) => dispatch => {\n  return dispatch({\n    type: REMOVE_FROM_TODO,\n    payload: item\n  });\n}\n\n/** stores the done actions*/\nexport const reduxLoadDone = (done) => dispatch => { \n  return dispatch({\n    type: LOAD_DONE,\n    payload: done\n  });\n}\n\nexport const reduxAddToDone = (item) => dispatch => {\n  return dispatch({\n    type: ADD_TO_DONE,\n    payload: item\n  });\n}\n\nexport const reduxRemoveFromDone = (item) => dispatch => {\n  return dispatch({\n    type: REMOVE_FROM_DONE,\n    payload: item\n  });\n}\n\nexport const reduxMoveToDone = (item) => dispatch => {\n  return dispatch({\n    type: MOVE_TO_DONE,\n    payload: item\n  })\n}\n\nexport const reduxLoadHouseholds = (houses) => dispatch => {\n  return dispatch({\n    type: LOAD_HOUSEHOLDS,\n    payload: houses\n  });\n}\n\nexport const reduxAddHousehold = (house) => dispatch => {\n  return dispatch({\n    type: ADD_HOUSEHOLD,\n    payload: house\n  });\n}\n\nexport const reduxEditHousehold = (house) => dispatch => {\n  return dispatch({\n    type: EDIT_HOUSEHOLD,\n    payload: house\n  });\n}\n\n\nexport const reduxRemoveHousehold = (houseRel) => dispatch => {\n  return dispatch({\n    type: REMOVE_HOUSEHOLD,\n    payload: houseRel\n  });\n}\n\nexport const reduxLoadUserCommunities = (communities) => dispatch => {\n  return dispatch({\n    type: LOAD_USER_COMMUNITIES,\n    payload: communities\n  });\n}\n\nexport const reduxJoinCommunity = (community) => dispatch => {\n  return dispatch({\n    type: ADD_COMMUNITY,\n    payload: community\n  });\n}\n\nexport const reduxLeaveCommunity = (community) => dispatch => {\n  return dispatch({\n    type: REMOVE_COMMUNITY,\n    payload: community\n  });\n}\n\n\nexport const reduxJoinTeam = (team) => dispatch => {\n  return dispatch({\n      type: JOIN_TEAM,\n      payload: team\n  })\n}\n\nexport const reduxLeaveTeam = (team) => dispatch => {\n  return dispatch({\n      type: LEAVE_TEAM,\n      payload: team\n  })\n}","/**\n * Listing all the types of actions that can take place in this app\n */\n\n/** USER ACTIONS */\nexport const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\n\nexport const LOAD_TODO = 'LOAD_TODO'\nexport const ADD_TO_TODO = 'ADD_TO_TODO'\nexport const REMOVE_FROM_TODO = 'REMOVE_FROM_TODO'\n\nexport const LOAD_DONE = 'LOAD_DONE'\nexport const ADD_TO_DONE = 'ADD_TO_DONE'\nexport const REMOVE_FROM_DONE = 'REMOVE_FROM_DONE'\n\nexport const MOVE_TO_DONE = 'MOVE_TO_DONE'\n\nexport const LOAD_HOUSEHOLDS = 'LOAD_HOUSEHOLDS'\nexport const ADD_HOUSEHOLD = 'ADD_HOUSEHOLD'\nexport const EDIT_HOUSEHOLD = 'EDIT_HOUSEHOLD'\nexport const REMOVE_HOUSEHOLD = 'DELETE_HOUSHOLD'\n\nexport const LOAD_USER_COMMUNITIES = 'LOAD_USER_COMMUNITIES'\nexport const ADD_COMMUNITY = 'ADD_COMMUNITY'\nexport const REMOVE_COMMUNITY = 'LEAVE_COMMUNITY'\n\nexport const JOIN_TEAM = 'JOIN_TEAM' //adds the team to the users list of teams\nexport const LEAVE_TEAM = 'LEAVE_TEAM'\n\n/** PAGE ACTIONS\n * these actions load the database data for the pages\n * find the pagedata at store.pages.[pagename]\n */\nexport const LOAD_COMMUNITY = 'LOAD_COMMUNITY'\n\nexport const LOAD_HOME_PAGE = 'LOAD_HOME_PAGE' //home_page\nexport const LOAD_ACTIONS_PAGE = 'LOAD_ACTIONS_PAGE' //actions_page\nexport const LOAD_SERVICE_PROVIDERS_PAGE = 'LOAD_SERVICE_PROVIDERS_PAGE' //service_provider_page\nexport const LOAD_TESTIMONIALS_PAGE = 'LOAD_TESTIMONIALS_PAGE' //testimonials_page\nexport const LOAD_TEAMS_PAGE = 'LOAD_TEAMS_PAGE' //teams_page\nexport const LOAD_ABOUT_US_PAGE = 'LOAD_ABOUT_US_PAGE' //about_us\nexport const LOAD_COMMUNITIES_STATS = 'LOAD_COMMUNITIES_STATS' //impact_page stats\nexport const LOAD_DONATE_PAGE = 'LOAD_DONATE_PAGE' //donate_page\nexport const LOAD_EVENTS_PAGE = 'LOAD_EVENTS_PAGE' //events_page\nexport const LOAD_MENU = 'LOAD_MENU' //menu (technically not a page but useful to store)\nexport const LOAD_POLICIES = 'LOAD_POLICIES' //events_page/events\nexport const LOAD_COMMUNITY_DATA = 'LOAD_COMMUNITY_DATA'\nexport const Load_COMMUNITY_ADMINS = 'LOAD_COMMUNITY_ADMINS'\n\n/** these actions load data that is not stored in the page data in the database into our redux pages*/\nexport const LOAD_ACTIONS = 'LOAD_ACTIONS' //actions_page/actions\nexport const LOAD_EVENTS = 'LOAD_EVENTS' //events_page/events\nexport const LOAD_SERVICE_PROVIDERS= 'LOAD_SERVICE_PROVIDERS' //service_providers_page/service_providers\nexport const LOAD_TESTIMONIALS = 'LOAD_TESTIMONIALS' //testimonials_page/testimonials\nexport const LOAD_COMMUNITIES = 'LOAD_COMMUNITIES'\nexport const LOAD_TAG_COLS = 'LOAD_TAG_COLS'\n\nexport const LOAD_EVENT_RSVPS = 'LOAD_EVENT_RSVPS' //load the user's rsvps\nexport const ADD_RSVP = 'ADD_RSVP'\nexport const REMOVE_RSVP = 'REMOVE_RSVP'\nexport const CHANGE_RSVP = 'CHANGE_RSVP'\n\n/** these actions will change page data */\nexport const ADD_TESTIMONIAL = 'ADD_TESTIMONIAL'\nexport const REMOVE_TESTIMONIAL = 'REMOVE_TESTIMONIAL'\n\nexport const ADD_TEAM_MEMBER = 'ADD_TEAM_MEMBER' //similar to join team, and must be called at the same time, but adds the team member numbers to the team stats (team page)\nexport const REMOVE_TEAM_MEMBER = 'REMOVE_TEAM_MEMBER'\nexport const TEAM_ADD_ACTION = 'TEAM_ADD_ACTION'\nexport const TEAM_REMOVE_ACTION = 'TEAM_REMOVE_ACTION'\nexport const TEAM_ADD_HOUSEHOLD = 'TEAM_ADD_HOUSEHOLD'\nexport const TEAM_REMOVE_HOUSEHOLD = 'TEAM_REMOVE_HOUSEHOLD'\n\nexport const CHANGE_DATA = 'CHANGE_DATA'\n\n\n/****\n * Links \n */\n\nexport const LOAD_LINKS = 'LOAD_LINKS'","import React from 'react';\nimport {connect} from 'react-redux';\nimport { withFirebase } from 'react-redux-firebase';\nimport { reduxLogout } from '../../redux/actions/userActions';\n\nclass SignOutLink extends React.Component{\n    render(){\n        return(\n            <span onClick={this.onClick}>\n                {this.props.children}\n            </span>\n        );\n    }\n    onClick = () => {\n        this.props.firebase.auth().signOut();\n        this.props.reduxLogout();\n    }\n}\n\nexport default connect(null, {reduxLogout})(withFirebase(SignOutLink));","// Defining URLS object for manipulation...\nconst URLS = {\n\tROOT: \"http://api.massenergize.org\"\n\t//ROOT: \"http://localhost:8000\"\n\t//ROOT: \"http://10.0.0.187:8000\"\n}\nconst COMM_ID = \"3\";\n\n/**\n * These are all the api URLS, minus a few that need to have ids in the middle ie: v2/household/hid/actions\n * after any of the singlular request, you need to add a /<id> to the end of the url\n * after any of the plural requests you can specify filters to add by adding \"?<model-variable-name>=<value>&<model-variable2-name>=<value2>...\"\n *      this will return a list even if there is only one element in it\n *      need to use the actual model variable names, not the ones in the README.md\n *          @TODO fix the read me to make it correct for new url patterns and have the arg names match the model var names\n */\n// ...and dependence on other defined URLS\nURLS[\"V2\"] = URLS.ROOT + \"/v2/\";\nURLS[\"COMMUNITY\"] = URLS.V2 + \"community/\";\n\nURLS[\"ACTIONS\"] = URLS.V2 + \"actions\";\nURLS[\"ACTION\"] = URLS.V2 + \"action\"; //add the id after this\nURLS[\"ACTION_PROPERTIES\"] = URLS.V2 + \"action-properties\";\nURLS[\"ACTION_PROPERTY\"] = URLS.V2 + \"action-property\"; //add the id after this\nURLS[\"BILLING_STATEMENTS\"] = URLS.V2 + \"billing-statements\";\nURLS[\"BILLING_STATEMENT\"] = URLS.V2 + \"billing-statement\"; //add the id after this\nURLS[\"COMMUNITIES\"] = URLS.V2 + \"communities\";\nURLS[\"COMMUNITY_ADMINS\"] = URLS.V2 + \"community-admins\";\nURLS[\"COMMUNITY_ADMIN_GROUP\"] = URLS.V2 + \"community-admin-group/\"; //add the id after this\nURLS[\"COMMUNITIES_STATS\"] = URLS.V2 + \"communities/stats\";\nURLS[\"DATA\"] = URLS.V2 + \"data\"; //can add the id after this or not, either way\nURLS[\"EMAIL_CATEGORIES\"] = URLS.V2 + \"email-categories\";\nURLS[\"EMAIL_CATEGORY\"] = URLS.V2 + \"email-category\"; //add the id after this\nURLS[\"EVENTS\"] = URLS.V2 + \"events\";\nURLS[\"EVENT\"] = URLS.V2 + \"event\"; //add the id after this\nURLS[\"EVENT_ATTENDEES\"] = URLS.V2 + \"event-attendees\";\nURLS[\"EVENT_ATTENDEE\"] = URLS.V2 + \"event-attendee\"\nURLS[\"GOALS\"] = URLS.V2 + \"goals\";\nURLS[\"GOAL\"] = URLS.V2 + \"goal\"; //add the id after this\nURLS[\"GRAPHS\"] = URLS.V2 + \"graphs\";\nURLS[\"GRAPH\"] = URLS.V2 + \"graph\"; //add the id after this\nURLS[\"HOUSEHOLDS\"] = URLS.V2 + \"households\";\nURLS[\"HOUSEHOLD\"] = URLS.V2 + \"household\"; //add the id after this\nURLS[\"LOCATIONS\"] = URLS.V2 + \"locations\";\nURLS[\"LOCATION\"] = URLS.V2 + \"location\"; //add the id after this\nURLS[\"MEDIA\"] = URLS.V2 + \"media\"; //can add the id after this or not, either way\nURLS[\"MENUS\"] = URLS.V2 + \"menus\";\nURLS[\"MENU\"] = URLS.V2 + \"menu\";\nURLS[\"PAGES\"] = URLS.V2 + \"pages\";\nURLS[\"PAGE\"] = URLS.V2 + \"page\";  //add the id after this\nURLS[\"PAGE_SECTIONS\"] = URLS.V2 + \"page-sections\";\nURLS[\"PAGE_SECTION\"] = URLS.V2 + \"page-section\";  //add the id after this\nURLS[\"PERMISSIONS\"] = URLS.V2 + \"permissions\";\nURLS[\"PERMISSION\"] = URLS.V2 + \"permission\";  //add the id after this\nURLS[\"POLICIES\"] = URLS.V2 + \"policies\";\nURLS[\"POLICY\"] = URLS.V2 + \"policy\";  //add the id after this\nURLS[\"ROLES\"] = URLS.V2 + \"roles\";\nURLS[\"ROLE\"] = URLS.V2 + \"role\";  //add the id after this\nURLS[\"SERVICES\"] = URLS.V2 + \"services\";\nURLS[\"SERVICE\"] = URLS.V2 + \"service\";  //add the id after this\nURLS[\"SLIDERS\"] = URLS.V2 + \"sliders\";\nURLS[\"SLIDER\"] = URLS.V2 + \"slider\";  //add the id after this\nURLS[\"SLIDER_IMAGES\"] = URLS.V2 + \"slider-images\";\nURLS[\"SLIDER_IMAGE\"] = URLS.V2 + \"slider-image\";  //add the id after this\nURLS[\"STATISTICS\"] = URLS.V2 + \"statistics\";\nURLS[\"STATISTIC\"] = URLS.V2 + \"statistic\";  //add the id after this\nURLS[\"STORIES\"] = URLS.V2 + \"stories\";\nURLS[\"STORY\"] = URLS.V2 + \"story\";  //add the id after this\nURLS[\"SUBSCRIBERS\"] = URLS.V2 + \"subscribers\";\nURLS[\"SUBSCRIBER\"] = URLS.V2 + \"subscriber\";  //add the id after this\nURLS[\"SUBSCRIBER_EMAIL_PREFS\"] = URLS.V2 + \"subscriber-email-preferences\";\nURLS[\"SUBSCRIBER_EMAIL_PREF\"] = URLS.V2 + \"subscriber-email-preference\";  //add the id after this\nURLS[\"TAGS\"] = URLS.V2 + \"tags\";\nURLS[\"TAG\"] = URLS.V2 + \"tag\";  //add the id after this\nURLS[\"TAG_COLLECTIONS\"] = URLS.V2 + \"tag-collections\";\nURLS[\"TAG_COLLECTION\"] = URLS.V2 + \"tag-collection\";  //add the id after this\nURLS[\"TEAMS\"] = URLS.V2 + \"teams\";\nURLS[\"TEAM\"] = URLS.V2 + \"team\"; //add the id after this\nURLS[\"TEAMS_STATS\"] = URLS.V2 + \"teams/stats\"; //need to specify community after this\nURLS[\"TESTIMONIALS\"] = URLS.V2 + \"testimonials\";\nURLS[\"TESTIMONIAL\"] = URLS.V2 + \"testimonial\"; //add the id after this\nURLS[\"USERS\"] = URLS.V2 + \"users\";\nURLS[\"USER\"] = URLS.V2 + \"user\"; //add the id after this\nURLS[\"USER_GROUPS\"] = URLS.V2 + \"user-groups\";\nURLS[\"USER_GROUP\"] = URLS.V2 + \"user-group\"; //add the id after this\nURLS[\"VENDORS\"] = URLS.V2 + \"vendors\";\nURLS[\"VENDOR\"] = URLS.V2 + \"vendor\"; //add the id after this\nURLS[\"VERIFY\"] = URLS.V2 + \"verify\";\n\nexport default URLS;\n\n\n","import URLS from './urls'\nexport const getJson = async (url) => {\n\ttry {\n\t\tconst data = await fetch(url, {\n\t\t\tmethod: 'GET',\n\t\t\tcredentials: 'include',\n\t\t  });\n\t\tconst myJson = await data.json();\n\t\treturn myJson;\n\t}\n\tcatch (error) {\n\t\tconsole.log(error);\n\t\treturn null;\n\t}\n}\n\n//** Posts a body to a url and then returns the json of the response */\nexport const postJson = async (url, body) => {\n\ttry {\n\t\tconst csrfResponse = await getJson(`${URLS.ROOT}/auth/csrf`);\n\t\tconst csrfToken = csrfResponse.data.csrfToken;\n\t\tconst response = await fetch(url, {\n\t\t\tmethod: 'post',\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-CSRFToken': csrfToken\n\t\t\t  },\n\t\t\tbody: JSON.stringify(body)\n\t\t});\n\t\tconst myJson =  await response.json();\n\t\treturn myJson;\n\t}\n\tcatch (err) {\n\t\tconsole.log(err);\n\t\treturn null;\n\t}\n}\n\nexport const deleteJson = async (url) => {\n\ttry {\n\t\tconst data = await fetch(url, {\n\t\t\tmethod: 'DELETE',\n\t\t\tcredentials: 'include',\n\t\t  });\n\t\tconst myJson = await data.json();\n\t\treturn myJson;\n\t}\n\tcatch (error) {\n\t\tconsole.log(error);\n\t\treturn null;\n\t}\n}\n\n/**\n * Takes out the section that matches with the name given\n * @param {JSONObject | JSONArray} json : the json object of either the page data or the json array of the sections\n * @param {String} section : the name of the section to extract\n * @param {Boolean} sectionOnly : specifying if the json provided is json array of sections or page data\n */\nexport const section = (json, section, sectionOnly) => {\n\tlet sections = (sectionOnly) ? json : json.sections;\n\treturn sections.filter(x => x.name === section)[0];\n}\n","import React from 'react'\nimport logo from '../../logo.png';\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport SignOutLink from '../Shared/SignOutLink';\nimport { withFirebase } from 'react-redux-firebase';\nimport { reduxLogout } from '../../redux/actions/userActions';\nimport { section } from '../../api/functions'\n\nclass NavBarBurger extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmenuBurgered: window.innerWidth < 992,\n\t\t\tmenuOpen: false,\n\t\t}\n\t\tthis.handleLinkClick = this.handleLinkClick.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\twindow.addEventListener('resize', this.handleResize);\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('resize', this.handleResize);\n\t}\n\thandleResize = () => {\n\t\tthis.setState({\n\t\t\tmenuBurgered: window.outerWidth < 992\n\t\t})\n\t\tthis.forceUpdate();\n\t};\n\thandleMenuClick() {\n\t\tthis.setState({ menuOpen: !this.state.menuOpen });\n\t}\n\thandleLinkClick() {\n\t\tthis.setState({ menuOpen: !this.state.menuOpen });\n\t}\n\trender() {\n\t\tvar communitylogo = null;\n\t\tvar header = null\n\t\tvar communityName = this.props.pageData ? this.props.pageData.community.name : \"communities\";\n\t\tif (this.props.pageData) {\n\t\t\theader = section(this.props.pageData, 'HomeHeader');\n\t\t\tcommunitylogo = header.image ? header.image.url : null;\n\t\t}\n\t\tconst { links } = this.props;\n\t\tconst styles = {\n\t\t\tcontainer: {\n\t\t\t\tposition: 'relative',\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '80px',\n\t\t\t\tzIndex: '99',\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tbackground: 'white',\n\t\t\t\tcolor: '#333',\n\t\t\t\tfontFamily: 'Verdana',\n\t\t\t},\n\t\t\tbody: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflexDirection: 'column',\n\t\t\t\talignItems: 'center',\n\t\t\t\tfilter: this.state.menuOpen ? 'blur(2px)' : null,\n\t\t\t\ttransition: 'filter 0.5s ease',\n\t\t\t},\n\t\t}\n\t\tif (!links) return null;\n\n\t\t// Only for burgered\n\t\tconst menuItems = this.props.navLinks.map((val, index) => {\n\t\t\tif (val.children) {\n\t\t\t\treturn (\n\t\t\t\t\t<SubMenuItem key={index} navlink={val} links={links} index={index} clickHandler={this.handleLinkClick}></SubMenuItem>\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<MenuItem\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdelay={`${index * 0.1}s`}\n\t\t\t\t\tonClick={() => { this.handleLinkClick() }}\n\t\t\t\t\thref={links.home + val.link}\n\t\t\t\t>\n\t\t\t\t\t{val.name}\n\t\t\t\t</MenuItem>\n\t\t\t)\n\t\t});\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<nav className={`theme_menu navbar p-0  z-depth-1 ${(this.props.sticky) ? \"fixed-top border-bottom\" : \"\"}`} style={{ height: \"90px\", position: 'fixed', width: '100%', background: 'white' }}>\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row no-gutter width-100\">\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-8 col-sm-6 col-6 d-flex\" >\n\t\t\t\t\t\t\t\t{/*  main-logo col d-flex  align-items-center*/}\n\t\t\t\t\t\t\t\t<div onClick={() => { window.location = \"/\" }} className=\"\" style={{ cursor: 'pointer', position: 'relative', padding: 18, marginLeft: -100 }}>\n\t\t\t\t\t\t\t\t\t{/* <h3 className=\"cool-font\"><span style={{ color: '#f9686f' }} className=\"fa fa-plug\"></span>Mass<span style={{ color: 'green' }}>Energize</span></h3>\n\t\t\t\t\t\t\t\t\t<br /><small style={{ color: '#f9686f', position: 'absolute', top: 42, left: 48, fontSize: 16 }}>{communityName}</small> */}\n\t\t\t\t\t\t\t\t\t<Link to={links.home} >\n\t\t\t\t\t\t\t\t\t\t{/* style={{display:'table-cell', verticalAlign:'middle', fontSize:'25px', fontWeight:'bold', height:'35px', color:'#f64b2f'}} */}\n\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'table-cell', verticalAlign: 'middle', fontFamily: 'verdana', fontSize: '30px', textTransform: 'uppercase', fontWeight: 'bold', height: '35px', color: '#8dc63f' }}>\n\t\t\t\t\t\t\t\t\t\t\t<img src={communitylogo ? communitylogo : logo} alt=\"\" style={{ display: \"inline-block\" }} className='header-logo' />\n\t\t\t\t\t\t\t\t\t\t\t{communitylogo ? null : <>&nbsp;{header ? header.title : null}</>}\n\t\t\t\t\t\t\t\t\t\t\t{/* <img src={logo} alt=\"\" style={{ display: \"inline-block\" }} className='header-logo' />\n                                        <>&nbsp;Concord</> */}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{this.state.menuBurgered ? // BURGERED STATE\n\t\t\t\t\t\t\t\t<div className=\"col-lg-8 col-md-4 col-sm-6 col-6 menu-column\" >\n\t\t\t\t\t\t\t\t\t<div style={styles.container}>\n\t\t\t\t\t\t\t\t\t\t<MenuButton open={this.state.menuOpen} onClick={() => this.handleMenuClick()} color='#333' />\n\t\t\t\t\t\t\t\t\t\t{this.renderLogin()}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Menu open={this.state.menuOpen}>\n\t\t\t\t\t\t\t\t\t\t{/* {this.renderLayeredMenu(this.props.navLinks)} */}\n\t\t\t\t\t\t\t\t\t\t{menuItems}\n\t\t\t\t\t\t\t\t\t\t{/* <div style={{marginLeft: \"1em\"}}>\n                                        <Menu open={true} submenu={true}>\n                                            {menuItems}\n                                        </Menu>\n                                    </div> */}\n\t\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<div className=\"col-lg-7 col-md-4 col-sm-6 col-6 menu-column\">\n\t\t\t\t\t\t\t\t\t<div style={styles.container} className=\"push-to-right\">\n\t\t\t\t\t\t\t\t\t\t<nav className=\"padding-0 menuzord d-flex ml-auto\" style={{ display: 'inline-block',padding:25,paddingTop:33 }} id=\"main_menu\" >\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"cool-font menuzord-menu height-100 d-flex flex-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t{this.renderNavLinks(this.props.navLinks)}\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</nav>\n\n\t\t\t\t\t\t\t\t\t\t{this.renderLogin()}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</nav >\n\n\t\t\t</div>\n\t\t)\n\t}\n\t// NORMAL STATE\n\trenderNavLinks(navLinks) {\n\t\tif (!navLinks) {\n\t\t\treturn <li key=\"noLinks\">No PageLinks to Display</li>\n\t\t}\n\t\tconst style = {\n\t\t\tborderTop: \"5px solid #8dc63f\",\n\t\t\tborderRadius: \"0\",\n\t\t\tpadding: \"0\",\n\t\t};\n\t\tconst { links } = this.props;\n\t\treturn Object.keys(navLinks).map(key => {\n\t\t\tvar navLink = navLinks[key];\n\t\t\tif (navLink.children) {\n\t\t\t\treturn (\n\t\t\t\t\t<li className=\"d-flex flex-column justify-content-center\" key={navLink.name}>\n\t\t\t\t\t\t<Dropdown onSelect={() => null}>\n\t\t\t\t\t\t\t<Dropdown.Toggle as={CustomNavLink} navLink={navLink} id=\"dropdown-custom-components\"></Dropdown.Toggle>\n\t\t\t\t\t\t\t<Dropdown.Menu style={style}>\n\t\t\t\t\t\t\t\t{this.renderDropdownItems(navLink.children)}\n\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn <li className=\"d-flex flex-column justify-content-center\" key={navLink.name}><Link className=\"cool-font\" to={`${links.home}${navLink.link}`}>{navLink.name}</Link></li>\n\t\t});\n\t}\n\trenderDropdownItems(children) {\n\t\tif (!this.props.links) return;\n\t\tconst { links } = this.props;\n\t\treturn children.map((child, key) => {\n\t\t\treturn (\n\t\t\t\t<Link key={key} to={`${links.home}${child.link}`} className=\"cool-font dropdown-item p-3 small \" onClick={() => document.dispatchEvent(new MouseEvent('click'))}>{child.name}</Link>\n\t\t\t);\n\t\t});\n\t}\n\trenderLogin() {\n\t\tconst { links } = this.props;\n\t\tconst {\n\t\t\tauth,\n\t\t\tuser\n\t\t} = this.props;\n\t\tconst style = {\n\t\t\tborderTop: \"5px solid #8dc63f\",\n\t\t\tborderRadius: \"0\",\n\t\t\tpadding: \"0\",\n\t\t};\n\t\tif (auth.uid && user.info) {\n\t\t\treturn (\n\t\t\t\t<Dropdown onSelect={() => null} className=\"d-flex\">\n\t\t\t\t\t<Dropdown.Toggle as={ProfileBtnDropdown} userName={user.info.preferred_name} id=\"dropdown-custom-components\"></Dropdown.Toggle>\n\t\t\t\t\t<Dropdown.Menu style={style}>\n\t\t\t\t\t\t<Link to={links.profile} className=\"dropdown-item p-3 small font-weight-bold cool-font\" onClick={() => document.dispatchEvent(new MouseEvent('click'))}>My Profile</Link>\n\t\t\t\t\t\t<button className=\"dropdown-item p-3 small font-weight-bold cool-font\" onClick={() => { this.props.firebase.auth().signOut(); this.props.reduxLogout(); }}><SignOutLink>Sign Out</SignOutLink></button>\n\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t</Dropdown>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Link className=\"cool-font new-sign-in float-right round-me raise\" to={links.signin} >\n\t\t\t\t\t<i className=\"fa fa-user\" style={{ padding: \"0px 2px\" }} />{'\\u00A0'}\n\t\t\t\t\tLogin\n                </Link>\n\t\t\t);\n\t\t}\n\t}\n}\nconst mapStoreToProps = (store) => {\n\n\treturn {\n\t\tauth: store.firebase.auth,\n\t\tuser: store.user,\n\t\tpageData: store.page.homePage,\n\t\tlinks: store.links\n\t}\n}\nexport default connect(mapStoreToProps, { reduxLogout })(withFirebase(NavBarBurger));\n// export default NavBarBurger;\n\nclass ProfileBtnDropdown extends React.Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\te.preventDefault();\n\n\t\tthis.props.onClick(e);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<button className=\"thm-btn float-right new-sign-in raise\" onClick={this.handleClick} style={{  margin: 'auto 0 auto 10px', fontSize: '12px', fontWeight: 600 }}>\n\t\t\t\t<i className=\"fa fa-user\" />{'\\u00A0'}\n\t\t\t\t{this.props.userName}\n\t\t\t\t<span className=\"fa fa-angle-down text-white ml-1\"></span>\n\t\t\t</button>\n\t\t);\n\t}\n}\n\n/* For Navbar (Normal) Dropdown Link */\nclass CustomNavLink extends React.Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\n\thandleClick(e) {\n\t\te.preventDefault();\n\n\t\tthis.props.onClick(e);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t// <li className=\"d-flex flex-column justify-content-center dropdown\" key={this.props.navLink.name} onClick={this.handleClick}>\n\t\t\t<Link className=\"cool-font\" to=\"\" onClick={this.handleClick}>{this.props.navLink.name} <span className=\"font-normal fa fa-angle-down\"></span></Link>\n\t\t\t// </li>\n\t\t);\n\t}\n}\n\n// ======================== BURGERED vvv =========================== //\n\n/**\n * Renders one navlink and its menu underneath in Burgered menu\n * @props navlink: The navlink object and its children to render\n */\nclass SubMenuItem extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: false\n\t\t}\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\n\thandleClick() {\n\t\tthis.setState({ open: !this.state.open });\n\t}\n\n\trenderSubmenuItems(items) {\n\t\tconst { links } = this.props;\n\t\treturn items.map((item, key) => {\n\t\t\treturn (\n\t\t\t\t<MenuItem key={key}\n\t\t\t\t\thref={links.home + item.link}\n\t\t\t\t\tonClick={this.props.clickHandler}\n\t\t\t\t>\n\t\t\t\t\t{item.name}\n\t\t\t\t</MenuItem>\n\t\t\t)\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { links } = this.props;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<MenuItem\n\t\t\t\t\tkey={this.props.index}\n\t\t\t\t\tdelay={`${this.props.index * 0.1}s`}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\thref=\"#\"\n\t\t\t\t>\n\t\t\t\t\t{this.props.navlink.name}\n\t\t\t\t</MenuItem>\n\t\t\t\t<div style={{ marginLeft: \"1em\" }}>\n\t\t\t\t\t<Menu open={this.state.open} submenu={true}>\n\t\t\t\t\t\t{this.renderSubmenuItems(this.props.navlink.children)}\n\t\t\t\t\t</Menu>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t)\n\t}\n};\n\n/**\n * Renders just one navlink in Burgered menu\n */\nclass MenuItem extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t}\n\t}\n\thandleHover() {\n\t\tthis.setState({ hover: !this.state.hover });\n\t}\n\trender() {\n\t\tconst styles = {\n\t\t\tcontainer: {\n\t\t\t\tanimation: '1s appear backwards',\n\t\t\t\tanimationDelay: this.props.delay,\n\t\t\t},\n\t\t\tmenuItem: {\n\t\t\t\tcolor: this.state.hover ? '#8ec449' : '#303030',\n\t\t\t\tfontWeight: '700',\n\t\t\t\tfontFamily: \"Verdana\",\n\t\t\t\tfontSize: '1rem',\n\t\t\t\tpadding: '.5rem 0',\n\t\t\t\tmargin: '0 5%',\n\t\t\t\tcursor: 'pointer',\n\t\t\t\ttransition: 'color 0.2s ease-in-out',\n\t\t\t\tanimation: '0.5s slideIn forwards',\n\t\t\t\tanimationDelay: this.props.delay,\n\n\t\t\t},\n\t\t\tline: {\n\t\t\t\twidth: '90%',\n\t\t\t\theight: '1px',\n\t\t\t\tbackground: 'gray',\n\t\t\t\tmargin: '0 auto',\n\t\t\t\tanimation: '0.5s shrink forwards',\n\t\t\t\tanimationDelay: this.props.delay,\n\n\t\t\t}\n\t\t}\n\t\tconst { links } = this.props;\n\t\treturn (\n\t\t\t<div style={styles.container}>\n\t\t\t\t<Link\n\t\t\t\t\tclassName=\"width-100\"\n\t\t\t\t\tstyle={styles.menuItem}\n\t\t\t\t\tonMouseEnter={() => { this.handleHover(); }}\n\t\t\t\t\tonMouseLeave={() => { this.handleHover(); }}\n\t\t\t\t\tonClick={this.props.onClick}\n\t\t\t\t\tto={this.props.href}\n\t\t\t\t>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</Link>\n\t\t\t\t<div style={styles.line} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n/* Menu.jsx */\nclass Menu extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: this.props.open ? this.props.open : false,\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.open !== this.state.open) {\n\t\t\tthis.setState({ open: nextProps.open });\n\t\t}\n\t}\n\n\trender() {\n\t\tconst styles = {\n\t\t\tcontainer: {\n\t\t\t\tposition: !this.props.submenu ? 'absolute' : 'relative',\n\t\t\t\twidth: !this.props.submenu ? '50%' : '100%',\n\t\t\t\theight: this.state.open ? (!this.props.submenu ? 'calc(100vh - 100px)' : '100%') : 0,\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflexDirection: 'column',\n\t\t\t\tbackground: 'white',\n\t\t\t\tcolor: 'black',\n\t\t\t\ttransition: 'height 0.3s ease',\n\t\t\t\tzIndex: 2,\n\t\t\t},\n\t\t\tmenuList: {\n\t\t\t\tpaddingTop: (!this.props.submenu) ? '3rem' : \"0\",\n\t\t\t}\n\t\t}\n\n\t\tif (!this.props.submenu) {\n\t\t\t// this is the main parent menu\n\t\t\tdocument.body.className = (this.state.open) ? \"burger-menu-open\" : \"\";\n\t\t}\n\n\n\t\treturn (\n\t\t\t<div style={styles.container}>\n\t\t\t\t{\n\t\t\t\t\tthis.state.open ?\n\t\t\t\t\t\t<div style={styles.menuList}>\n\t\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t\t</div> : null\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n/* MenuButton.jsx */\nclass MenuButton extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: this.props.open ? this.props.open : false,\n\t\t\tcolor: this.props.color ? this.props.color : 'black',\n\t\t}\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.open !== this.state.open) {\n\t\t\tthis.setState({ open: nextProps.open });\n\t\t}\n\t}\n\thandleClick() {\n\t\tthis.setState({ open: !this.state.open });\n\t}\n\trender() {\n\t\tconst styles = {\n\t\t\tcontainer: {\n\t\t\t\tjustifyContent: 'flex-end',\n\t\t\t\tmarginTop: 'auto',\n\t\t\t\tmarginBottom: 'auto',\n\t\t\t\tmarginLeft: 'auto',\n\t\t\t\theight: '32px',\n\t\t\t\twidth: '32px',\n\t\t\t\t// justifyContent: 'center',\n\t\t\t\tcursor: 'pointer',\n\t\t\t\tpadding: '4px',\n\t\t\t},\n\t\t\tline: {\n\t\t\t\theight: '2px',\n\t\t\t\twidth: '29px',\n\t\t\t\tbackground: this.state.color,\n\t\t\t\ttransition: 'all 0.2s ease',\n\t\t\t},\n\t\t\tlineTop: {\n\t\t\t\ttransform: this.state.open ? 'rotate(45deg)' : 'none',\n\t\t\t\ttransformOrigin: 'top left',\n\t\t\t\tmarginBottom: '8px',\n\t\t\t},\n\t\t\tlineMiddle: {\n\t\t\t\topacity: this.state.open ? 0 : 1,\n\t\t\t\ttransform: this.state.open ? 'translateX(-16px)' : 'none',\n\t\t\t},\n\t\t\tlineBottom: {\n\t\t\t\ttransform: this.state.open ? 'translateX(-1px) rotate(-45deg)' : 'none',\n\t\t\t\ttransformOrigin: 'top left',\n\t\t\t\tmarginTop: '8px',\n\t\t\t},\n\t\t}\n\t\treturn (\n\t\t\t<div style={styles.container}\n\t\t\t\tonClick={this.props.onClick ? this.props.onClick :\n\t\t\t\t\t() => { this.handleClick(); }}>\n\t\t\t\t<div style={{ ...styles.line, ...styles.lineTop }} />\n\t\t\t\t<div style={{ ...styles.line, ...styles.lineMiddle }} />\n\t\t\t\t<div style={{ ...styles.line, ...styles.lineBottom }} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import React from 'react'\n\n/**\n *  Div with height 100px to offset navbar loss if it's sticky\n */\nclass NavBarOffset extends React.Component {\n    render() {\n        if(this.props.sticky) {\n            const style = {\n                \"height\": \"100px\"\n            };\n            return <div style={style}></div>\n        }\n        return null;\n    }\n}\nexport default NavBarOffset;","import React from 'react';\nimport logo from '../../logo.png';\nimport { Link } from 'react-router-dom'\nimport { section } from '../../api/functions'\nimport { connect } from 'react-redux'\n\n\n\n/** Renders the address/ company contact info in the footer\n * @props :\n    info\n        phone\n        email\n        contactPerson\n        contactPersonLink\n*/\n\nclass FooterInfo extends React.Component {\n    render() {\n        const header = this.props.pageData? section(this.props.pageData, 'HomeHeader') : null;\n        const communitylogo = header && header.image ? header.image.url : null; \n        return (\n            <div className=\"col-7 col-md-4\">\n                <div className=\"footer-widget about-column\">\n                    <figure><Link to={this.props.links.home}>\n                        <img src={communitylogo ? communitylogo : logo} alt=\"\" style={{ display: \"inline-block\" }} className='header-logo' />\n                    </Link></figure>\n                    <ul className=\"contact-info\">\n                        <li><span className=\"icon-e-mail-envelope\"></span> {this.props.info.email}</li>\n                        <li><span className=\"icon-phone-call\"></span>{this.props.info.phone}</li>\n                        <li><span className=\"icon-people3\"></span>{this.props.info.contactPerson}, <i>Community Contact</i></li>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n}\nconst mapStoreToProps = (store) => {\n    return {\n        pageData: store.page.homePage,\n        links: store.links\n    }\n}\nexport default connect(mapStoreToProps, null)(FooterInfo);","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport {connect} from 'react-redux'\n\n/** Renders the Navigation links in the footer\n@props\n    title\n    links\n        text\n        link\n*/\nclass FooterLinks extends React.Component{\n    renderLinks(links){\n        if(!links){\n            return <div>No Links to Display</div>\n        }\n        return Object.keys(links).map(key=> {\n            var link = links[key];\n            return (\n                <li key = {link.name}>\n                    <Link className=\"cool-font\" to={`${this.props.reduxLinks.home}/${link.link}`}>{link.name}</Link>\n                </li>\n            );\n        });\n    }\n    render(){\n        const links = this.props.links;\n        var half_length = Math.ceil(links.length / 2);    \n        var leftSide = links.slice(0,half_length);\n        var rightSide = links.slice(half_length, links.length);\n        return(\n            <div className=\"col-5 col-md-4\">\n                <div className=\"footer-widget link-column\">\n                    <div className=\"section-title d-none d-md-block\">\n                        <b className=\"text-white\">{this.props.title}</b>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-12 col-md-6\">\n                            <div className=\"widget-content\">\n                                <ul className=\"list mb-0 cool-font\">\n                                    {this.renderLinks(leftSide)}\n                                </ul>\n                            </div>\n                        </div>\n                        <div className=\"col-12 col-md-6\">\n                            <div className=\"widget-content\">\n                                <ul className=\"list mb-0\">\n                                    {this.renderLinks(rightSide)}\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nconst mapStoreToProps = (store) => {\n    return {\n        pageData: store.page.homePage,\n        reduxLinks: store.links\n    }\n}\nexport default connect(mapStoreToProps, null)(FooterLinks);","import React from 'react';\nimport URLS from '../../api/urls'\nimport { postJson } from '../../api/functions';\nimport { connect } from 'react-redux'\n\n/********************************************************************/\n/**                        SUBSCRIBE FORM                          **/\n/********************************************************************/\nconst INITIAL_STATE = {\n    email: '',\n    name: '',\n    message: 'Your mail id is confidential'\n};\n\nclass SubscribeForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { ...INITIAL_STATE };\n\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    render() {\n        return (\n            <div className=\"footer-widget contact-column text-center text-md-left\">\n                <div className=\"section-title\">\n                    <b className=\"text-white\">Subscribe to Newsletter</b>\n                </div>\n                <form onSubmit={this.onSubmit}>\n                    <input className=\"text-white\"\n                        type=\"text\"\n                        placeholder=\"Name...\"\n                        name=\"name\"\n                        value={this.state.name}\n                        onChange={this.onChange}\n                        required\n                    />\n                    <input className=\"text-white\"\n                        type=\"email\"\n                        placeholder=\"Email address...\"\n                        name=\"email\"\n                        value={this.state.email}\n                        onChange={this.onChange}\n                        required\n                    />\n                    <button type=\"submit\"><i className=\"fa fa-paper-plane\"></i></button>\n                </form>\n                <p className=\"cool-font\" >{this.state.message}</p>\n            </div>\n        );\n    }\n\n    //updates the state when form elements are changed\n    onChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: null\n        });\n    };\n\n    onSubmit(event) {\n        event.preventDefault();\n        /** Collects the form data and sends it to the backend */\n        const body = {\n            \"email\": this.state.email,\n            \"name\": this.state.name,\n            \"community\": this.props.community? this.props.community.id : null,\n        }\n        postJson(URLS.SUBSCRIBERS, body).then(json => {\n            console.log(json);\n            if (json.success) {\n                this.setState({ ...INITIAL_STATE, message: `Success! ${this.state.email} is now subscribed to our Community's Newsletter` });\n            } else {\n                var known = false;\n                json.errors.forEach(error => {\n                    if (error.includes(\"duplicate\")) {\n                        this.setState({ ...INITIAL_STATE, message: `${this.state.email} is already subscribed to our Community's Newsletter` });\n                        known = true;\n                    }\n                })\n                if (!known)\n                    this.setState({ ...INITIAL_STATE, message: 'unknown error while subscribing' });\n            }\n        })\n    }\n}\n\nconst mapStoreToProps = (store) => {\n    return {\n        community: store.page.community,\n    }\n}\n//composes the login form by using higher order components to make it have routing and firebase capabilities\nexport default  connect(mapStoreToProps)(SubscribeForm);\n\n\n","import React from 'react'\nimport FooterInfo from './FooterInfo'\nimport FooterLinks from './FooterLinks'\nimport { Link } from 'react-router-dom'\nimport SubscribeForm from './SubscribeForm';\nimport { connect } from 'react-redux'\n/**\n * Footer section has place for links, \n */\nclass Footer extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t<footer className=\"main-footer m-footer-color\">\n\t\t\t\t\t{/* <!--Widgets Section--> */}\n\t\t\t\t\t<div className=\"widgets-section\">\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t{/* <!--Big Column--> */}\n\t\t\t\t\t\t\t<div className=\"big-column\">\n\t\t\t\t\t\t\t\t<div className=\"row clearfix\">\n\t\t\t\t\t\t\t\t\t{/* <!--Footer Column--> */}\n\t\t\t\t\t\t\t\t\t<FooterInfo\n\t\t\t\t\t\t\t\t\t\tinfo={this.props.footerInfo ? this.props.footerInfo : {}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{/* <!--Footer Column--> */}\n\t\t\t\t\t\t\t\t\t<FooterLinks\n\t\t\t\t\t\t\t\t\t\ttitle=\"Quick Links\"\n\t\t\t\t\t\t\t\t\t\tlinks={this.props.footerLinks}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{/* <!--Footer Column--> */}\n\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-md-4\">\n\t\t\t\t\t\t\t\t\t\t<SubscribeForm />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</footer>\n\t\t\t\t<section className=\"footer-bottom m-footer-color\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"pull-left copy-text\">\n\t\t\t\t\t\t\t<p className=\"cool-font\"><a href=\"https://massenergize.org\">Copyrights © 2019</a> All Rights Reserved. Powered by <a href=\"https://massenergize.org\">MassEnergize</a></p>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"pull-right get-text\">\n\t\t\t\t\t\t\t<Link to={this.props.links.donate}>Donate Now</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"coders \" style={{ background: 'black' }}>\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '12px' }}>Made with&nbsp;\n                            <span className=\"fa fa-heart text-danger\"></span> by&nbsp;\n                            <a className=\"normal\">\n\t\t\t\t\t\t\t\t<u>Sam Opoku-Agyemang</u>\n\t\t\t\t\t\t\t</a>,&nbsp;\n                            <a className=\"normal\">\n\t\t\t\t\t\t\t\t<u>Kieran O'Day</u>\n\t\t\t\t\t\t\t</a>,&nbsp;\n                            <a className=\"normal\">\n\t\t\t\t\t\t\t\t<u>Mingle Li</u>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t.\n                        </p>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn ({\n\t\tlinks: store.links\n\t});\n}\nexport default connect(mapStoreToProps)(Footer);","import React from 'react'\n\n/**\n * Renders the loading screen that shows when server is still responding\n */\nclass LoadingCircle extends React.Component {\n    render() {\n        let style = {\n            width: \"10em\"\n        };\n        return (\n            <div className=\"d-flex height-100vh justify-content-center align-items-center\">\n                <img src={require('../../assets/images/other/loader.gif')} alt=\"Loading...\" style={style}/>\n            </div>\n        );\n    }\n}\nexport default LoadingCircle;","import React from 'react'\n\n/** Renders an image banner that has one, two or three images across it based on screen size\n */\nclass WelcomeImages extends React.Component {\n    componentDidMount() {\n        window.addEventListener('resize', this.handleResize);\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleResize);\n    }\n    handleResize = () => {\n        this.forceUpdate();\n    };\n\n    render(){\n        //works best with tall images from online, my images are too big(2-5mb) so they slow it down but these are good\n        var picture1 = this.props.data[0].image.url;\n        var picture2 = this.props.data[1].image.url;\n        var picture3 = this.props.data[2].image.url;\n\n        var bannerstyle; //checks the width and changes how many images are displayed based on that\n        if(window.innerWidth > 1100){\n            bannerstyle = {\n                backgroundImage:`url(${picture1}), url(${picture2}), url(${picture3})`,\n                backgroundSize:\"33.333333%\",\n                backgroundPosition:\"left top, center top, right top\"\n            }\n        }else if (window.innerWidth >750){\n            bannerstyle = {\n                backgroundImage:`url(${picture1}), url(${picture2})`,\n                backgroundSize:\"50%\",\n                backgroundPosition:\"left top, right top\"\n            }\n        }else{\n            bannerstyle = {\n                backgroundImage:`url(${picture1})`,\n                backgroundSize:\"cover\",\n                backgroundPosition:\"left top\"\n            }\n        }\n        //TODO make this only one or only two images depending on screen size.\n        return(\n            <div className=\"inner-banner text-center\" style={bannerstyle}> \n                <div className=\"container\">\n                    <div className=\"box\">\n                        {/* <h1>{this.props.title}</h1> */}\n                     </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nexport default WelcomeImages;","import React from 'react'\nimport Chart from 'react-apexcharts'\n\n/*\nCircle graph is a graph that displays a progress bar in a circle\n@props:\n\tsize: of the graph\n\tnum: completed actions or whatever you want to display\n\tgoal: the number you are trying to get to\n\tlabel: the label in the middle of the circle\n*/\nclass CircleGraph extends React.Component {\n    constructor(props) {\n        super(props);\n        //options for the graphs, color, size....\n        //could potentially move this to an api for graphs but probably don't need to\n        this.state = {\n            options: {\n                chart: {\n                    type: \"radialBar\",\n                    // height: 010\n                },\n                series: [67],\n                colors: this.props.colors,\n                plotOptions: {\n                    radialBar: {\n                        size: this.props.size,\n                        // hollow: {\n                        //     margin: 5,\n                        //     size: \"60%\",\n                        // },\n                        track: {\n                            show: true,\n                            width: '100px'\n                        //     dropShadow: {\n                        //         enabled: true,\n                        //         top: 2,\n                        //         left: 0,\n                        //         blur: 4,\n                        //         opacity: 0.15\n                        //     }\n                         },\n                        dataLabels: {\n                            name: {\n                                offsetY: -3,\n                                color: \"#666\",\n                                fontSize: \"13px\",\n                                fontFamily: \"Verdana-bold\"\n                            },\n                            value: {\n                                offsetY: 3,\n                                color: \"#666\",\n                                fontSize: \"18px\",\n                                fontFamily: \"Verdana\",\n                                show: true,\n                                formatter: () => {\n                                    // return this.props.num + \"/\" + this.props.goal;\n                                    return this.props.num;\n                                    // return `\n                                    //     <Tooltip text=\"Out of our goal of ${this.props.goal}, we have ${this.props.num} ${this.props.label.toLowerCase()}\" dir=\"top\">\n                                    //         <span class=\"has-tooltip\">${this.props.num}</span>\n                                    //     </Tooltip>\n                                    // `;\n                                }\n                            }\n                        }\n                    }\n                },\n                // fill: {\n                //     type: \"gradient\",\n                //     gradient: {\n                //         shade: \"dark\",\n                //         type: \"vertical\",\n                //         gradientToColors: [\"#428a36\"],\n                //         stops: [0, 100]\n                //     }\n                // },\n                stroke: {\n                    lineCap: \"round\"\n                },\n                labels: [this.props.label]\n            },\n            series: [(this.props.num / this.props.goal) * 100],\n        }\n    }\n\n    render() {\n\n        return ( <\n            Chart options = { this.state.options }\n            series = { this.state.series }\n            type = \"radialBar\"\n            className=\"apex-chart circle-graph\"/>\n        );\n    }\n}\nexport default CircleGraph;","import React from 'react'\nimport CircleGraph from '../../Shared/CircleGraph'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\n\n\n/** Renders the graphs on the home page and a link to the impact page\n * @props :\n    graphs\n        data(num)\n        goal\n        title(label)\n        size\n*/\n\n\nclass Graphs extends React.Component {\n\n\trenderGraphs(graphs) {\n\t\tif (!graphs) {\n\t\t\treturn <div>No Graphs to Display</div>\n\t\t}\n\t\treturn Object.keys(graphs).map(key => {\n\t\t\tvar graph = graphs[key];\n\t\t\tif (graph.data == null) {\n\t\t\t\tconsole.log(graph);\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<div key={key} className=\"column col-lg-3 col-md-6 col-sm-6 col-xs-12\" data-wow-duration=\"0ms\">\n\t\t\t\t\t<CircleGraph num={graph.data.value} goal={graph.data.denominator} label={graph.title} size={this.props.size} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t}\n\n\trender() {\n\t\tvar dumbycol = \"\";\n\t\tif (this.props.graphs && Object.keys(this.props.graphs).length === 2) {\n\t\t\tdumbycol = <article className={\"column col-md-3\"}></article>;\n\t\t}\n\t\treturn (\n\t\t\t<section className=\"fact-counter style-2 no-padd\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row no-gutter clearfix\">\n\t\t\t\t\t\t{dumbycol}\n\t\t\t\t\t\t{this.renderGraphs(this.props.graphs)}\n\t\t\t\t\t\t<article className=\"column counter-column col-lg-3 col-md-6 col-sm-6 col-xs-12 wow fadeIn\" data-wow-duration=\"0ms\">\n\t\t\t\t\t\t\t<div className=\"item\">\n\t\t\t\t\t\t\t\t<div className=\"icon\"><i className=\"fa fa-chart-bar\" /></div>\n\t\t\t\t\t\t\t\t<Link to={this.props.links.impact}  className=\"thm-btn btn-finishing\">Our Impact</Link>\n\t\t\t\t\t\t\t\t{/* <h4 className=\"counter-title\">about our community impact</h4> */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</article>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn ({\n\t\tlinks: store.links\n\t});\n}\nexport default connect(mapStoreToProps)(Graphs);\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\n/**\n * renders a single icon box on the home page\n * @props\n *      icon (fa fa-something)\n *      title\n *      description\n *      link\n */\nclass IconBox extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"service-item center hover-service-item\">\n\t\t\t\t<Link to={`${this.props.links.home}${this.props.link}`} style={{ width: '100%', height: '100%' }}>\n\n\t\t\t\t\t<div className=\"icon-box text-center\" >\n\t\t\t\t\t\t<span className={this.props.icon}></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h4 className=\"cool-font\">{this.props.title}</h4>\n\t\t\t\t\t<p className=\"cool-font\">{this.props.description}</p>\n\t\t\t\t</Link>\n\n\t\t\t</div>\n\n\t\t);\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn ({\n\t\tlinks: store.links\n\t});\n}\nexport default connect(mapStoreToProps)(IconBox);","import React from 'react';\nimport IconBox from './IconBox';\n\n/**\n * Renders all the Icon boxs into a row with 3 columns\n * @props\n *      title\n *      boxes\n *          id\n *          title\n *          description\n *          icon\n *          link\n */\nclass IconBoxTable extends React.Component {\n\trenderBoxes(boxes) {\n\t\tif (!boxes) {\n\t\t\treturn <div>No Icon Boxes to Display</div>\n\t\t}\n\t\treturn Object.keys(boxes).map((key, index) => {\n\t\t\tvar box = boxes[key];\n\t\t\treturn <div className=\"col-lg-3 col-md-6 col-sm-6 col-12 d-flex flex-row\" key={index}>\n\t\t\t\t<IconBox\n\t\t\t\t\tkey={index}\n\t\t\t\t\ttitle={box.title}\n\t\t\t\t\tdescription={box.description}\n\t\t\t\t\ticon={box.icon}\n\t\t\t\t\tlink={box.link}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<section className=\"service p-5\" style={{background:'white'}}>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"section-title center \">\n\t\t\t\t\t\t<h2 class=\"text-white cool-font m-service-title\" >{this.props.title}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row d-flex flex-row\">\n\t\t\t\t\t\t{this.renderBoxes(this.props.boxes)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t}\n}\nexport default IconBoxTable;","const CONST = {\n   \n}\nCONST['LIMIT'] = 140\nCONST['BIG_LIMIT'] = 300\n\nexport default CONST;","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport CONST from '../../Constants'\nimport { connect } from 'react-redux'\n/**\n * Events section displays upcoming events,\n * @props\n    events: list of the events to show\n        title\n        time\n        day\n        month\n        year\n        link //may need to rethink this/do it more like actions so it links to a single event view by id\n        image\n        organizer\n        address\n        //may need to add in id\n */\nclass Events extends React.Component {\n\trenderEvents(events, start, end, showMessage) {\n\t\tif (!events && showMessage) {\n\t\t\treturn <div>No Events to Display</div>\n\t\t}\n\t\tvar upcomingEvents = [];\n\t\tObject.keys(events).forEach(key => {\n\t\t\tvar now = new Date();\n\t\t\tvar event = events[key];\n\t\t\tvar date = new Date(event.start_date_and_time);\n\t\t\tvar endDate = new Date(event.end_date_and_time);\n\t\t\tif (date - now > 0 || endDate - now > 0) {\n\t\t\t\tupcomingEvents.push(event);\n\t\t\t}\n\t\t});\n\t\tif (upcomingEvents.length === 0 && showMessage) {\n\t\t\treturn <div><p className=\"cool-font\"> Sorry, no upcoming events. See all <Link to={this.props.links.events}> events</Link></p></div>\n\t\t}\n\t\tvar eventsDisplayed = 0;\n\t\treturn upcomingEvents.map(event => {\n\t\t\tif (eventsDisplayed >= start && eventsDisplayed < end) {\n\t\t\t\tvar eventStyle = \"item style-2\";\n\t\t\t\tif (eventsDisplayed === 0) {\n\t\t\t\t\teventStyle = \"item style-1\";\n\t\t\t\t}\n\t\t\t\teventsDisplayed += 1;\n\t\t\t\tvar date = new Date(event.start_date_and_time);\n\t\t\t\tvar endDate = new Date(event.end_date_and_time);\n\n\t\t\t\treturn (\n\t\t\t\t\t<div key={eventsDisplayed} className={eventStyle}>\n\t\t\t\t\t\t<div className=\"clearfix\">\n\t\t\t\t\t\t\t<div className=\"img-column\">\n\t\t\t\t\t\t\t\t<figure className=\"img-holder\">\n\t\t\t\t\t\t\t\t\t<Link to={`${this.props.links.events}/${event.id}`}><img src={event.image ? event.image.url : \"\"} alt=\"\" /></Link>\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"text-column\">\n\t\t\t\t\t\t\t\t<div className=\"lower-content\">\n\t\t\t\t\t\t\t\t\t<Link className=\"cool-font\" to={`${this.props.links.events}/${event.id}`}><h4>{event.name}</h4></Link>\n\t\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t\t{event.description.length > CONST.LIMIT ?\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"cool-font\">\n\t\t\t\t\t\t\t\t\t\t\t\t{event.description.substring(0, CONST.LIMIT)}\n\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;<Link to={`${this.props.links.events}/${event.id}`}> ...more </Link>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"cool-font\"> {event.description} </p>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul className=\"post-meta list_inline\">\n\t\t\t\t\t\t\t<li><i className=\"fa fa-clock-o\"></i>{this.sameDay(date, endDate) ? `${date.toLocaleTimeString()} - ${endDate.toLocaleTimeString()}` : `${date.toLocaleTimeString()}`}</li>  |&nbsp;&nbsp;&nbsp;\n                        <li><i className=\"fa fa-calendar\"></i>{this.sameDay(date, endDate) ? date.toString().substring(4, 10) : `${date.toString().substring(4, 10)} - ${endDate.toString().substring(4, 10)}`}, {date.getFullYear().toString()}</li>\n\t\t\t\t\t\t\t{event.location ?\n\t\t\t\t\t\t\t\t<li>&nbsp;|&nbsp;&nbsp;&nbsp;<i className=\"fa fa-map-marker\"></i> {event.location.street}, {event.location.city}, {event.location.state} {event.location.zip}</li>\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\teventsDisplayed += 1;\n\t\t\treturn null;\n\t\t});\n\t}\n\tsameDay = (d1, d2) => {\n\t\treturn d1.getFullYear() === d2.getFullYear() &&\n\t\t\td1.getMonth() === d2.getMonth() &&\n\t\t\td1.getDate() === d2.getDate();\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<section className=\"event-style1\" style={{background:'floralwhite'}}>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-md-9 col-sm-10 col-xs-12 text-center text-sm-left\">\n\t\t\t\t\t\t\t<div className=\"section-title m-0\">\n\t\t\t\t\t\t\t\t<h2 className=\"cool-font\">Upcoming Events</h2>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-md-3 col-sm-2 col-xs-12 text-center text-sm-right\">\n\t\t\t\t\t\t\t<Link to={`${this.props.links.events}`} className=\"cool-font thm-btn mb-4 btn-finishing\">All Events</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<article className=\"col-md-6 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t{this.renderEvents(this.props.events, 0, 1, true)}\n\t\t\t\t\t\t</article>\n\t\t\t\t\t\t<article className=\"col-md-6 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t{this.renderEvents(this.props.events, 1, 3, false)}\n\t\t\t\t\t\t</article>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn ({\n\t\tlinks: store.links\n\t});\n}\nexport default connect(mapStoreToProps)(Events);","import React from 'react'\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport WelcomeImages from '../../Shared/WelcomeImages'\nimport Graphs from './Graphs';\nimport IconBoxTable from './IconBoxTable';\nimport Events from './Events';\nimport { section } from '../../../api/functions'\nimport { connect } from 'react-redux'\n\n\n/*\n* The Home Page of the MassEnergize\n*/\nclass HomePage extends React.Component {\n\n\trender() {\n\t\t\n\t\tif (!this.props.pageData) return <p className='text-center'> Sorry, looks like this community's Home Page is under maintenance. Try again later </p>;\n\t\tconst communityDescription = this.props.pageData.description;\n\t\tconst { pageData, events } = this.props;\n\t\tconst welcomeImagesData = section(pageData, \"WelcomeImages\").slider[0].slides;\n\t\tconst iconQuickLinks = section(pageData, \"IconQuickLinks\").cards;\n\t\tconst header = section(pageData, \"HomeHeader\");\n\t\tconst graphs = [\n\t\t\t{\n\t\t\t\ttitle: 'Actions Completed',\n\t\t\t\tdata: this.props.graphsData ? this.props.graphsData.filter(data => { return data.name === 'ActionsCompletedData' })[0] : null\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Households Engaged',\n\t\t\t\tdata: this.props.graphsData ? this.props.graphsData.filter(data => { return data.name === 'EngagedHouseholdsData' })[0] : null\n\t\t\t},\n\t\t]\n\t\treturn (\n\t\t\t<div className=\"boxed_wrapper\" style={{paddingTop:91}}>\n\t\t\t\t{welcomeImagesData ?\n\t\t\t\t\t<WelcomeImages\n\t\t\t\t\t\tdata={welcomeImagesData}\n\t\t\t\t\t\ttitle={header.title}\n\t\t\t\t\t/> : null\n\t\t\t\t}\n\t\t\t\t<div style={{padding:30,background:'floralwhite'}}>\n\t\t\t\t\t<h4 align='center'className=\"cool-font\">{this.props.pageData.community.name}</h4>\n\t\t\t\t\t<p align='center' className=' col-md-8 col-lg-8 offset-md-2 cool-font ' style={{color:\"#383838\"}}>Laborum nostrud incididunt nulla est pariatur anim ex incididunt commodo veniam pariatur esse deserunt. Fugiat amet ea non in ipsum aute reprehenderit. Velit ipsum duis minim sunt. Eu magna velit eiusmod adipisicing enim Lorem ullamco. Excepteur labore deserunt elit esse consequat sunt. Laborum duis duis ipsum tempor enim esse sit velit consectetur ipsum est qui.</p>\n\t\t\t\t</div>\n\t\t\t\t{this.props.graphsData ?\n\t\t\t\t\t<Graphs\n\t\t\t\t\t\tgraphs={graphs}\n\t\t\t\t\t\tsize={120}\n\t\t\t\t\t/> : null\n\t\t\t\t}\n\t\t\t\t{iconQuickLinks ?\n\t\t\t\t\t<IconBoxTable\n\t\t\t\t\t\ttitle=\"Get started - See your local options!\"\n\t\t\t\t\t\tboxes={iconQuickLinks}\n\t\t\t\t\t/> : null\n\t\t\t\t}\n\t\t\t\t{events ?\n\t\t\t\t\t<Events\n\t\t\t\t\t\tevents={events}\n\t\t\t\t\t/> : null\n\t\t\t\t}\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tpageData: store.page.homePage,\n\t\tevents: store.page.events,\n\t\tgraphsData: store.page.communityData\n\t}\n}\nexport default connect(mapStoreToProps, null)(HomePage);","import { \n    LOAD_HOME_PAGE, \n    LOAD_ACTIONS_PAGE, \n    LOAD_SERVICE_PROVIDERS_PAGE, \n    LOAD_TEAMS_PAGE, \n    LOAD_ABOUT_US_PAGE, \n    LOAD_COMMUNITIES_STATS, \n    LOAD_DONATE_PAGE, \n    LOAD_EVENTS_PAGE, \n    LOAD_MENU, \n    LOAD_POLICIES, \n    LOAD_ACTIONS, \n    LOAD_SERVICE_PROVIDERS, \n    ADD_TESTIMONIAL, \n    REMOVE_TESTIMONIAL, \n    LOAD_TESTIMONIALS_PAGE, \n    LOAD_TESTIMONIALS, \n    LOAD_EVENTS, \n    LOAD_EVENT_RSVPS, \n    ADD_RSVP, \n    REMOVE_RSVP, \n    CHANGE_RSVP,\n    ADD_TEAM_MEMBER,\n    REMOVE_TEAM_MEMBER,\n    LOAD_COMMUNITIES,\n    LOAD_COMMUNITY,\n    LOAD_TAG_COLS,\n    LOAD_COMMUNITY_DATA,\n    Load_COMMUNITY_ADMINS,\n    CHANGE_DATA,\n    TEAM_ADD_ACTION,\n    TEAM_REMOVE_ACTION,\n    TEAM_ADD_HOUSEHOLD,\n    TEAM_REMOVE_HOUSEHOLD\n} from './types'\n\n\nexport const reduxLoadCommunity = (community) => dispatch => {\n    return dispatch({\n        type: LOAD_COMMUNITY,\n        payload: community\n    })\n}\n\nexport const reduxLoadCommunityData = (data) => dispatch => {\n    return dispatch({\n        type: LOAD_COMMUNITY_DATA,\n        payload: data\n    })\n}\n\nexport const reduxLoadCommunityAdmins = (admins) => dispatch => {\n    return dispatch({\n        type: Load_COMMUNITY_ADMINS,\n        payload: admins\n    })\n}\nexport const reduxLoadHomePage = (page) => dispatch => {\n    return dispatch({\n        type: LOAD_HOME_PAGE,\n        payload: page\n    })\n}\n\nexport const reduxLoadActionsPage = (page) => dispatch => {\n    return dispatch({\n        type: LOAD_ACTIONS_PAGE,\n        payload: page\n    })\n}\n\nexport const reduxLoadServiceProvidersPage = (page) => dispatch => {\n    return dispatch({\n        type: LOAD_SERVICE_PROVIDERS_PAGE,\n        payload: page\n    })\n}\n\nexport const reduxLoadTestimonialsPage = (page) => dispatch => {\n    return dispatch({\n        type: LOAD_TESTIMONIALS_PAGE,\n        payload: page\n    })\n}\n\nexport const reduxLoadTeamsPage = (page) => dispatch => {\n    return dispatch({\n        type: LOAD_TEAMS_PAGE,\n        payload: page\n    })\n}\n\nexport const reduxLoadAboutUsPage = (page) => dispatch => {\n    return dispatch({\n        type: LOAD_ABOUT_US_PAGE,\n        payload: page\n    })\n}\n\nexport const reduxLoadCommunitiesStats = (page) => dispatch => {\n    return dispatch({\n        type: LOAD_COMMUNITIES_STATS,\n        payload: page\n    })\n}\n\nexport const reduxLoadDonatePage = (page) => dispatch => {\n    return dispatch({\n        type: LOAD_DONATE_PAGE,\n        payload: page\n    })\n}\n\nexport const reduxLoadEventsPage = (page) => dispatch => {\n    return dispatch({\n        type: LOAD_EVENTS_PAGE,\n        payload: page\n    })\n}\n\nexport const reduxLoadMenu = (menu) => dispatch => {\n    return dispatch({\n        type: LOAD_MENU,\n        payload: menu\n    })\n}\n\nexport const reduxLoadPolicies = (policies) => dispatch => {\n    return dispatch({\n        type: LOAD_POLICIES,\n        payload: policies\n    })\n}\n\nexport const reduxLoadActions= (actions) => dispatch => {\n    return dispatch({\n        type: LOAD_ACTIONS,\n        payload: actions\n    })\n}\n\nexport const reduxLoadEvents = (events) => dispatch => {\n    return dispatch({\n        type: LOAD_EVENTS,\n        payload: events\n    })\n}\n\nexport const reduxLoadServiceProviders = (serviceProviders) => dispatch => {\n    return dispatch({\n        type: LOAD_SERVICE_PROVIDERS,\n        payload: serviceProviders\n    })\n}\n\nexport const reduxLoadTestimonials = (testimonials) => dispatch => {\n    return dispatch({\n        type: LOAD_TESTIMONIALS,\n        payload: testimonials\n    })\n}\n\nexport const reduxLoadCommunities = (communities) => dispatch => {\n    return dispatch({\n        type: LOAD_COMMUNITIES,\n        payload: communities\n    })\n}\n\nexport const reduxLoadTagCols = (tagCols) => dispatch => {\n    return dispatch({\n        type: LOAD_TAG_COLS, \n        payload: tagCols\n    })\n}\n\nexport const reduxAddTestimonial = (testimonial) => dispatch => {\n    return dispatch({\n        type: ADD_TESTIMONIAL,\n        payload: testimonial\n    })\n}\n\nexport const reduxRemoveTestimonial = (testimonial) => dispatch => {\n    return dispatch({\n        type: REMOVE_TESTIMONIAL,\n        payload: testimonial\n    })\n}\n\nexport const reduxLoadRSVPs = (RSVPs) => dispatch => {\n    return dispatch({\n        type: LOAD_EVENT_RSVPS, \n        payload: RSVPs\n    })\n}\n\nexport const reduxAddRSVP = (RSVP) => dispatch => {\n    return dispatch({\n        type: ADD_RSVP, \n        payload: RSVP\n    })\n}\n\nexport const reduxRemoveRSVP = (RSVP) => dispatch => {\n    return dispatch({\n        type: REMOVE_RSVP, \n        payload: RSVP\n    })\n}\n\nexport const reduxChangeRSVP = (RSVP) => dispatch => {\n    return dispatch({\n        type:CHANGE_RSVP,\n        payload: RSVP\n    })\n}\nexport const reduxAddTeamMember = (teamAndMember) => dispatch => {\n    return dispatch({\n        type: ADD_TEAM_MEMBER, \n        payload: teamAndMember\n    })\n}\nexport const reduxRemoveTeamMember = (teamAndMember) => dispatch => {\n    return dispatch({\n        type: REMOVE_TEAM_MEMBER, \n        payload: teamAndMember\n    })\n}\nexport const reduxTeamAddAction = (team) => dispatch => {\n    return dispatch({\n        type: TEAM_ADD_ACTION,\n        payload: team\n    })\n}\nexport const reduxTeamRemoveAction = (team) => dispatch => {\n    return dispatch({\n        type: TEAM_REMOVE_ACTION,\n        payload: team\n    })\n}\nexport const reduxTeamAddHouse = (team) => dispatch => {\n    return dispatch({\n        type: TEAM_ADD_HOUSEHOLD,\n        payload: team\n    })\n}\nexport const reduxTeamRemoveHouse = (team) => dispatch => {\n    return dispatch({\n        type: TEAM_REMOVE_HOUSEHOLD,\n        payload: team\n    })\n}\nexport const reduxChangeData = (data) => dispatch => {\n    return dispatch({\n        type: CHANGE_DATA,\n        payload: data\n    })\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nclass BreadCrumbBar extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div class=\"breadcumb-wrapper\">\n\t\t\t\t<div class=\"container\">\n\t\t\t\t\t<div class=\"pull-left\">\n\t\t\t\t\t\t<ul class=\"list-inline link-list\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<Link to={this.props.reduxLinks.home} className='link'> Home </Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{Object.keys(this.props.links).map(key => {\n\t\t\t\t\t\t\t\tconst link = this.props.links[key];\n\t\t\t\t\t\t\t\tif (link.link) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={key}>\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`${link.link}`} className='link'>{link.name}</Link>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else if (link.name) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={key}>\n\t\t\t\t\t\t\t\t\t\t\t{link.name}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn ({\n\t\treduxLinks: store.links\n\t});\n}\nexport default connect(mapStoreToProps)(BreadCrumbBar);\n","import React from 'react'\nclass Accordian extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: props.open? props.open : false\n        }\n        this.handleClick = this.handleClick.bind(this);\n    }\n    render() {\n        return (\n            <div>\n                <div className=\"accordian-header d-flex flex-row align-items-center\" onClick={this.handleClick}>\n                    {this.props.header}\n                    {this.state.open ?\n                        <i className=\"fa fa-caret-up\"></i> : <i className=\"fa fa-caret-down\"></i>\n                    }\n                </div>\n                <div className= {this.state.open? 'accordian-content':'accordian-content hidden' }>\n                    {this.props.content}\n                </div>\n            </div>\n        )\n    }\n    handleClick() {\n        this.setState({\n            open: !this.state.open\n        })\n    }\n} export default Accordian;","import React from 'react';\nimport '../../assets/css/style.css';\nimport Accordian from './Accordian';\n\n/** Renders the sidebar on the actions page, optons to filter by category, tags, difficulty and impact\n *  @props\n    taggroups list\n    @TODO need to update how this takes in input, should take in a json with a list of tag titles with sub tags in them\n    need to make the tags accordian dropdown\n*/\nclass SideBar extends React.Component {\n\trender() {\n\t\t//avoids trying to render before the promise from the server is fulfilled\n\t\treturn (\n\t\t\t<div className=\"wrapper shop-sidebar mb-5\">\n\t\t\t\t{/* <div className=\"sidebar_search\">\n\t\t\t\t\t<form action=\"#\">\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"Search....\" id='action-searchbar' onChange={this.props.onChange} />\n\t\t\t\t\t\t<button className=\"tran3s color1_bg\" onClick={this.props.onChange}><i className=\"fa fa-search\" aria-hidden=\"true\"></i></button>\n\t\t\t\t\t</form>\n\t\t\t\t</div> */}\n\t\t\t\t<br />\n\t\t\t\t<h4>Filter by...</h4>\n\t\t\t\t{this.renderTagCollections(this.props.tagCols)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderTagCollection(tagCol) {\n\t\tif (!tagCol) {\n\t\t\treturn <p>No Filter Available</p>;\n\t\t}\n\t\treturn Object.keys(tagCol).map(key => {\n\t\t\tvar tag = tagCol[key];\n\t\t\treturn (\n\t\t\t\t<label className=\"checkbox-container\" onClick={this.props.onChange} key={key}>\n\t\t\t\t\t<p style={{\n\t\t\t\t\t\tmarginLeft: \"25px\",\n\t\t\t\t\t\tmarginBottom: \"0\",\n\t\t\t\t\t\tpadding: \"4px 0 5px 0\"\n\t\t\t\t\t}}>{tag.name}</p>\n\t\t\t\t\t<input className=\"checkbox\" type=\"checkbox\" name=\"boxes\" id={\"filtertag\" + tag.id} value={tag.name} />\n\t\t\t\t\t<span className=\"checkmark\"></span>\n\t\t\t\t</label>\n\t\t\t);\n\t\t});\n\t}\n\n\trenderTagCollections(tagCols) {\n\t\tif (!tagCols) {\n\t\t\treturn <p>No Filters Available</p>;\n\t\t}\n\t\treturn Object.keys(tagCols).map(key => {\n\t\t\tvar tagCol = tagCols[key];\n\t\t\tconst header = (\n\t\t\t\t<div className=\"section-title w-100\">\n\t\t\t\t\t<span>{tagCol.name}</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t\tconst content = (\n\t\t\t\t<form className=\"list\">\n\t\t\t\t\t{this.renderTagCollection(tagCol.tags)}\n\t\t\t\t</form>\n\t\t\t);\n\t\t\treturn (\n\t\t\t\t<div className=\"category-style-one\" key={key}>\n\t\t\t\t\t<Accordian\n\t\t\t\t\t\topen={tagCol.name === \"Category\"}\n\t\t\t\t\t\theader={header}\n\t\t\t\t\t\tcontent={content}\n\t\t\t\t\t\tonChange={this.props.onChange}\n\t\t\t\t\t/>\n\t\t\t\t</div >\n\t\t\t)\n\t\t});\n\t}\n}\nexport default SideBar;","import React from 'react';\nimport Popover from 'react-bootstrap/Popover';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\n\n/**\n * Renders a page title with h1\n */\nexport default class Tooltip extends React.Component {\n\trender() {\n\t\tconst popover = (\n\t\t\t<Popover title={(this.props.title) ? this.props.title : \"\"}>\n\t\t\t\t{this.props.text}\n\t\t\t</Popover>\n\t\t);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<OverlayTrigger trigger=\"hover\" placement={this.props.dir} overlay={popover}>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</OverlayTrigger>\n\t\t\t</div>\n\t\t);\n\t}\n}","import React from 'react';\n\n/********************************************************************/\n/**                        RSVP FORM                               **/\n/********************************************************************/\nconst INITIAL_STATE = {\n    error: null,\n    choice: null,\n};\n\nclass ChooseHHForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            error: null,\n        }\n        this.onChange = this.onChange.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.status !== this.props.status) {\n            this.setState({ error: null })\n        }\n    }\n    render() {\n        this.checkHouseholds();\n        return (\n            <>\n                {this.props.open ?\n                    <div>\n                        {this.state.error ? <p className='text-danger'> {this.state.error} </p> : null}\n                        <form onSubmit={this.handleSubmit}>\n                            {this.renderRadios(this.props.user.households)}\n                            <div>\n                                <button className='thm-btn style-4' type='submit' disabled={this.state.error ? true : false}>Submit</button>\n                                <button className='thm-btn style-4 red' onClick={this.props.closeForm}> Cancel </button>\n                            </div>\n                        </form>\n                    </div>\n                    :\n                    null\n                }\n            </>\n        );\n    }\n\n\n    handleSubmit = (event) => {\n        if (event) event.preventDefault();\n\n        if (!this.state.choice) {\n            this.setState({\n                choice: null,\n                error: \"Please select a household\"\n            })\n            return;\n        }\n\n        \n        if (this.props.status === \"TODO\") {\n            if (!this.props.inCart(this.props.aid, this.state.choice)) {\n                console.log('adding to todo')\n                this.props.addToCart(this.props.aid, this.state.choice, this.props.status);\n                this.props.closeForm();\n            }\n        } else if (this.props.status === \"DONE\") {\n            if (!this.props.inCart(this.props.aid, this.state.choice)) {\n                console.log('adding to done')\n                this.props.addToCart(this.props.aid, this.state.choice, this.props.status);\n                this.props.closeForm();\n            } else if (this.props.inCart(this.props.aid, this.state.choice, \"TODO\")) {\n                console.log('moving to done')\n                this.props.moveToDone(this.props.aid, this.state.choice);\n                this.props.closeForm();\n\n            }\n        }\n        this.setState({\n            choice: null,\n        })\n    }\n    renderRadios(households) {\n        return Object.keys(households).map(key => {\n            const household = households[key];\n            if ((this.props.status === \"DONE\" && !this.props.inCart(this.props.aid, household.id, \"DONE\")) || (this.props.status === \"TODO\" && !this.props.inCart(this.props.aid, household.id))) {\n                return (\n                    <div key={key} style={{ display: 'inline-block' }}>\n                        <input id={'' + household.name + key} type='radio' value={household.id} name='hhchoice' onChange={this.onChange} checked={Number(this.state.choice) === Number(household.id)} style={{ display: 'inline-block' }} />\n                        &nbsp;\n                            <label htmlFor={'' + household.name + key}> {household.name} </label>\n                        &nbsp;&nbsp;&nbsp;\n                        </div>\n                );\n            }\n        })\n    }\n    //updates the state when form elements are changed\n    onChange(event) {\n        console.log(event.target.value)\n        this.setState({\n            error: null,\n            choice: event.target.value,\n        });\n        console.log(this.state)\n    };\n\n    checkHouseholds = () => {\n        if (this.props.open) {\n            var housesAvailable = [];\n            for (var i = 0; i < this.props.user.households.length; i++) {\n                var household = this.props.user.households[i];\n                if ((this.props.status === \"DONE\" && !this.props.inCart(this.props.aid, household.id, \"DONE\")) ||\n                    (this.props.status === \"TODO\" && !this.props.inCart(this.props.aid, household.id))\n                ) {\n                    housesAvailable.push(household.id)\n                }\n            }\n            console.log(housesAvailable)\n            if (!this.state.error && !this.state.choice) {\n                if (housesAvailable.length === 0) {\n                    this.setState({ error: `You have already added this action for all of your households` });\n                } else {\n                    console.log( housesAvailable[0])\n                    this.setState({ choice: housesAvailable[0] });\n                }\n            }\n        }\n\n    }\n}\nexport default (ChooseHHForm);\n\n\n","import React from 'react';\nimport URLS from '../../../api/urls'\nimport { postJson, getJson } from '../../../api/functions';\nimport { connect } from 'react-redux';\n\n/********************************************************************/\n/**                        SUBSCRIBE FORM                          **/\n/********************************************************************/\nconst INITIAL_STATE = {\n    title: '',\n    body: '',\n    aid: '--',\n    vid: '--',\n    vendor: '',\n    message: 'Already completed an action? Tell Us Your Story',\n    limit: 9000,\n};\n\nclass StoryForm extends React.Component {\n    constructor(props) {\n        super(props);\n        var message = 'Already completed an action? Tell Us Your Story';\n        if (props.aid) message = 'Already completed this action? Tell Us Your Story';\n        if (props.vid) message = 'Already used this vendor? Tell Us Your Story';\n\n        this.state = {\n            ...INITIAL_STATE,\n            vid: props.vid ? props.vid : '--',\n            aid: props.aid ? props.aid : '--',\n            captchaConfirmed: false,\n\n            message: message\n        };\n\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    render() {\n        if (!this.props.actions || this.props.actions.length === 0) return <div className='text-center'><p> Sorry, there are no actions to submit a story about </p></div>;\n        if (this.state.vid !== 'other' && this.state.vendor !== '') this.setState({ vendor: '' })\n        return (\n            <div className=\"review-form\" style={{ border: '1px solid #aaa' }}>\n                {this.props.noMessage ? null :\n                    <div className=\"tab-title-h4 text center\">\n                        <h4 className=\"p-2\">{this.state.message}</h4>\n                    </div>\n                }\n                <form onSubmit={this.onSubmit} style={{ margin: '20px' }} >\n                    {this.props.aid ? null :\n                        <>\n                            <p> Which action is this testimonial about? </p>\n                            <select className=\"w-100\" value={this.state.aid} onChange={event => this.setState({ aid: event.target.value })}>\n                                <option value={'--'}>--</option>\n                                {this.renderOptions(this.props.actions)}\n                            </select>\n                            <br />\n                        </>\n                    }\n                    {this.props.vid ? null :\n                        <>\n                            <p> Who helped you complete this action? </p>\n                            <select className=\"w-100\" value={this.state.vid} onChange={event => this.setState({ vid: event.target.value })}>\n                                <option value={'--'}>Did it myself!</option>\n                                {this.renderOptions(this.props.vendors)}\n                                <option value={'other'}>Other</option>\n                            </select> &nbsp; &nbsp; &nbsp;\n                            {this.state.vid === 'other' ?\n                                <div className=\"field-label\" style={{ display: 'inline-block' }}>\n                                    <input type=\"text\" name=\"vendor\" value={this.state.vendor} onChange={this.onChange} autoFocus={true} required />\n                                </div> : <br />\n                            }\n                        </>\n                    }\n                    <div className=\"field-label\">\n                        <p>Story Title*</p>\n                        <input type=\"text\" name=\"title\" value={this.state.title} onChange={this.onChange} required />\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <div className=\"field-label\">\n                                <p style={{ display: 'inline-block', float: 'left' }}>Your Story*</p>\n                                <p\n                                    className={this.state.body.length > this.state.limit ? \"text-danger\" : null}\n                                    style={{ display: 'inline-block', float: 'right' }}\n                                >\n                                    {this.state.body.length + ' / ' + this.state.limit + 'chars'}\n                                </p>\n                                <textarea name=\"body\" value={this.state.body} onChange={this.onChange} style={{ width: '100%' }} required>\n\n                                </textarea>\n\n                            </div>\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <button className=\"thm-btn bg-cl-1\" type=\"submit\">Submit Now</button>\n                        </div>\n                    </div>\n                    {this.state.error ? <p className='text-danger'>{this.state.error}</p> : null}\n\n                </form>\n            </div>\n        );\n    }\n    count = (words) => {\n        // return words.split(' ').length //word count\n        return words.length; //char count\n    }\n    //updates the state when form elements are changed\n    onChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: null\n        });\n    };\n    renderOptions(choices) {\n        return Object.keys(choices).map(key => {\n            var choice = choices[key];\n            return <option value={choice.id}> {choice.title ? choice.title : choice.name} </option>\n        })\n    }\n    onSubmit(event) {\n        console.log(this.state);\n        event.preventDefault();\n        /** Collects the form data and sends it to the backend */\n        const body = {\n            \"user\": this.props.user.id,\n            \"vendor\": this.state.vid !== '--' && this.state.vid !== 'other' ? this.state.vid : null,\n            \"action\": this.props.aid ? this.props.aid : this.state.aid,\n            \"rank\": 0,\n            \"body\": this.state.body,\n            \"title\": this.state.title,\n            \"community\": this.props.community.id\n        }\n        if (!this.props.aid && (!this.state.aid || this.state.aid === '--')) {\n            this.setState({ error: \"Please choose which action you are writing a testimonial about\" })\n        } else if (this.count(this.state.body) > this.state.limit) {\n            this.setState({ error: \"Sorry, your story is too long\" })\n        } else {\n            postJson(URLS.TESTIMONIALS, body).then(json => {\n                console.log(json);\n                if (json.success) {\n                    this.setState({\n                        ...INITIAL_STATE,\n                        message: \"Thank you for submitting your story! Our community admins will review it and post it soon.\"\n                    })\n                    if(this.props.closeForm) this.props.closeForm('Thank you for submitting your testimonial. Your community admins will review it and post it soon.');\n                } else {\n                    this.setState({\n                        ...INITIAL_STATE,\n                        error: \"There was an error submitting your testimonial\"\n                    })\n                    if(this.props.closeForm) this.props.closeForm('There was an error submitting your testimonial. We are sorry.');\n                }\n                console.log(this.state);\n            })\n        }\n    }\n}\n\nconst mapStoreToProps = (store) => {\n    return {\n        user: store.user.info,\n        actions: store.page.actions,\n        vendors: store.page.serviceProviders,\n        community: store.page.community\n    }\n}\n//composes the login form by using higher order components to make it have routing and firebase capabilities\nexport default connect(mapStoreToProps)(StoryForm);\n\n\n","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport Tooltip from '../../Shared/Tooltip'\nimport ChooseHHForm from './ChooseHHForm'\nimport StoryForm from './StoryForm'\nimport { connect } from 'react-redux'\n\n/**\n * Action Component is a single action for the action page, \n * the action displays conditionally based on the filters on the page\n * @props : \n    \"id\": the actions unique id\n    \"title\": the title of the action\n    \"description\": a long description to be shown on more info page\n    \"image\": action's image\n    \"impact\": level of impact (high medium low)\n    \"categories\": categories of the action (Home Energy, Clean Transportation...)\n    \"difficulty\": difficulty (high medium low)\n    \"tags\": actions' tags (sustainable, heat ...)\n    \"match\": match is passed from Route\n */\n\nclass Action extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstatus: null,\n\t\t\tshowTestimonialForm: false,\n\t\t\tmessage: null,\n\t\t}\n\t}\n\tgotoAction(){\n\t\twindow.location = `${this.props.links.actions + \"/\" + this.props.action.id}`;\n\n\t}\n\trender() {\n\t\tif (!this.props.HHFormOpen && this.state.status) this.setState({ status: null });\n\t\tif (this.shouldRender()) { //checks if the action should render or not\n\t\t\treturn (\n\t\t\t\t<div className=\"col-lg-6 col-md-12 col-sm-12 col-12\" >\n\t\t\t\t\t<div className=\"single-shop-item m-action-item\">\n\t\t\t\t\t\t<div className=\"img-box\" onClick ={()=>{this.gotoAction()}}> { /* plug in the image here */}\n\t\t\t\t\t\t\t<Link to={this.props.links.actions + \"/\" + this.props.action.id} >\n\t\t\t\t\t\t\t\t< img src={this.props.action.image ? this.props.action.image.url : null} alt=\"\" />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t{ /* animated section on top of the image */}\n\t\t\t\t\t\t\t<figcaption className=\"overlay\" >\n\t\t\t\t\t\t\t\t<div className=\"box\" >\n\t\t\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t\t\t\t{ /* link is thisurl/id (links to the OneActionPage) */}\n\t\t\t\t\t\t\t\t\t\t<Link to={this.props.links.actions + \"/\" + this.props.action.id} >\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-link\" aria-hidden=\"true\" ></i>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"content-box\" >\n\t\t\t\t\t\t\t<div className=\"inner-box\" onClick ={()=>{this.gotoAction()}} >\n\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t<Link className=\"cool-font\" to={this.props.links.actions + \"/\" + this.props.action.id}> {this.props.action.title} </Link>\n\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{ /* Impact and Difficulty tags*/}\n\t\t\t\t\t\t\t<div className=\"price-box2\" onClick ={()=>{this.gotoAction()}} >\n\t\t\t\t\t\t\t\t<div className=\"clearfix\" >\n\t\t\t\t\t\t\t\t\t<div className=\"float_right\" >\n\t\t\t\t\t\t\t\t\t\tDifficulty<span> {this.renderTagBar(this.getTag(\"difficulty\"))} </span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"float_left\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip text=\"Shows the level of impact this action makes relative to the other actions.\" dir=\"top\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"has-tooltip\">Impact</span>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t<span>{this.renderTagBar(this.getTag(\"impact\"))}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{ /* buttons for adding todo, marking as complete and getting more info */}\n\t\t\t\t\t\t\t<div className=\"price-box3\" style={{paddingTop:18}}>\n\t\t\t\t\t\t\t\t<div className=\"row no-gutter\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-4 col-md-4 col-lg-4 col-4\" >\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-centered\" >\n\t\t\t\t\t\t\t\t\t\t\t<Link to={this.props.links.actions + \"/\" + this.props.action.id} className=\"thm-btn style-4 action-btns cool-font\" > More Info</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-4 col-sm-4 col-lg-4 col-4\" >\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-centered\" >\n\t\t\t\t\t\t\t\t\t\t\t{!this.props.user ?\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip text='Sign in to make a TODO list'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='has-tooltip thm-btn style-4 disabled'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdd Todo\n                                                    </p>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={this.state.status === \"TODO\" ? \"thm-btn style-4 selected cool-font action-btns\" : \"thm-btn style-4 cool-font action-btns\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.openForm(\"TODO\")}\n\t\t\t\t\t\t\t\t\t\t\t\t> Add Todo </button>\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-4 col-sm-4 col-lg-4 col-4\" >\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-centered\">\n\t\t\t\t\t\t\t\t\t\t\t{!this.props.user ?\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip text='Sign in to mark actions as completed'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='has-tooltip thm-btn style-4 disabled'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDone It\n                                                    </p>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={this.state.status === \"DONE\" ? \"thm-btn style-4 selected cool-font action-btns\" : \"thm-btn style-4 cool-font action-btns\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.openForm(\"DONE\")}\n\t\t\t\t\t\t\t\t\t\t\t\t> Done It </button>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-centered\">\n\t\t\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t\t\t{this.props.showTestimonialLink ?\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.showTestimonialForm ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className='as-link' onClick={() => this.setState({ showTestimonialForm: false })} style={{ margin: 'auto' }}> Cancel</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StoryForm aid={this.props.action.id} noMessage={true} closeForm={(message) => this.setState({ message: message, showTestimonialForm: false })}></StoryForm>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.message ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{this.state.message}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Nice job! How was your experience with this action? Tell us about it in a <button className='as-link' style={{ display: 'inline-block' }} onClick={() => this.setState({ showTestimonialForm: true })}>testimonial</button>.</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</> : null\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t<ChooseHHForm\n\t\t\t\t\t\t\t\t\t\t\t\taid={this.props.action.id}\n\t\t\t\t\t\t\t\t\t\t\t\tstatus={this.state.status}\n\n\t\t\t\t\t\t\t\t\t\t\t\topen={this.props.HHFormOpen}\n\t\t\t\t\t\t\t\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\t\t\t\t\t\t\t\taddToCart={(aid, hid, status) => this.props.addToCart(aid, hid, status)}\n\t\t\t\t\t\t\t\t\t\t\t\tinCart={(aid, hid, cart) => this.props.inCart(aid, hid, cart)}\n\t\t\t\t\t\t\t\t\t\t\t\tmoveToDone={(aid, hid) => this.props.moveToDone(aid, hid)}\n\t\t\t\t\t\t\t\t\t\t\t\tcloseForm={this.closeForm}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\topenForm = (status) => {\n\t\tthis.setState({\n\t\t\tstatus: status\n\t\t})\n\t\tthis.props.openHHForm(this.props.action.id)\n\t}\n\tcloseForm = () => {\n\t\tthis.setState({\n\t\t\tstatus: null\n\t\t})\n\t\tthis.props.closeHHForm();\n\t}\n\t//checks the filters to see if the action should render or not\n\tshouldRender() {\n\t\t//if the search does not fit return false\n\t\t//search fits if the exact string(lowercase) is in the title or description of an action\n\t\t//can make more advanced search later\n\t\tif (!(this.searchFits(this.props.action.title) || this.searchFits(this.props.action.description)))\n\t\t\treturn false;\n\n\t\tvar tagSet = new Set(); //create a set of the action's tag ids\n\t\tthis.props.action.tags.forEach(tag => {\n\t\t\ttagSet.add(tag.id);\n\t\t});\n\n\t\tfor (var i in this.props.tagCols) {\n\t\t\tvar tagCol = this.props.tagCols[i]; //if any filter does not fit, return false\n\t\t\tif (!this.filterFits(tagCol.tags, tagSet)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true; //if they all fit return true\n\t}\n\t//checks if the value of the search bar is in the title of the action\n\tsearchFits(string) {\n\t\tvar searchbar = document.getElementById('action-searchbar');\n\t\tif (!searchbar || searchbar.value === '') //if cant find the search bar just render everything\n\t\t\treturn true;\n\t\tif (!string)\n\t\t\treturn false;\n\t\tif (string.toLowerCase().includes(searchbar.value.toLowerCase())) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\t//checks if any of the options are checked off in the filter\n\t//takes in the the filter and the actions' options for that filter\n\tfilterFits(filtertags, tagSet) {\n\t\tvar noFilter = true; //go through the filters and check if any of them fit or if none are checked\n\t\tfor (var i in filtertags) {\n\t\t\tvar checkbox = document.getElementById(\"filtertag\" + filtertags[i].id);\n\t\t\tif (checkbox && checkbox.checked) {\n\t\t\t\tnoFilter = false;\n\t\t\t\tif (tagSet.has(filtertags[i].id))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn noFilter;\n\t}\n\n\tgetTag(collection) {\n\t\tconst tags = this.props.action.tags.filter(tag => {\n\n\t\t\treturn tag.tag_collection && tag.tag_collection.name && tag.tag_collection.name.toLowerCase() === collection.toLowerCase();\n\t\t});\n\t\treturn tags && tags.length > 0 ? tags[0] : null\n\t}\n\n\trenderTagBar(tag) {\n\t\tif (tag) {\n\t\t\tif (tag.name.toLowerCase() === \"low\" || tag.name.toLowerCase() === \"easy\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"tag-bar one\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (tag.name.toLowerCase() === \"medium\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"tag-bar one\" />\n\t\t\t\t\t\t<div className=\"tag-bar two\" />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (tag.name.toLowerCase() === \"high\" || tag.name.toLowerCase() === \"hard\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"tag-bar one\" > </div>\n\t\t\t\t\t\t<div className=\"tag-bar two\" > </div>\n\t\t\t\t\t\t<div className=\"tag-bar three\" > </div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn ({\n\t\tlinks: store.links\n\t});\n}\nexport default connect(mapStoreToProps)(Action);","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Tooltip from '../Shared/Tooltip'\nimport { connect } from 'react-redux'\nimport { reduxMoveToDone, reduxRemoveFromTodo, reduxRemoveFromDone } from '../../redux/actions/userActions'\nimport { reduxChangeData, reduxTeamAddAction, reduxTeamRemoveAction } from '../../redux/actions/pageActions'\nimport URLS from '../../api/urls'\nimport { postJson, deleteJson } from '../../api/functions'\n\n/**\n * Cart component\n * renders a list of actions\n * @props title\n *      action list: title, image, id\n * \n */\nclass Cart extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t// <!--Cart Outer-->\n\t\t\t<div className=\"cart-outer mb-5\">\n\t\t\t\t<h3 className=\"center m-0 cool-font m-cart-header\">{this.props.title}</h3>\n\t\t\t\t<div className=\"table-outer\">\n\t\t\t\t\t<table className=\"cart-table\" style={{ width: '100%' }}>\n\t\t\t\t\t\t{this.props.info ?\n\t\t\t\t\t\t\t<thead className='cart-header'>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>Household</th>\n\t\t\t\t\t\t\t\t\t<th>Action</th>\n\t\t\t\t\t\t\t\t\t<th>Contact</th>\n\t\t\t\t\t\t\t\t\t<th>Phone</th>\n\t\t\t\t\t\t\t\t\t<th>Email</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{this.props.info ? this.renderActionsMoreInfo(this.props.actionRels) : this.renderActions(this.props.actionRels)}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\trenderActions(actionRelations) {\n\t\tif (!actionRelations || actionRelations.length <= 0) {\n\t\t\treturn (\n\t\t\t\t<tr key=\"1\"><td colSpan=\"100%\"><p className=\"m-0 p-2 w-100 text-center cool-font\">Nothing here, yet! See all <Link to={this.props.links.actions}> actions </Link></p></td></tr>\n\t\t\t);\n\t\t}\n\t\t//returns a list of action components\n\t\treturn Object.keys(actionRelations).map(key => {\n\t\t\tvar actionRel = actionRelations[key];\n\t\t\tvar action = actionRel.action;\n\t\t\treturn (\n\t\t\t\t<tr key={key}>\n\t\t\t\t\t{/* <td colSpan=\"2\" className=\"prod-column\">\n                        <img className=\"thumbnail\" src={action.image? action.image.url : null} alt=\"\" />\n                    </td> */}\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<Tooltip title='Household' text={actionRel.real_estate_unit.name}>\n\t\t\t\t\t\t\t<div className=\"column-box\">\n\t\t\t\t\t\t\t\t<span className='has-tooltip fa fa-home' style={{ textAlign: 'center', fontSize: '18px' }}></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"prod-column\">\n\t\t\t\t\t\t<div className=\"column-box\">\n\t\t\t\t\t\t\t<Link to={`${this.props.links.actions}/${action.id}`}>\n\t\t\t\t\t\t\t\t<h4 className=\"prod-title padd-top-20\">{action.title}</h4>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"prod-column\">\n\t\t\t\t\t\t{actionRel.status.toLowerCase() === \"todo\" ?\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Tooltip text='Move to Done'>\n\t\t\t\t\t\t\t\t\t<button onClick={() => this.moveToDone(actionRel)} className=\"done-btn has-tooltip\"> <i className=\"fa fa-check\"></i> </button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t<Tooltip text='Remove from Todo'>\n\t\t\t\t\t\t\t\t\t<button className=\"remove-btn has-tooltip\" onClick={() => this.removeFromCart(actionRel)}> <i className=\"fa fa-trash\"></i> </button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Tooltip text=\"Oops. This action was added to done by mistake. Remove from our community's impact\">\n\t\t\t\t\t\t\t\t<button className=\"remove-btn has-tooltip\" onClick={() => this.removeFromCart(actionRel)}> <i className=\"fa fa-undo\"></i> </button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\n\t\t\t\t</tr>\n\t\t\t);\n\t\t});\n\t}\n\n\trenderActionsMoreInfo(actionRelations) {\n\t\tif (!actionRelations || actionRelations.length <= 0) {\n\t\t\treturn (\n\t\t\t\t<tr key=\"1\"><td colSpan=\"100%\"><p className=\"m-0 p-2 w-100 text-center cool-font\">Nothing here, yet! See all <Link to={this.props.links.actions}> actions </Link></p></td></tr>\n\t\t\t);\n\t\t}\n\t\t//returns a list of action components\n\t\treturn Object.keys(actionRelations).map(key => {\n\t\t\tvar actionRel = actionRelations[key];\n\t\t\tvar action = actionRel.action;\n\t\t\treturn (\n\t\t\t\t<tr key={key}>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div className=\"column-box\">\n\t\t\t\t\t\t\t<p>{actionRel.real_estate_unit.name}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"prod-column\">\n\t\t\t\t\t\t<div className=\"column-box\">\n\t\t\t\t\t\t\t<h4>{action.title}</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"prod-column\">\n\t\t\t\t\t\t<div className=\"column-box\">\n\t\t\t\t\t\t\t{action.vendors ?\n\t\t\t\t\t\t\t\tObject.keys(action.vendors).map(key => {\n\t\t\t\t\t\t\t\t\treturn (<p> {action.vendors[key].name} </p>)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t: 'MassEnergize'}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"prod-column\">\n\t\t\t\t\t\t<div className=\"column-box\">\n\t\t\t\t\t\t\t{action.vendors ?\n\t\t\t\t\t\t\t\tObject.keys(action.vendors).map(key => {\n\t\t\t\t\t\t\t\t\treturn (<p> {<p> {action.vendors[key].key_contact ? action.vendors[key].key_contact.phone : null} </p>} </p>)\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t: '123-456-7890'}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"prod-column\">\n\t\t\t\t\t\t<div className=\"column-box\">\n\t\t\t\t\t\t\t{action.vendors ?\n\t\t\t\t\t\t\t\tObject.keys(action.vendors).map(key => {\n\t\t\t\t\t\t\t\t\treturn (<p> {<p> {action.vendors[key].key_contact ? action.vendors[key].key_contact.email : null} </p>} </p>)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t: 'info@massenergize.org'}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Cart Functions\n\t */\n\tmoveToDone = (actionRel) => {\n\t\tconst body = {\n\t\t\tstatus: \"DONE\",\n\t\t\taction: actionRel.action.id,\n\t\t\treal_estate_unit: actionRel.real_estate_unit.id,\n\t\t}\n\t\tpostJson(URLS.USER + \"/\" + this.props.user.id + \"/action/\" + actionRel.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tthis.props.reduxMoveToDone(json.data);\n\t\t\t\tthis.addToImpact(actionRel.action);\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\n\tremoveFromCart = (actionRel) => {\n\t\tconst status = actionRel.status;\n\t\tdeleteJson(`${URLS.USER}/${this.props.user.id}/action/${actionRel.id}`).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tif (status === 'TODO')\n\t\t\t\t\tthis.props.reduxRemoveFromTodo(actionRel);\n\t\t\t\tif (status === 'DONE') {\n\t\t\t\t\tthis.props.reduxRemoveFromDone(actionRel);\n\t\t\t\t\tthis.removeFromImpact(actionRel.action);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tremoveFromImpact = (action) => {\n\t\tthis.changeDataByName(\"ActionsCompletedData\", -1)\n\t\taction.tags.forEach(tag => {\n\t\t\tif (tag.tag_collection && tag.tag_collection.name === \"Category\") {\n\t\t\t\tthis.changeData(tag.id, -1);\n\t\t\t}\n\t\t});\n\t\tObject.keys(this.props.user.teams).forEach(key => {\n\t\t\tthis.props.reduxTeamRemoveAction(this.props.user.teams[key]);\n\t\t})\n\t}\n\taddToImpact(action) {\n\t\tthis.changeDataByName(\"ActionsCompletedData\", 1)\n\t\taction.tags.forEach(tag => {\n\t\t\tif (tag.tag_collection && tag.tag_collection.name === \"Category\") {\n\t\t\t\tthis.changeData(tag.id, 1);\n\t\t\t}\n\t\t});\n\t\tObject.keys(this.props.user.teams).forEach(key => {\n\t\t\tthis.props.reduxTeamAddAction(this.props.user.teams[key]);\n\t\t})\n\t}\n\tchangeDataByName(name, number) {\n\t\tvar data = this.props.communityData.filter(data => {\n\t\t\treturn data.name === name\n\t\t})[0];\n\n\t\tconst body = {\n\t\t\t\"value\": data.value + number > 0 ? data.value + number : 0\n\t\t}\n\t\tpostJson(URLS.DATA + '/' + data.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tdata = {\n\t\t\t\t\t...data,\n\t\t\t\t\tvalue: data.value + number > 0 ? data.value + number : 0\n\t\t\t\t}\n\t\t\t\tthis.props.reduxChangeData(data);\n\t\t\t}\n\t\t})\n\t}\n\tchangeData = (tagid, number) => {\n\t\tvar data = this.props.communityData.filter(data => {\n\t\t\tif (data.tag) {\n\t\t\t\tconsole.log(data.tag);\n\t\t\t\treturn data.tag === tagid;\n\t\t\t}\n\t\t\treturn false;\n\t\t})[0];\n\t\tif (!data) {\n\t\t\tconsole.log(\"no data stored for tag \" + tagid);\n\t\t\treturn;\n\t\t}\n\t\tconst body = {\n\t\t\t\"value\": data.value + number > 0 ? data.value + number : 0\n\t\t}\n\t\tpostJson(URLS.DATA + '/' + data.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tdata = {\n\t\t\t\t\t...data,\n\t\t\t\t\tvalue: data.value + number > 0 ? data.value + number : 0\n\t\t\t\t}\n\t\t\t\tthis.props.reduxChangeData(data);\n\t\t\t}\n\t\t})\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tuser: store.user.info,\n\t\ttodo: store.user.todo,\n\t\tdone: store.user.done,\n\t\tcommunityData: store.page.communityData,\n\t\tlinks: store.links\n\t}\n}\n\nconst mapDispatchToProps = {\n\treduxMoveToDone, reduxRemoveFromTodo, reduxRemoveFromDone, reduxChangeData, reduxTeamAddAction, reduxTeamRemoveAction\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(Cart);","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport URLS from '../../../api/urls';\nimport { getJson, postJson } from '../../../api/functions'\nimport { reduxAddToDone, reduxAddToTodo, reduxMoveToDone } from '../../../redux/actions/userActions'\nimport { reduxChangeData, reduxTeamAddAction } from '../../../redux/actions/pageActions'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar';\nimport SideBar from '../../Menu/SideBar';\nimport Action from './Action';\nimport Cart from '../../Shared/Cart';\n\n\n\n/**\n * The Actions Page renders all the actions and a sidebar with action filters\n * @props none - fetch data from api instead of getting data passed to you from props\n * \n * @todo change the columns for small sizes change button colors bars underneath difficulty and ease instead of \"easy, medium, hard\"\n */\nclass ActionsPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloaded: false,\n\t\t\topenAddForm: null,\n\t\t\ttestimonialLink: null,\n\t\t}\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BreadCrumbBar links={[{ name: 'All Actions' }]} />\n\t\t\t\t<div className=\"boxed_wrapper\" style={{marginTop:90}}>\n\t\t\t\t\t{/* main shop section */}\n\t\t\t\t\t<div className=\"shop sec-padd\">\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t{/* renders the sidebar */}\n\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-5 col-sm-12 col-xs-12 sidebar_styleTwo\">\n\t\t\t\t\t\t\t\t\t<SideBar\n\t\t\t\t\t\t\t\t\t\ttagCols={this.props.tagCols}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange} //runs when any category is selected or unselected\n\t\t\t\t\t\t\t\t\t></SideBar>\n\t\t\t\t\t\t\t\t\t{this.props.user ?\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{this.props.todo ?\n\t\t\t\t\t\t\t\t\t\t\t\t<Cart title=\"To Do List\" actionRels={this.props.todo} status=\"TODO\" /> : null}\n\t\t\t\t\t\t\t\t\t\t\t{this.props.done ?\n\t\t\t\t\t\t\t\t\t\t\t\t<Cart title=\"Completed Actions\" actionRels={this.props.done} status=\"DONE\" /> : null}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`${this.props.links.signin}`}> Sign In </Link> to add actions to your todo list or to mark them as complete\n                                        </p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/* renders the actions */}\n\t\t\t\t\t\t\t\t<div className=\"col-lg-8 col-md-7 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<div className=\"row\" id=\"actions-container\">\n\t\t\t\t\t\t\t\t\t\t{this.renderActions(this.props.actions)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\t// on change in any category or tag checkbox update the actionsPage\n\thandleChange() {\n\t\tthis.forceUpdate();\n\t}\n\t// renders all the actions\n\trenderActions(actions) { \n\t\tif (!actions || actions.length === 0) {\n\t\t\treturn <p>There are not any actions available in this community yet, come back later.</p>;\n\t\t}\n\t\t//returns a list of action components\n\t\treturn Object.keys(actions).map(key => {\n\t\t\tvar action = actions[key];\n\t\t\treturn <Action key={key}\n\t\t\t\taction={action}\n\n\t\t\t\ttagCols={this.props.tagCols}\n\t\t\t\tmatch={this.props.match} //passed from the Route, need to forward to the action for url matching\n\t\t\t\tuser={this.props.user}\n\n\t\t\t\taddToCart={(aid, hid, status) => this.addToCart(aid, hid, status)}\n\t\t\t\tinCart={(aid, hid, cart) => this.inCart(aid, hid, cart)}\n\t\t\t\tmoveToDone={(aid, hid) => this.moveToDoneByActionId(aid, hid)}\n\n\t\t\t\tHHFormOpen={this.state.openAddForm === action.id}\n\t\t\t\tshowTestimonialLink={this.state.testimonialLink === action.id}\n\t\t\t\tcloseHHForm={() => this.setState({ openAddForm: null })}\n\t\t\t\topenHHForm={(aid) => this.setState({ openAddForm: aid })}\n\t\t\t/>\n\t\t});\n\t}\n\n\t/**\n\t * These are the cart functions\n\t */\n\tinCart = (aid, hid, cart) => {\n\t\tif (!this.props.todo) return false;\n\t\tconst checkTodo = this.props.todo.filter(actionRel => { return Number(actionRel.action.id) === Number(aid) && Number(actionRel.real_estate_unit.id) === Number(hid) });\n\t\tif (cart === \"TODO\") { return checkTodo.length > 0; }\n\n\t\tif (!this.props.done) return false;\n\t\tconst checkDone = this.props.done.filter(actionRel => { return Number(actionRel.action.id) === Number(aid) && Number(actionRel.real_estate_unit.id) === Number(hid) });\n\t\tif (cart === \"DONE\") return checkDone.length > 0;\n\n\t\treturn checkTodo.length > 0 || checkDone.length > 0;\n\t}\n\tmoveToDone = (actionRel) => {\n\t\tconst body = {\n\t\t\tstatus: \"DONE\",\n\t\t\taction: actionRel.action.id,\n\t\t\treal_estate_unit: actionRel.real_estate_unit.id,\n\t\t}\n\t\tpostJson(URLS.USER + '/' + this.props.user.id + '/action/' + actionRel.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tthis.props.reduxMoveToDone(json.data);\n\t\t\t\tthis.addToImpact(json.data.action);\n\t\t\t\tthis.setState({ testimonialLink: actionRel.action.id })\n\t\t\t}\n\t\t\t//just update the state here\n\t\t}).catch(err => {\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\tmoveToDoneByActionId(aid, hid) {\n\t\tconsole.log(aid + \" \" + hid)\n\t\tconst actionRel = this.props.todo.filter(actionRel => {\n\t\t\treturn Number(actionRel.action.id) === Number(aid) && Number(actionRel.real_estate_unit.id) === Number(hid)\n\t\t})[0];\n\t\tconsole.log(actionRel);\n\t\tif (actionRel)\n\t\t\tthis.moveToDone(actionRel);\n\n\t}\n\taddToCart = (aid, hid, status) => {\n\t\tconst body = {\n\t\t\taction: aid,\n\t\t\tstatus: status,\n\t\t\treal_estate_unit: hid\n\t\t}\n\t\tthis.setState({ testimonialLink: null });\n\t\tconsole.log(this.props.user.id)\n\t\tpostJson(URLS.USER + \"/\" + this.props.user.id + \"/actions\", body).then(json => {\n\t\t\tconsole.log(json)\n\t\t\tif (json.success) {\n\t\t\t\t//set the state here\n\t\t\t\tif (status === \"TODO\") {\n\t\t\t\t\tthis.props.reduxAddToTodo(json.data);\n\t\t\t\t}\n\t\t\t\telse if (status === \"DONE\") {\n\t\t\t\t\tthis.props.reduxAddToDone(json.data);\n\t\t\t\t\tthis.addToImpact(json.data.action);\n\t\t\t\t\tthis.setState({ testimonialLink: aid });\n\t\t\t\t}\n\t\t\t}\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\taddToImpact(action) {\n\t\tthis.changeDataByName(\"ActionsCompletedData\", 1)\n\t\taction.tags.forEach(tag => {\n\t\t\tif (tag.tag_collection && tag.tag_collection.name === \"Category\") {\n\t\t\t\tthis.changeData(tag.id, 1);\n\t\t\t}\n\t\t});\n\t\tObject.keys(this.props.user.teams).forEach(key => {\n\t\t\tthis.props.reduxTeamAddAction(this.props.user.teams[key]);\n\t\t})\n\t}\n\tchangeDataByName(name, number) {\n\t\tvar data = this.props.communityData.filter(data => {\n\t\t\treturn data.name === name\n\t\t})[0];\n\n\t\tconst body = {\n\t\t\t\"value\": data.value + number > 0 ? data.value + number : 0\n\t\t}\n\t\tpostJson(URLS.DATA + '/' + data.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tdata = {\n\t\t\t\t\t...data,\n\t\t\t\t\tvalue: data.value + number > 0 ? data.value + number : 0\n\t\t\t\t}\n\t\t\t\tthis.props.reduxChangeData(data);\n\t\t\t}\n\t\t})\n\t}\n\tchangeData(tagid, number) {\n\t\tvar data = this.props.communityData.filter(data => {\n\t\t\tif (data.tag) {\n\t\t\t\tconsole.log(data.tag);\n\t\t\t\treturn data.tag === tagid;\n\t\t\t}\n\t\t\treturn false;\n\t\t})[0];\n\t\tif (!data) {\n\t\t\tconsole.log(\"no data stored for tag \" + tagid);\n\t\t\treturn;\n\t\t}\n\t\tconst body = {\n\t\t\t\"value\": data.value + number > 0 ? data.value + number : 0\n\t\t}\n\t\tpostJson(URLS.DATA + '/' + data.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tdata = {\n\t\t\t\t\t...data,\n\t\t\t\t\tvalue: data.value + number > 0 ? data.value + number : 0\n\t\t\t\t}\n\t\t\t\tthis.props.reduxChangeData(data);\n\t\t\t}\n\t\t})\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tauth: store.firebase.auth,\n\t\tuser: store.user.info,\n\t\ttodo: store.user.todo,\n\t\tdone: store.user.done,\n\t\tactions: store.page.actions,\n\t\ttagCols: store.page.tagCols,\n\t\tpageData: store.page.actionsPage,\n\t\tcommunityData: store.page.communityData,\n\t\tlinks: store.links\n\t}\n}\n\nconst mapDispatchToProps = {\n\treduxAddToDone,\n\treduxAddToTodo,\n\treduxMoveToDone,\n\treduxChangeData,\n\treduxTeamAddAction\n}\nexport default connect(mapStoreToProps, mapDispatchToProps)(ActionsPage);\n","import React from 'react'\nimport URLS from '../../../api/urls';\nimport { postJson } from '../../../api/functions'\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport Cart from '../../Shared/Cart';\nimport StoryForm from './StoryForm';\nimport ChooseHHForm from './ChooseHHForm';\nimport { reduxAddToDone, reduxAddToTodo, reduxMoveToDone } from '../../../redux/actions/userActions'\nimport { reduxChangeData, reduxTeamAddAction } from '../../../redux/actions/pageActions'\nimport Tooltip from '../../Shared/Tooltip'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\n\n\n/**\n * This page displays a single action and the cart of actions that have been added to todo and have been completed\n * @props : match.params.id: the id of the action from the url params match is from Route\n */\nclass OneActionPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstatus: null,\n\t\t\tlimit: 140,\n\t\t\texpanded: null,\n\t\t\tshowTestimonialLink: false,\n\t\t\tnumberToShow: 3,\n\t\t\ttab: 'description'\n\t\t}\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\twindow.addEventListener(\"resize\", this.chooseFontSize);\n\t}\n\n\trender() {\n\t\tif (!this.props.actions) {\n\t\t\treturn <LoadingCircle />;\n\t\t}\n\t\tconst action = this.props.actions.filter(action => {\n\t\t\treturn action.id === Number(this.props.match.params.id)\n\t\t})[0]\n\t\tthis.chooseFontSize();\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BreadCrumbBar links={[{ link: this.props.links.actions, name: 'All Actions' }, { name: `Action ${action.id}` }]} />\n\t\t\t\t<div className=\"boxed_wrapper\">\n\t\t\t\t\t<section className=\"shop-single-area\">\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<div className=\"row\" style={{ paddingRight: \"0px\", marginRight: \"0px\" }}>\n\t\t\t\t\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t\t\t\t\t<div className=\"single-products-details\">\n\t\t\t\t\t\t\t\t\t\t{this.renderAction(action)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/* makes the todo and completed actions carts */}\n\t\t\t\t\t\t\t\t{this.props.user ?\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-4\" style={{ paddingRight: \"0px\", marginRight: \"0px\" }}>\n\t\t\t\t\t\t\t\t\t\t<Cart title=\"To Do List\" actionRels={this.props.todo} status=\"TODO\" moveToDone={this.moveToDone} />\n\t\t\t\t\t\t\t\t\t\t<Cart title=\"Completed Actions\" actionRels={this.props.done} status=\"DONE\" moveToDone={this.moveToDone} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-4\" style={{ paddingRight: \"0px\", marginRight: \"0px\" }}>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t<Link to={this.props.links.signin}> Sign In </Link> to add actions to your todo list or to mark them as complete\n                                    </p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\t/**\n\t * renders the action on the page\n\t */\n\trenderAction(action) {\n\t\tif (!this.props.stories) {\n\t\t\treturn <LoadingCircle />\n\t\t}\n\t\tconst stories = this.props.stories.filter(story => {\n\t\t\treturn story.action.id === Number(this.props.match.params.id)\n\t\t})\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"product-content-box\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-lg-6 col-md-12\">\n\t\t\t\t\t\t\t{/* title */}\n\t\t\t\t\t\t\t<div className=\"content-box\">\n\t\t\t\t\t\t\t\t<h2 className=\"cool-font\" style={{ padding: \"20px 0px 0px 0px\" }}>{action.title}</h2>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{/* displays the action's info: impact, difficulty, tags and categories*/}\n\t\t\t\t\t\t\t<div className=\"clearfix\" style={{ marginLeft: \"40px\" }}>\n\t\t\t\t\t\t\t\t{/* <p className=\"action-tags\" style={{ fontSize: \"20px\" }}> Tags: <br />\n\t\t\t\t\t\t\t\t\t{this.renderTags(action.tags)}\n\t\t\t\t\t\t\t\t</p> */}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t{!this.props.user ?\n\t\t\t\t\t\t\t\t\t<Tooltip text='Sign in to make a TODO list'>\n\t\t\t\t\t\t\t\t\t\t<p className='has-tooltip thm-btn style-4 disabled '>\n\t\t\t\t\t\t\t\t\t\t\tAdd Todo\n                                                    </p>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={this.state.status === \"TODO\" ? \"thm-btn action-btns cool-font style-4 selected\" : \"thm-btn style-4 action-btns cool-font\"}\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.openForm(\"TODO\")}\n\t\t\t\t\t\t\t\t\t> Add Todo </button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t&nbsp;\n                                {!this.props.user ?\n\t\t\t\t\t\t\t\t\t<Tooltip text='Sign in to mark actions as completed'>\n\t\t\t\t\t\t\t\t\t\t<p className='has-tooltip thm-btn style-4 disabled'>\n\t\t\t\t\t\t\t\t\t\t\tDone It\n                                                    </p>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={this.state.status === \"DONE\" ? \"thm-btn style-4 selected action-btns cool-font \" : \"thm-btn style-4 action-btns  cool-font\"}\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.openForm(\"DONE\")}\n\t\t\t\t\t\t\t\t\t> Done It </button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{this.state.status ?\n\t\t\t\t\t\t\t\t\t<div style={{ paddingTop: '20px' }}>\n\t\t\t\t\t\t\t\t\t\t<ChooseHHForm\n\t\t\t\t\t\t\t\t\t\t\taid={action.id}\n\t\t\t\t\t\t\t\t\t\t\tstatus={this.state.status}\n\n\t\t\t\t\t\t\t\t\t\t\topen={this.state.status ? true : false}\n\t\t\t\t\t\t\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\t\t\t\t\t\t\taddToCart={(aid, hid, status) => this.addToCart(aid, hid, status)}\n\t\t\t\t\t\t\t\t\t\t\tinCart={(aid, hid, cart) => this.inCart(aid, hid, cart)}\n\t\t\t\t\t\t\t\t\t\t\tmoveToDone={(aid, hid) => this.moveToDoneByActionId(aid, hid)}\n\t\t\t\t\t\t\t\t\t\t\tcloseForm={this.closeForm}\n\t\t\t\t\t\t\t\t\t\t/> </div>\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{this.state.showTestimonialLink ?\n\t\t\t\t\t\t\t\t\t<p>Nice job! How was your experience with this action? Tell us about it in a <a href='#testimonials-form' className='as-link' style={{ display: 'inline-block' }} onClick={() => this.setState({ tab: 'testimonials' })}>testimonial</a>.</p>\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* action image */}\n\t\t\t\t\t\t<div className=\"col-lg-6 col-md-12\"><div className=\"img-box\">\n\t\t\t\t\t\t\t<img src={action.image ? action.image.url : null} alt=\"\" data-imagezoom=\"true\" className=\"img-responsive\" style={{ marginTop: \"20px\" }} />\n\t\t\t\t\t\t</div></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{/* tab box holding description, steps to take, and stories about the action */}\n\t\t\t\t<div className=\"product-tab-box\">\n\t\t\t\t\t<ul className=\"nav nav-tabs tab-menu\">\n\t\t\t\t\t\t{/* tab switching system, may be a better way to do this */}\n\t\t\t\t\t\t<li id=\"desctab\" className={this.state.tab === 'description' ? \"active\" : ''}>\n\t\t\t\t\t\t\t<button className=\"cool-font\" style={{ fontSize: this.state.fontSize }} onClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ tab: 'description' })\n\t\t\t\t\t\t\t}} data-toggle=\"tab\">Description</button></li>\n\t\t\t\t\t\t<li id=\"stepstab\" className={this.state.tab === 'steps' ? \"active\" : ''}>\n\t\t\t\t\t\t\t<button className=\"cool-font\"style={{ fontSize: this.state.fontSize }} onClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ tab: 'steps' })\n\t\t\t\t\t\t\t}} data-toggle=\"tab\">Steps To Take</button></li>\n\t\t\t\t\t\t<li id=\"reviewtab\" className={this.state.tab === 'testimonials' ? \"active\" : ''}>\n\t\t\t\t\t\t\t<button className=\"cool-font\" style={{ fontSize: this.state.fontSize }} onClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ tab: 'testimonials' })\n\t\t\t\t\t\t\t}} data-toggle=\"tab\">Testimonials</button></li>\n\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div className=\"tab-content\">\n\t\t\t\t\t\t{/* description */}\n\t\t\t\t\t\t<div className={this.state.tab === 'description' ? \"tab-pane active cool-font\" : 'tab-pane cool-font'} id=\"desc\">\n\t\t\t\t\t\t\t<div className=\"product-details-content\">\n\t\t\t\t\t\t\t\t<div className=\"desc-content-box\">\n\t\t\t\t\t\t\t\t\t<p className=\"cool-font\">{action.about}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* steps to take */}\n\t\t\t\t\t\t<div className={this.state.tab === 'steps' ? \"tab-pane active cool-font\" : 'tab-pane cool-font'} id=\"steps\">\n\t\t\t\t\t\t\t<div className=\"product-details-content\">\n\t\t\t\t\t\t\t\t<div className=\"desc-content-box\">\n\t\t\t\t\t\t\t\t\t<p className=\"cool-font\">{action.steps_to_take}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={this.state.tab === 'testimonials' ? \"tab-pane active cool-font\" : 'tab-pane cool-font'} id=\"review\">\n\t\t\t\t\t\t\t<div className=\"review-box\">\n\t\t\t\t\t\t\t\t{/* Reviews */}\n\t\t\t\t\t\t\t\t{this.renderStories(stories)}\n\t\t\t\t\t\t\t\t{this.state.numberToShow < stories.length ?\n\t\t\t\t\t\t\t\t\t<button style={{ margin: '0 auto 30px auto' }} className='as-link' onClick={() => this.setState({ numberToShow: stories.length })}> Show all Testimonials </button>\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* form to fill out to tell your own story */}\n\t\t\t\t\t\t\t{this.props.user ?\n\t\t\t\t\t\t\t\t<div id='testimonials-form'>\n\t\t\t\t\t\t\t\t\t<StoryForm uid={this.props.user.id} aid={action.id} addStory={this.addStory} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<Link to={this.props.links.signin}> Sign In </Link> to submit your own story about taking this Action\n                                </p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\tchooseFontSize = () => {\n\t\tvar fontSize = '16px'\n\t\tif (window.innerWidth < 500) {\n\t\t\tfontSize = '12px';\n\t\t}\n\t\tif (fontSize !== this.state.fontSize) {\n\t\t\tthis.setState({\n\t\t\t\tfontSize: fontSize\n\t\t\t})\n\t\t}\n\t}\n\topenForm = (status) => {\n\t\tthis.setState({\n\t\t\tstatus: status\n\t\t})\n\t}\n\tcloseForm = () => {\n\t\tthis.setState({\n\t\t\tstatus: null\n\t\t})\n\t}\n\n\trenderTags(tags) {\n\t\tconsole.log(tags);\n\t\treturn Object.keys(tags).map((key) => {\n\t\t\tvar tagColName = ''\n\t\t\tif (tags[key].tag_collection.name !== 'Category') {\n\t\t\t\ttagColName = tags[key].tag_collection.name + '-';\n\t\t\t}\n\t\t\treturn <span key={key}> {tagColName}<i>{tags[key].name}</i> </span>;\n\t\t})\n\t}\n\trenderStories = (stories) => {\n\t\tif (stories.length === 0)\n\t\t\treturn <p> No stories about this action yet </p>;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{/* <div className=\"tab-title-h4\">\n                    <h4>{stories.length} Stories about this Action</h4>\n                </div> */}\n\t\t\t\t{Object.keys(stories).map((key) => {\n\t\t\t\t\tconst story = stories[key];\n\t\t\t\t\tconst date = new Date(story.created_at);\n\t\t\t\t\tif (key < this.state.numberToShow) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className=\"single-review-box\" key={key}>\n\t\t\t\t\t\t\t\t<div className=\"img-holder\">\n\t\t\t\t\t\t\t\t\t<img src=\"\" alt=\"\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"text-holder\">\n\t\t\t\t\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"name pull-left\">\n\t\t\t\t\t\t\t\t\t\t\t<h4>{story.user.full_name} – {date.toLocaleDateString()}:</h4>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text\">\n\t\t\t\t\t\t\t\t\t\t<h6>\n\t\t\t\t\t\t\t\t\t\t\t{story.title}\n\t\t\t\t\t\t\t\t\t\t\t{this.state.expanded && this.state.expanded === story.id ?\n\t\t\t\t\t\t\t\t\t\t\t\t<button className='as-link' style={{ float: 'right' }} onClick={() => { this.setState({ expanded: null }) }}>close</button> : null\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</h6>\n\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.expanded && this.state.expanded === story.id ? story.body : story.body.substring(0, this.state.limit)}\n\t\t\t\t\t\t\t\t\t\t\t{this.state.limit < story.body.length && this.state.expanded !== story.id ?\n\t\t\t\t\t\t\t\t\t\t\t\t<button className='as-link' style={{ float: 'right' }} onClick={() => { this.setState({ expanded: story.id }) }}>more...</button>\n\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{story.vendor ?\n\t\t\t\t\t\t\t\t\t\t<div className=\"text\">\n\t\t\t\t\t\t\t\t\t\t\t<p>Linked Service Provider: <Link to={`${this.props.links.services}/${story.vendor.id}`}>{story.vendor.name}</Link></p>\n\t\t\t\t\t\t\t\t\t\t</div> : null\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t})}\n\t\t\t</>\n\t\t);\n\t}\n\t// on change in any category or tag checkbox update the actionsPage\n\thandleChange() {\n\t\tthis.forceUpdate();\n\t}\n\t/**\n\t * These are the Cart functions\n\t */\n\n\t/**\n\t * These are the cart functions\n\t */\n\tinCart = (aid, hid, cart) => {\n\t\tif (!this.props.todo) return false;\n\t\tconst checkTodo = this.props.todo.filter(actionRel => { return Number(actionRel.action.id) === Number(aid) && Number(actionRel.real_estate_unit.id) === Number(hid) });\n\t\tif (cart === \"TODO\") { return checkTodo.length > 0; }\n\n\t\tif (!this.props.done) return false;\n\t\tconst checkDone = this.props.done.filter(actionRel => { return Number(actionRel.action.id) === Number(aid) && Number(actionRel.real_estate_unit.id) === Number(hid) });\n\t\tif (cart === \"DONE\") return checkDone.length > 0;\n\n\t\treturn checkTodo.length > 0 || checkDone.length > 0;\n\t}\n\tmoveToDone = (actionRel) => {\n\t\tconst body = {\n\t\t\tstatus: \"DONE\",\n\t\t\taction: actionRel.action.id,\n\t\t\treal_estate_unit: actionRel.real_estate_unit.id,\n\t\t}\n\t\tpostJson(URLS.USER + '/' + this.props.user.id + '/action/' + actionRel.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tthis.props.reduxMoveToDone(json.data);\n\t\t\t\tthis.addToImpact(json.data.action);\n\t\t\t\tthis.setState({ showTestimonialLink: true });\n\t\t\t}\n\t\t\t//just update the state here\n\t\t}).catch(err => {\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\tmoveToDoneByActionId(aid, hid) {\n\t\tconst actionRel = this.props.todo.filter(actionRel => {\n\t\t\treturn Number(actionRel.action.id) === Number(aid) && Number(actionRel.real_estate_unit.id) === Number(hid)\n\t\t})[0];\n\t\tif (actionRel)\n\t\t\tthis.moveToDone(actionRel);\n\n\t}\n\taddToCart = (aid, hid, status) => {\n\t\tconst body = {\n\t\t\taction: aid,\n\t\t\tstatus: status,\n\t\t\treal_estate_unit: hid\n\t\t}\n\t\tpostJson(URLS.USER + \"/\" + this.props.user.id + \"/actions\", body).then(json => {\n\t\t\tconsole.log(json)\n\t\t\tif (json.success) {\n\t\t\t\t//set the state here\n\t\t\t\tif (status === \"TODO\") {\n\t\t\t\t\tthis.props.reduxAddToTodo(json.data);\n\t\t\t\t}\n\t\t\t\telse if (status === \"DONE\") {\n\t\t\t\t\tthis.props.reduxAddToDone(json.data);\n\t\t\t\t\tthis.addToImpact(json.data.action);\n\t\t\t\t\tthis.setState({ showTestimonialLink: true });\n\t\t\t\t}\n\t\t\t}\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\n\taddToImpact(action) {\n\t\tthis.changeDataByName(\"ActionsCompletedData\", 1)\n\t\taction.tags.forEach(tag => {\n\t\t\tif (tag.tag_collection && tag.tag_collection.name === \"Category\") {\n\t\t\t\tthis.changeData(tag.id, 1);\n\t\t\t}\n\t\t});\n\t\tObject.keys(this.props.user.teams).forEach(key => {\n\t\t\tthis.props.reduxTeamAddAction(this.props.user.teams[key]);\n\t\t});\n\t}\n\tchangeDataByName(name, number) {\n\t\tvar data = this.props.communityData.filter(data => {\n\t\t\treturn data.name === name\n\t\t})[0];\n\n\t\tconst body = {\n\t\t\t\"value\": data.value + number > 0 ? data.value + number : 0\n\t\t}\n\t\tpostJson(URLS.DATA + '/' + data.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tdata = {\n\t\t\t\t\t...data,\n\t\t\t\t\tvalue: data.value + number > 0 ? data.value + number : 0\n\t\t\t\t}\n\t\t\t\tthis.props.reduxChangeData(data);\n\t\t\t}\n\t\t})\n\t}\n\tchangeData(tagid, number) {\n\t\tvar data = this.props.communityData.filter(data => {\n\t\t\tif (data.tag) {\n\t\t\t\tconsole.log(data.tag);\n\t\t\t\treturn data.tag === tagid;\n\t\t\t}\n\t\t\treturn false;\n\t\t})[0];\n\t\tif (!data) {\n\t\t\tconsole.log(\"no data stored for tag \" + tagid);\n\t\t\treturn;\n\t\t}\n\t\tconst body = {\n\t\t\t\"value\": data.value + number > 0 ? data.value + number : 0\n\t\t}\n\t\tpostJson(URLS.DATA + '/' + data.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tdata = {\n\t\t\t\t\t...data,\n\t\t\t\t\tvalue: data.value + number > 0 ? data.value + number : 0\n\t\t\t\t}\n\t\t\t\tthis.props.reduxChangeData(data);\n\t\t\t}\n\t\t})\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tauth: store.firebase.auth,\n\t\tuser: store.user.info,\n\t\ttodo: store.user.todo,\n\t\tdone: store.user.done,\n\t\tactions: store.page.actions,\n\t\tstories: store.page.testimonials,\n\t\tcommunityData: store.page.communityData,\n\t\tlinks: store.links\n\t}\n}\nconst mapDispatchToProps = {\n\treduxAddToDone,\n\treduxAddToTodo,\n\treduxMoveToDone,\n\treduxChangeData,\n\treduxTeamAddAction\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(OneActionPage);","import React from 'react'\n\n/**\n * Renders a video element that takes the full width of its container.\n */\nclass Video extends React.Component {\n    render() {\n        return (\n            <video className=\"width-100\" controls>\n                <source src={this.props.link} type=\"video/mp4\" />\n            </video>\n        );\n    }\n}\nexport default Video;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux'\n/**\n * A display for donating to the cause\n * @props : \n */\nclass DonateBar extends React.Component {\n    render() {\n        return (\n            <div className=\"donate-us center p-5\" style={{backgroundColor: \"floralwhite\"}}>\n                <h2 className=\"cool-font\">{this.props.donateMessage}</h2>\n                <br/>\n                <Link to={this.props.links.donate}><button className=\" thm-btn donate-box-btn action-btns\">Donate</button></Link>\n            </div>\n        );\n    }\n}\nconst mapStoreToProps = (store) => {\n    return({\n        links: store.links\n    });\n}\nexport default connect(mapStoreToProps)(DonateBar);","import React from 'react'\n\n// Carousel from npm react-multi-carousel\nimport Carousel from 'react-multi-carousel';\nimport 'react-multi-carousel/lib/styles.css';\n\n/**\n * \n */\nclass TeamMembers extends React.Component {\n    render() {\n        const carouselResponsive = {\n            desktop: {\n              breakpoint: {max: 5000, min: 992},\n              items: 4,\n            },\n            tablet: {\n              breakpoint: { max: 992, min: 660 },\n              items: 3,\n            },\n            mobile: {\n              breakpoint: { max: 660, min: 0},\n              items: 2,\n            },\n          };\n        return (\n            <section className=\"our-team pt-5\">\n                <div className=\"container-fluid\">\n                    <div className=\"section-title\">\n                        <h2>Meet Our Team</h2>\n                    </div>\n                    <Carousel\n                        swipeable={true}\n                        draggable={false}\n                        showDots={false}\n                        responsive={carouselResponsive}\n                        ssr={true} // means to render carousel on server-side.\n                        slidesToSlide={1}\n                        infinite={true}\n                        autoPlay={true}\n                        autoPlaySpeed={4000}\n                        transitionDuration={500}\n                        containerClass=\"carousel-container\"\n                        removeArrowOnDeviceType={[\"mobile\"]}\n                        deviceType={this.props.deviceType}\n                        itemClass=\"carousel-item-padding-40-px\"\n                        >\n                        {this.renderCarouselElements(this.props.data)}\n                    </Carousel>\n                </div>\n            </section>\n        );\n    }\n\n    renderCarouselElements(teamMembers) {\n        return teamMembers.map((member, key) => {\n            return (\n                <article className=\"col\" key={key}>\n                    <div className=\"single-team-member\">\n                        <figure className=\"img-box\">\n                            <img src={(member.profile_picture) ? member.profile_picture.url : \"https://i.imgur.com/VXqFXUC.jpg\"} alt=\"\" className=\"width-100\"/>\n                        </figure>\n                        <div className=\"author-info text-center\">\n                            <h4>{member.full_name}</h4>\n                            {(member.user_info) ? <><p>{member.user_info.role}</p><p className=\"font-normal font-italic \">{member.user_info.description}</p></> : null}\n                            <hr/>\n                        </div>\n                            \n                    </div>\n                </article>\n            )\n        });\n    }\n}\nexport default TeamMembers;","import React from 'react'\nimport URLS from '../../../api/urls';\nimport { getJson, section } from '../../../api/functions'\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport WelcomeImages from '../../Shared/WelcomeImages'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nimport Video from './Video'\nimport TeamMembers from './TeamMembers'\nimport DonateBar from './DonateBar'\nimport { connect } from 'react-redux'\nimport { reduxLoadCommunityAdmins } from '../../../redux/actions/pageActions'\n\n// Carousel from npm react-multi-carousel\nimport 'react-multi-carousel/lib/styles.css';\n\nclass AboutUsPage extends React.Component {\n\trender() {\n\t\tif (!this.props.pageData || !this.props.community) {\n\t\t\treturn <p className='text-center'> Sorry, looks like this community's About Us Page is under maintenance. Try again later </p>\n\t\t}\n\n\t\tif (!this.props.communityAdmins) {\n\t\t\tgetJson(URLS.COMMUNITY_ADMIN_GROUP + this.props.community.id).then(json => {\n\t\t\t\tif (json.success && json.data) {\n\t\t\t\t\tthis.props.reduxLoadCommunityAdmins(json.data.members)\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn <LoadingCircle />\n\t\t}\n\n\t\tconst welcomeImagesData = section(this.props.pageData.sections, \"WelcomeImages\", true).slider[0].slides;\n\t\tconst video = section(this.props.pageData.sections, \"AboutUsVideo\", true);\n\t\tconst videoLink = video.image ? video.image.url : null;\n\t\tconst paragraphContent = section(this.props.pageData.sections, \"AboutUsDescription\", true).description;\n\t\tconst donateMessage = section(this.props.pageData.sections, \"DonateBar\", true).description;\n\n\t\tconst teamMembersData = this.props.communityAdmins\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\n\t\t\t\t<BreadCrumbBar links={[{ name: 'About Us' }]}/>\n\n\t\t\t\t{/* <WelcomeImages\n\t\t\t\t\t\tdata={welcomeImagesData} title=\"About Us\"\n\t\t\t\t\t/> */}\n\t\t\t\t<div className=\"col-md-10 col-lg-10 offset-md-1 col-sm-10 col-xs-12\">\n\t\t\t\t<div style={{ marginTop: 70 }}></div>\n\t\t\t\t\t<div className=\" col-sm-12 col-md-10 offset-md-1 mass-energize-about\">\n\t\t\t\t\t\t<center><h3 className=\"cool-font\" style={{ padding: 20 }}>About MassEnergize</h3></center>\n\t\t\t\t\t\t<p className=\"cool-font\">Duis ullamco exercitation incididunt irure. Excepteur sint labore amet fugiat ullamco sint cillum culpa sint ad qui est. Nisi sint irure fugiat elit magna consectetur. Voluptate esse nostrud est nostrud ullamco ut mollit irure do ipsum aliquip mollit reprehenderit. Amet non ipsum aute ex deserunt nostrud ut aute do. Qui dolore occaecat cupidatat sit veniam excepteur occaecat officia enim.</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={videoLink ? \"col-sm-12 col-md-10 offset-md-1\" : \"d-none\"}>\n\t\t\t\t\t\t<center><h3 className=\"cool-font\" style={{ padding: 20 }}>About {this.props.community.name} Community</h3></center>\n\t\t\t\t\t\t<Video link={videoLink} />\n\t\t\t\t\t\t<div className=\"community-about-text cool-font\" dangerouslySetInnerHTML={{ __html: paragraphContent }}></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{/* <div className=\"row m-0 mt-3\">\n\t\t\t\t\t\t<div className={videoLink ? \"col-sm-12 col-md-6\" : \"col-12\"} dangerouslySetInnerHTML={{ __html: paragraphContent }}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div> */}\n\t\t\t\t{/* <TeamMembers data={teamMembersData} /> */}\n\t\t\t\t<DonateBar donateMessage={donateMessage} />\n\n\t\t\t</>\n\t\t);\n\t}\n}\n\nconst mapStoreToProps = (store) => {\n\n\treturn {\n\t\tcommunity: store.page.community,\n\t\tcommunityAdmins: store.page.communityAdmins,\n\t\tpageData: store.page.aboutUsPage\n\t}\n}\n\nexport default connect(mapStoreToProps, { reduxLoadCommunityAdmins })(AboutUsPage);","import React from 'react'\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport { connect } from 'react-redux'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nimport { Link } from 'react-router-dom'\n\nclass ServicesPage extends React.Component {\n\n    render() {\n        const {\n            serviceProviders\n        } = this.props;\n\n        if (!serviceProviders || serviceProviders.length === 0) {\n            return (\n                <div className=\"text-center\">\n                    <p > Looks like your community hasn't partnered with any service providers yet.  Try again later</p>\n                </div>\n            )\n        }\n\n        return (\n            <>\n                <BreadCrumbBar links={[{ name: 'Service Providers' }]} />\n                <div className=\"boxed_wrapper\" style={{marginTop:90}}>\n                    <div className=\"container\">\n                        <div className=\"row pt-3 pb-3\">\n                            {this.renderVendors(serviceProviders)}\n                        </div>\n                    </div>\n                </div>\n            </>\n        );\n    }\n\n    renderVendors(vendors) {\n        if (!vendors || vendors.length === 0) {\n            return (\n                <div className=\"text-center\">\n                    <p > Looks like your community hasn't partnered with any vendors yet.  Try again later</p>\n                </div>\n            )\n        }\n        return vendors.map((vendor) => {\n            return (\n                <div className=\"col-12 col-md-6 col-lg-4\" key={vendor.vendor}>\n                    <div className=\"card rounded-0 spacing\">\n                        <div className=\"card-body\">\n                            <div className=\"col-12 text-center\">\n                                <Link to={`${this.props.links.services}/${vendor.id}`}>\n                                    <img className=\"w-100\" src={vendor.logo.url} alt={vendor.name} />\n                                </Link>\n                                <Link to={`${this.props.links.services}/${vendor.id}`}>\n                                    <h3 className=\"pt-3\">{vendor.name}</h3>\n                                </Link>\n                                {/* <p className=\"action-tags\">\n                                    {vendor.categories.map((category) => {\n                                        return (<span key={category}>{category}</span>)  \n                                    })}\n                                </p> */}\n                            </div>\n                            <div className=\"col-12 mt-3\">\n                                <span><b>Services</b></span>\n                                <ul className=\"normal\">\n                                    {vendor.services.map((action) => {\n                                        return <li key={vendor.name + \"-\" + action.id}>{action.name}</li>;\n                                    })}\n                                </ul>\n                            </div>\n                            {vendor.address ?\n                                <div className=\"w-100 p-2 bg-dark text-white text-center justify-content-center\">\n                                    <span className=\"fa fa-map-pin\"></span> {vendor.address.city}, {vendor.address.state}\n                                </div> : null}\n\n                            {vendor.key_contact != null ? (\n                                <div className=\"w-100 p-2 text-center\">\n                                    {vendor.user_info ?\n                                        <>\n                                            <a href={\"//\" + vendor.key_contact.user_info.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"font-normal mr-3\"><span className=\"fa fa-link fa-2x\"></span></a>\n                                            <a href={\"mail://\" + vendor.key_contact.email} className=\"font-normal ml-3\"><span className=\"fa fa-envelope fa-2x\"></span></a>\n                                        </> : null}\n                                </div>\n                            )\n                                : null}\n\n                        </div>\n                    </div>\n                </div>\n            );\n        });\n    }\n}\nconst mapStoreToProps = (store) => {\n    return {\n        serviceProviders: store.page.serviceProviders,\n        links: store.links\n    }\n}\nexport default connect(mapStoreToProps, null)(ServicesPage);","import React from 'react'\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport { connect } from 'react-redux'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nimport { Link } from 'react-router-dom'\nimport StoryForm from '../ActionsPage/StoryForm';\n\nclass OneServicePage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            status: null,\n            limit: 140,\n            expanded: null\n        }\n    }\n    render() {\n        if (!this.props.serviceProviders || !this.props.testimonials) {\n            return <LoadingCircle />;\n        }\n        const vendor = this.props.serviceProviders.filter(vendor => {\n            return vendor.id === Number(this.props.match.params.id)\n        })[0]\n\n        return (\n            <>\n                <BreadCrumbBar links={[{ name: 'Service Providers', link: this.props.links.services }, { name: `Service Provider ${vendor.id}` }]} />\n                <div className=\"boxed_wrapper\" style={{marginTop:90}}>\n                    <div className=\"container\">\n                        <div className=\"row pt-3 pb-3\">\n                            {this.renderVendor(vendor)}\n                        </div>\n                    </div>\n                </div>\n            </>\n        );\n    }\n\n    renderVendor(vendor) {\n        const stories = this.props.testimonials.filter(story => {\n            return story.vendor && story.vendor.id === Number(this.props.match.params.id)\n        })\n        return (\n            <div className=\"col-12\" key={vendor.vendor}>\n                <div className=\"card rounded-0 spacing\">\n                    <div className=\"card-body\">\n                        <div className=\"row\">\n                            <div className=\"col-md-5 col-12 text-center\">\n                                <img className=\"w-100\" src={vendor.logo.url} alt={vendor.name} />\n                                {vendor.address ?\n                                    <div className=\"w-100 p-2 bg-dark text-white text-center justify-content-center\">\n                                        <span className=\"fa fa-map-pin\"></span> {vendor.address.city}, {vendor.address.state}\n                                    </div> : null\n                                }\n                            </div>\n                            <div className=\"col-md-7 col-12 mt-3\">\n                                <h1 className=\"pt-3\">{vendor.name}</h1>\n                                <p>\n                                    &nbsp;&nbsp;&nbsp;&nbsp;{vendor.description}\n                                </p>\n                            </div>\n                            {vendor.services && vendor.services.length > 0 ?\n                                <div className='col-12'>\n                                    <span><h4>Services</h4></span>\n                                    <ul className=\"normal\">\n                                        {vendor.services.map((service) => {\n                                            return <li style={{display:'inline-block'}} key={vendor.name + \"-\" + service.id}><b>{service.name}</b>&nbsp;&nbsp;&nbsp;<p>{service.description}</p></li>;\n                                        })}\n                                    </ul>\n                                </div>\n                                : null\n                            }\n                        </div>\n\n                        {vendor.key_contact != null ? (\n                            <div className=\"w-100 p-2 text-center\">\n                                {vendor.user_info ?\n                                    <>\n                                        <a href={\"//\" + vendor.key_contact.user_info.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"font-normal mr-3\"><span className=\"fa fa-link fa-2x\"></span></a>\n                                        <a href={\"mail://\" + vendor.key_contact.email} className=\"font-normal ml-3\"><span className=\"fa fa-envelope fa-2x\"></span></a>\n                                    </> : null}\n                            </div>\n                        )\n                            : null}\n                        <br />\n                        <div className='text-center'>\n                            <h4 style={{ background: '#003000', color: 'white' }}> Testimonials about this Service Provider </h4>\n                        </div>\n                        {this.renderStories(stories)}\n                        <StoryForm vid={vendor.id} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    renderStories = (stories) => {\n        if (stories.length === 0)\n            return <div className='text-center'><p> No stories about this Service Provider yet </p></div>;\n        return (\n            <>\n                {/* <div className=\"tab-title-h4\">\n                    <h4>{stories.length} Stories about this Action</h4>\n                </div> */}\n                {Object.keys(stories).map((key) => {\n                    const story = stories[key];\n                    const date = new Date(story.created_at);\n                    return (\n                        <div className=\"single-review-box\" key={key} style={{ padding: 0 }}>\n                            <div className=\"img-holder\">\n                                <img src=\"\" alt=\"\" />\n                            </div>\n                            <div className=\"text-holder\">\n                                <div className=\"top\">\n                                    <div className=\"name pull-left\">\n                                        <h4>{story.user.full_name} – {date.toLocaleDateString()}:</h4>\n                                    </div>\n                                </div>\n                                <div className=\"text\">\n                                    <h6>\n                                        {story.title}\n                                        {this.state.expanded && this.state.expanded === story.id ?\n                                            <button className='as-link' style={{ float: 'right' }} onClick={() => { this.setState({ expanded: null }) }}>close</button> : null\n                                        }\n                                    </h6>\n                                    <p>{this.state.expanded && this.state.expanded === story.id ? story.body : story.body.substring(0, this.state.limit)}\n                                        {this.state.limit < story.body.length && this.state.expanded !== story.id ?\n                                            <button className='as-link' style={{ float: 'right' }} onClick={() => { this.setState({ expanded: story.id }) }}>...more</button>\n                                            :\n                                            null\n                                        }</p>\n                                </div>\n                                {story.action ?\n                                    <div className=\"text\">\n                                        <p>Linked Action: <Link to={`${this.props.links.actions}/${story.action.id}`}>{story.action.title}</Link></p>\n                                    </div> : null\n                                }\n                            </div>\n                        </div>\n                    );\n                })}\n            </>\n        );\n    }\n}\nconst mapStoreToProps = (store) => {\n    return {\n        serviceProviders: store.page.serviceProviders,\n        testimonials: store.page.testimonials,\n        links: store.links\n    }\n}\nexport default connect(mapStoreToProps, null)(OneServicePage);","import React from 'react'\nimport LoadingCircle from '../../Shared/LoadingCircle'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport StoryForm from '../ActionsPage/StoryForm'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nimport CONST from '../../Constants'\n\nclass StoriesPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tlimit: 140, //size of a tweet\n\t\t\texpanded: null\n\t\t}\n\t}\n\trender() {\n\t\tconst {\n\t\t\tstories\n\t\t} = this.props;\n\t\tif (stories == null) return <LoadingCircle />;\n\n\t\t//const welcomeImagesData = section(pageData, \"WelcomeImages\").slider[0].slides;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BreadCrumbBar links={[{ name: 'Testimonials' }]} />\n\t\t\t\t<div className=\"boxed_wrapper\" style={{ marginTop: 90 }}>\n\t\t\t\t\t<section className=\"testimonial2\">\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<div className=\"row masonary-layout\">\n\t\t\t\t\t\t\t\t{this.renderStories(stories)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-12 \">\n\t\t\t\t\t\t\t\t{this.props.user ?\n\t\t\t\t\t\t\t\t\t<StoryForm uid={this.props.user.id} />\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<p className='text-center'><Link to={this.props.links.signin}>Sign in</Link> to submit a story</p>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\trenderStories(stories) {\n\t\tif (stories.length === 0) {\n\t\t\treturn (\n\t\t\t\t<div className=\"col-12 text-center\">\n\t\t\t\t\t<p className=\"cool-font\"> There are not any testimonials yet.  If you have a story to tell, let us know in the form below</p>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn stories.map(story => {\n\t\t\tvar cn = \"col-md-4 col-sm-6 col-xs-12\";\n\t\t\tif (this.state.expanded !== null) {\n\t\t\t\tif (this.state.expanded === story.id) {\n\t\t\t\t\tcn = 'col-12'\n\t\t\t\t} else {\n\t\t\t\t\tcn = 'd-none'\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className={cn}>\n\t\t\t\t\t<div className=\"item center\" style={{ padding: 30 }}>\n\t\t\t\t\t\t<div className=\"quote\">\n\t\t\t\t\t\t\t<i className=\"fa fa-quote-left\"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h4 className=\"title p-2 cool-font\">{story.title}</h4>\n\t\t\t\t\t\t{this.state.expanded && this.state.expanded === story.id ?\n\t\t\t\t\t\t\t<button className='as-link' style={{ width: '100%', margin: 'auto' }} onClick={() => { this.setState({ expanded: null }) }}>close</button> : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<p className=\"p-1 text-center cool-font\">\n\t\t\t\t\t\t\t{this.state.expanded && this.state.expanded === story.id ? story.body : story.body.substring(0, CONST.LIMIT)}\n\t\t\t\t\t\t\t{(!this.state.expanded || !this.state.expanded === story.id) && CONST.LIMIT < story.body.length ?\n\t\t\t\t\t\t\t\t<button className='as-link' style={{ width: '100%', margin: 'auto' }} onClick={() => { this.setState({ expanded: story.id }) }}>...</button>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className=\"author cool-font\">\n\t\t\t\t\t\t\t<h5 className=\"cool-font\">{story.user.full_name}</h5>\n\t\t\t\t\t\t\t{/* <p>{story.location}</p> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{(story.action) ? <p><Link to={`${this.props.links.actions}/${story.action.id}`} className=\"cool-font\"><u>{story.action.title}</u></Link></p> : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tstories: store.page.testimonials,\n\t\tuser: store.user.info,\n\t\tlinks: store.links\n\t}\n}\nexport default connect(mapStoreToProps, null)(StoriesPage);","import firebase from 'firebase/app';\nimport 'firebase/auth'\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBjcwjC_0H1bgGKqPyqKnbWaGmAtzc4BJQ\",\n  authDomain: \"massenergize-auth.firebaseapp.com\",\n  databaseURL: \"https://massenergize-auth.firebaseio.com\",\n  projectId: \"massenergize-auth\",\n  storageBucket: \"\",\n  messagingSenderId: \"72842344535\",\n  appId: \"1:72842344535:web:9b1517b1b3d2e818\",\n}\n\nfirebase.initializeApp(firebaseConfig);\nexport default firebase;\n\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\nexport const facebookProvider = new firebase.auth.FacebookAuthProvider();","import React from 'react';\nimport { withFirebase } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { facebookProvider, googleProvider } from '../../../config/firebaseConfig';\nimport { getJson } from '../../../api/functions';\nimport URLS from '../../../api/urls'\nimport { reduxLogin, reduxLoadDone, reduxLoadTodo } from '../../../redux/actions/userActions';\n\n\n\n/********************************************************************/\n/**                        LOGIN FORM                               */\n/********************************************************************/\nconst INITIAL_STATE = {\n    email: '',\n    password: '',\n    error: null\n};\n\nclass LoginFormBase extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE, persistence: props.firebase.auth.Auth.Persistence.SESSION\n        };\n\n        this.onChange = this.onChange.bind(this);\n        this.isInvalid = this.isInvalid.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    render() {\n        const { email, password, error } = this.state;\n        return (\n            < div className=\"styled-form login-form\" >\n                <div className=\"section-title style-2\">\n                    <h3>Sign in</h3>\n                </div>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <span className=\"adon-icon\"><span className=\"fa fa-envelope-o\"></span></span>\n                        <input type=\"email\" name=\"email\" value={email} onChange={this.onChange} placeholder=\"Enter email\" />\n                    </div>\n                    <div className=\"form-group\">\n                        <span className=\"adon-icon\"><span className=\"fa fa-unlock-alt\"></span></span>\n                        <input type=\"password\" name=\"password\" value={password} onChange={this.onChange} placeholder=\"Enter Password\" />\n                    </div>\n                    {error && <p style={{ color: \"red\" }}> {error} </p>}\n                    <div className=\"clearfix\">\n                        <div className=\"form-group pull-left\">\n                            <button type=\"submit\" disabled={this.isInvalid()} className=\"thm-btn\">Sign in</button>\n                        </div>\n                        <div className=\"form-group social-links-two padd-top-5 pull-right\">\n                            Or sign in with\n                            <button onClick={this.signInWithFacebook} id=\"facebook\" type=\"button\" className=\"img-circle facebook\"><span className=\"fa fa-facebook-f\"></span></button>\n                            <button onClick={this.signInWithGoogle} id=\"google\" type=\"button\" className=\"img-circle google\"><span className=\"fa fa-google\"></span></button>\n                        </div>\n                    </div>\n                </form>\n                <p><button className=\"as-link\" onClick={this.forgotPassword}> Forgot Password </button></p>\n                <p> Don't have an account? <Link to={this.props.links.signup}>Register Here</Link> </p>\n            </div >\n        );\n    }\n\n    forgotPassword = () => {\n        if(this.state.email !== ''){\n        this.props.firebase.auth().sendPasswordResetEmail(this.state.email)\n          .then(function (user) {\n            alert('Please check your email...')\n          }).catch(function (e) {\n            console.log(e)\n          })\n        }else{\n            this.setState({\n                error: 'Enter your email to reset your password'\n            })\n        }\n      }\n    //checks if the login info is invalid, if so, the submit button will be disabled\n    isInvalid() {\n        const { password, email } = this.state;\n        return (password === '' || email === '');\n    }\n    //updates the state when form elements are changed\n    onChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: null\n        });\n    };\n\n    onSubmit(event) {\n        //firebase prop comes from the withFirebase higher component\n        this.props.firebase.auth().setPersistence(this.state.persistence).then(() => {\n            this.props.firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password)\n                .then(auth => {\n                    console.log(auth.user);\n                    this.fetchAndLogin(auth.user.email).then(success => {\n                        if (success)\n                            console.log('yay');\n                    });\n                    this.setState({ ...INITIAL_STATE }); //reset the login boxes\n                })\n                .catch(err => {\n                    this.setState({ error: err.message });\n                });\n        });\n        event.preventDefault();\n    };\n\n    //KNOWN BUG : LOGGING IN WITH GOOGLE WILL DELETE ANY ACCOUNT WITH THE SAME PASSWORD: \n    //WOULD NOT DELETE DATA I THINK?\n    signInWithGoogle = () => {\n        this.props.firebase.auth().setPersistence(this.state.persistence).then(() => {\n            this.props.firebase.auth()\n                .signInWithPopup(googleProvider)\n                .then(auth => {\n                    console.log(auth);\n                    this.fetchAndLogin(auth.user.email).then(success => {\n                        if (success)\n                            console.log('yay');\n                    });\n                    this.setState({ ...INITIAL_STATE });\n                })\n                .catch(err => {\n                    console.log(err);\n                    this.setState({ error: err.message });\n                });\n        });\n    }\n    signInWithFacebook = () => {\n        this.props.firebase.auth().setPersistence(this.state.persistence).then(() => {\n            this.props.firebase.auth()\n                .signInWithPopup(facebookProvider)\n                .then(auth => {\n                    this.fetchAndLogin(auth.user.email).then(success => {\n                        if (success) {\n                            console.log('yay')\n                        }\n                    });\n                    this.setState({ ...INITIAL_STATE });\n                })\n                .catch(err => {\n                    this.setState({ error: err.message });\n                });\n        });\n    }\n\n    fetchAndLogin = async (email) => {\n        try {\n            this.props.tryingToLogin(true);\n            const json = await getJson(`${URLS.USER}/e/${email}`);\n            if (json.success && json.data) {\n                this.props.reduxLogin(json.data);\n\n                const todo = await getJson(`${URLS.USER}/e/${email}/actions?status=TODO`)\n                this.props.reduxLoadTodo(todo.data);\n                const done = await getJson(`${URLS.USER}/e/${email}/actions?status=DONE`)\n                this.props.reduxLoadDone(done.data);\n                this.props.tryingToLogin(false);\n                return true;\n            }\n            console.log('fetch and login failed');\n            this.props.tryingToLogin(false);\n            return false;\n        }\n        catch (err) {\n            console.log(err);\n            this.props.tryingToLogin(false);\n            return false;\n        }\n    }\n}\n\n//composes the login form by using higher order components to make it have routing and firebase capabilities\nconst LoginForm = compose(\n    withFirebase\n)(LoginFormBase);\n\nconst mapStoreToProps = (store) => {\n    return {\n        auth: store.firebase.auth,\n        links: store.links,\n    }\n}\n\nexport default connect(mapStoreToProps, { reduxLogin, reduxLoadDone, reduxLoadTodo })(LoginForm);\n\n\n","import React from 'react'\nimport LoginForm from './LoginForm'\nimport {connect} from 'react-redux'\nimport {Redirect} from 'react-router'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\n\nclass LoginPage extends React.Component {\n    constructor(props){\n        super(props);\n        this.state={\n            tryingToLogin:false\n        }\n    }\n    render() { //avoids trying to render before the promise from the server is fulfilled\n        //pull form from the url\n        // const params = new URLSearchParams(this.props.location.search)\n        // const returnpath = params.get('returnpath');\n        if(!this.state.tryingToLogin){\n            if(this.props.user.info)\n                return <Redirect to={this.props.links.profile}/>\n            if(this.props.auth.isLoaded && !this.props.auth.isEmpty)\n                return <Redirect to={this.props.links.signup}/>\n        }\n\n        return (\n            <>\n            <BreadCrumbBar links={[{ name: 'Sign In' }]} />\n            <div className=\"boxed_wrapper\">\n                <section className=\"register-section sec-padd-top\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            {/* <!--Form Column--> */}\n                            <div className=\"form-column column col-md-6 col-12 offset-md-3\">\n                                <LoginForm tryingToLogin={(status) => this.setState({tryingToLogin:status})}/>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n            </>\n        );\n    }\n}\n\nconst mapStoreToProps = (store) => {\n    return {\n        auth: store.firebase.auth,\n        user: store.user,\n        links: store.links\n    }\n}\nexport default connect(mapStoreToProps)(LoginPage);","import React from 'react';\nimport URLS from '../../../api/urls'\nimport { postJson, deleteJson } from '../../../api/functions'\nimport { connect } from 'react-redux'\nimport { reduxAddRSVP, reduxRemoveRSVP, reduxChangeRSVP } from '../../../redux/actions/pageActions'\n\n/********************************************************************/\n/**                        RSVP FORM                               **/\n/********************************************************************/\nconst INITIAL_STATE = {\n    value: '--',\n    oldvalue: '--',\n};\n\nclass RSVPForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: props.rsvp ? props.rsvp.status : INITIAL_STATE.value,\n            oldvalue: props.rsvp ? props.rsvp.status : INITIAL_STATE.oldvalue\n        };\n\n        this.onChange = this.onChange.bind(this);\n    }\n\n    render() {\n        return (\n            <>\n                {this.props.noText ? null :\n                    <>\n                        <h6 style={{ display: 'inline-block' }}> RSVP </h6>\n                        {'\\u00A0'}\n                    </>\n                }\n                <select value={this.state.value} onChange={this.onChange}>\n                    <option value='--'>--</option>\n                    <option value='INTERESTED'>Interested</option>\n                    <option value='RSVP'>Going</option>\n                    <option value='SAVE'>Save For Later</option>\n                </select>\n                &nbsp;\n                {this.state.oldvalue !== this.state.value ?\n                    <button className='thm-btn style-4' onClick={this.handleSubmit}>Submit</button>\n                    :\n                    null\n                }\n            </>\n        );\n    }\n\n    //updates the state when form elements are changed\n    onChange(event) {\n        this.setState({\n            value: event.target.value,\n        });\n    };\n    handleSubmit = (event) => {\n        if (this.state.oldvalue === '--') {\n            this.addRSVP(this.state.value);\n        }\n        else if (this.state.value === '--') {\n            this.removeRSVP(this.state.value);\n        }\n        else {\n            this.changeRSVP(this.state.value);\n        }\n        this.setState({\n            oldvalue: this.state.value\n        })\n    }\n\n    addRSVP = (status) => {\n        const body = {\n            'status': status,\n            'attendee': this.props.userid,\n            'event': this.props.eventid\n        }\n        postJson(URLS.EVENT_ATTENDEES, body).then(json => {\n            console.log(json)\n            if (json.success && json.data) {\n                this.props.reduxAddRSVP(json.data);\n            }\n        })\n    }\n\n    changeRSVP = (status) => {\n        const body = {\n            'status': status,\n            'attendee': this.props.userid,\n            'event': this.props.eventid\n        }\n        postJson(`${URLS.EVENT_ATTENDEE}/${this.props.rsvp.id}`, body).then(json => {\n            console.log(json)\n            if (json.success && json.data) {\n                this.props.reduxChangeRSVP(json.data);\n            }\n        })\n    }\n\n    removeRSVP = () => {\n        deleteJson(`${URLS.EVENT_ATTENDEE}/${this.props.rsvp.id}`).then(json => {\n            console.log(json)\n            if (json.success) {\n                this.props.reduxRemoveRSVP(this.props.rsvp);\n            }\n        })\n    }\n\n\n    onSubmit = (event) => {\n        event.preventDefault();\n        const body = {\n            \"name\": this.state.name,\n            \"unit_type\": this.state.unittype,\n            \"location\": this.state.location\n        }\n        var postURL = URLS.USER + \"/\" + this.props.user.id + \"/households\";\n        if (this.props.householdID) {\n            postURL = URLS.HOUSEHOLD + \"/\" + this.props.householdID;\n        }\n        /** Collects the form data and sends it to the backend */\n        postJson(postURL, body).then(json => {\n            console.log(json);\n            if (json.success) {\n                if (!this.props.householdID) {\n                    this.props.addHousehold(json.data);\n                    var householdIds = [];\n                    this.props.user.households.forEach(household => {\n                        householdIds.push(household.id);\n                    })\n                    fetch(URLS.USER + \"/\" + this.props.user.id, {\n                        method: 'post',\n                        body: JSON.stringify({\n                            \"preferred_name\": this.props.user.preferred_name,\n                            \"email\": this.props.user.email,\n                            \"full_name\": this.props.user.full_name,\n                            \"real_estate_units\": [\n                                ...householdIds\n                            ]\n                        })\n                    }).then(response => {\n                        return response.json()\n                    }).then(json => {\n                        console.log(json);\n                        if (json.success) this.props.closeForm();\n                    });\n                } else {\n                    this.props.editHousehold(json.data);\n                    this.props.closeForm();\n                }\n            }\n        }).catch(error => {\n            console.log(error);\n        })\n    }\n}\n\n\nconst mapDispatchToProps = { reduxAddRSVP, reduxRemoveRSVP, reduxChangeRSVP }\n//composes the login form by using higher order components to make it have routing and firebase capabilities\nexport default connect(null, mapDispatchToProps)(RSVPForm);\n\n\n","import React from 'react'\nimport DatePicker from 'react-datepicker'\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport SideBar from '../../Menu/SideBar'\nimport URLS from '../../../api/urls'\nimport { getJson } from '../../../api/functions'\nimport LoadingCircle from '../../Shared/LoadingCircle'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport RSVPForm from './RSVPForm';\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nimport CONST from '../../Constants'\n\n\n/**\n * Renders the event page\n */\nclass EventsPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tevents_search_toggled: false,\n\t\t\tstartDate: null, //these start and end dates are selected by the datepickers in the sidebar\n\t\t\tendDate: null,   //when selected, they filter the actions to be between them\n\t\t\tuserData: null,\n\t\t}\n\t\tthis.selectStartDate = this.selectStartDate.bind(this);\n\t\tthis.selectEndDate = this.selectEndDate.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.resetDates = this.resetDates.bind(this);\n\t}\n\n\trender() {\n\n\t\t//avoids trying to render before the promise from the server is fulfilled\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BreadCrumbBar links={[{ name: 'Events' }]} />\n\t\t\t\t<div className=\"boxed_wrapper\" style={{marginTop:90}}>\n\t\t\t\t\t{/* renders the sidebar and events columns */}\n\t\t\t\t\t<div className=\"boxed-wrapper\">\n\t\t\t\t\t\t<section className=\"eventlist\">\n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-5 col-12\">\n\t\t\t\t\t\t\t\t\t\t{this.props.tagCols ?\n\t\t\t\t\t\t\t\t\t\t\tthis.renderSideBar() : <LoadingCircle />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-8 col-md-7 col-12\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"outer-box sec-padd event-style2\">\n\t\t\t\t\t\t\t\t\t\t\t{this.renderEvents(this.props.events)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\t/**\n\t * Renders all the events on the page,\n\t * before rendering, pulls the list of event from the server and sorts the list\n\t * \n\t *  Sort:\n\t *      if the event is coming up,\n\t *          it is sorted old-new (coming soon - coming later)\n\t *      if the event has already passed\n\t *          it is sorted new-old (most recently occured - oldest)\n\t *      all past events are put after all upcoming events\n\t *      if an event is today it is considered an upcoming event even if the start time has past\n\t *  Filter:\n\t *      filter by all/upcoming/ between two dates (also does before one date or after one date)\n\t *      filter by search\n\t *      filter by category tags \n\t * @param events - json list of events\n\t */\n\trenderEvents(events) {\n\t\tif (!this.props.events || this.props.events.length === 0) {\n\t\t\treturn (\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\t<p className=\"cool-font\"> Sorry, looks like there are no upcoming events in your community </p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\t\tconst now = new Date();\n\t\t//reads events into a list\n\t\tvar eventsList = Object.keys(events).map(key => {\n\t\t\treturn events[key];\n\t\t});\n\t\t//sorts the list\n\t\tvar sortedEvents = eventsList.sort((eventA, eventB) => {\n\t\t\tconst dateA = new Date(eventA.start_date_and_time);\n\t\t\tconst dateAEnd = new Date(eventA.end_date_and_time);\n\t\t\tconst dateB = new Date(eventB.start_date_and_time);\n\t\t\tconst dateBEnd = new Date(eventB.end_date_and_time);\n\n\t\t\tif (((dateA - now) > 0 || (dateAEnd - now) > 0) && ((dateB - now) > 0 || (dateBEnd - now) > 0)) {\n\t\t\t\treturn dateA - dateB; //if both dates are coming up/ are not over, sort by oldest(closest to current date) to newest (furthest away from current date)\n\t\t\t}\n\t\t\treturn (dateB - now) - (dateA - now); //otherwise sort newest(most recently occured or upcoming) to oldest(least recently occured)\n\t\t});\n\t\t//maps the list to react/html code that renders each element\n\t\treturn sortedEvents.map(event => {\n\t\t\tconst date = new Date(event.start_date_and_time);\n\t\t\tconst endDate = new Date(event.end_date_and_time);\n\t\t\tif (this.shouldRender(event)) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"item style-1 clearfix m-action-item\" onClick ={()=>{ window.location = `${this.props.links.events + \"/\" + event.id}`}} key={event.id}>\n\t\t\t\t\t\t<div className=\"row no-gutter\">\n\t\t\t\t\t\t\t{/* renders the image */}\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-12\">\n\t\t\t\t\t\t\t\t<figure className=\"img-holder\">\n\t\t\t\t\t\t\t\t\t<Link to={this.props.links.events + \"/\" + event.id}><img src={event.image ? event.image.url : null} alt=\"\" /></Link>\n\t\t\t\t\t\t\t\t\t{/* if the date has passed already the calender div should be all gray */}\n\t\t\t\t\t\t\t\t\t<div className={(endDate - now > 0) ? \"date\" : \"date old\"}><span>{months[date.getMonth()]}<br />{date.getDate()}</span></div>\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* renders the event text */}\n\t\t\t\t\t\t\t<div className=\" col-lg-8 col-12 \">\n\t\t\t\t\t\t\t\t<div className=\"lower-content \">\n\t\t\t\t\t\t\t\t\t<Link className=\"cool-font\" to={this.props.links.events + \"/\" + event.id}><h4 className=\"cool-font\"> {event.name} </h4></Link>\n\t\t\t\t\t\t\t\t\t<div className=\"text\">\n\t\t\t\t\t\t\t\t\t\t{event.description.length < CONST.BIG_LIMIT ?\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"cool-font\"> {event.description} </p>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"cool-font\">\n\t\t\t\t\t\t\t\t\t\t\t\t{event.description.substring(0, CONST.BIG_LIMIT)}\n\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;<Link to={`${this.props.links.events}/${event.id}`}> ...more</Link>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{(endDate - now > 0) ?\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{this.props.user ?\n\t\t\t\t\t\t\t\t\t\t\t\t<RSVPForm\n\t\t\t\t\t\t\t\t\t\t\t\t\teventid={event.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tuserid={this.props.user.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t//value={this.userRSVPvalue(event.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\trsvp={this.userRSVP(event.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link className=\"cool-font\" to={this.props.links.signin}>Sign In</Link> to RSVP to events\n                                        </p>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</> : null}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* renders the  date time and location of the event */}\n\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t<ul className=\"post-meta list_inline\">\n\t\t\t\t\t\t\t\t\t{this.sameDay(date, endDate) ?\n\t\t\t\t\t\t\t\t\t\t<li><i className=\"fa fa-clock-o\"></i> {date.toLocaleString()} - {endDate.toLocaleTimeString()}</li>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<li><i className=\"fa fa-clock-o\"></i> {date.toLocaleString()} - {endDate.toLocaleString()}</li>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{event.location ?\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;|&nbsp;&nbsp;&nbsp;<i className=\"fa fa-map-marker\" />\n\t\t\t\t\t\t\t\t\t\t\t{event.location.street + \", \" + event.location.city + \" \" + event.location.state}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else return null;\n\t\t});\n\t}\n\n\tuserRSVP(event_id) {\n\t\tif (!this.props.user || !this.props.eventRSVPs) return null;\n\t\tconst RSVPs = this.props.eventRSVPs.filter(rsvp => { return (rsvp.attendee.id === this.props.user.id && rsvp.event.id === event_id) })\n\t\tif (RSVPs.length < 1) return null;\n\t\treturn RSVPs[0];\n\t}\n\n\t/**\n\t * checks if a two dates are on the same day ignoring time\n\t * @param  someDate\n\t */\n\tsameDay(someDate, someOtherDate) {\n\t\treturn someDate.getDate() === someOtherDate.getDate() &&\n\t\t\tsomeDate.getMonth() === someOtherDate.getMonth() &&\n\t\t\tsomeDate.getFullYear() === someOtherDate.getFullYear()\n\t}\n\t/**\n\t * changes the start date to the date chosen by the date selector\n\t * also removes checks from the radio buttons all and upcoming\n* @param {*} newdate\n\t\t\t*/\n\tselectStartDate(newdate) {\n\t\tthis.setState({\n\t\t\tstartDate: newdate\n\t\t});\n\t\tif (this.state.endDate) { //if the end date is smaller than the start date, remove the end date\n\t\t\tif (newdate > this.state.endDate) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tendDate: null\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tdocument.getElementById('show-all-button').checked = false;\n\t\tdocument.getElementById('show-upcoming-button').checked = false;\n\t}\n\t/**\n\t * changes the end date to the date chosen by the date selector\n\t * also removes checks from the radio buttons all and upcoming\n* @param {*} newdate\n\t\t\t\t\t*/\n\tselectEndDate(newdate) {\n\t\tthis.setState({\n\t\t\tendDate: newdate\n\t\t});\n\t\tdocument.getElementById('show-all-button').checked = false;\n\t\tdocument.getElementById('show-upcoming-button').checked = false;\n\t}\n\n\t/**\n\t * checks the filters in the sidebar to see if an event should render or not\n* @param {*} event\n\t\t\t*/\n\tshouldRender(event) {\n\t\tvar date = new Date(event.start_date_and_time);\n\t\tvar endDate = new Date(event.end_date_and_time);\n\n\t\tif (!(this.searchFits(event.name) || this.searchFits(event.description)))\n\t\t\treturn false;\n\t\tif (!this.showButtonFits(date, endDate))\n\t\t\treturn false;\n\t\tif (!this.dateFits(date, endDate))\n\t\t\treturn false;\n\n\t\tvar tagSet = new Set(); //create a set of the action's tag ids\n\t\tevent.tags.forEach(tag => {\n\t\t\ttagSet.add(tag.id);\n\t\t});\n\t\tfor (var i in this.props.tagsCols) {\n\t\t\tvar filter = this.props.tagCols[i]; //if any filter does not fit, return false\n\t\t\tif (!this.filterFits(filter.tags, tagSet)) { //only one tag in a filter collection needs to fit to make the filter fit\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t//checks if the value of the search bar is in the title of the action\n\tsearchFits(string) {\n\t\tvar searchbar = document.getElementById('action-searchbar');\n\t\tif (!searchbar) //if cant find the search bar just render everything\n\t\t\treturn true;\n\t\tif (searchbar.value === '')\n\t\t\treturn true;\n\t\tif ((string.toLowerCase()).includes((searchbar.value.toLowerCase())))\n\t\t\treturn true;\n\n\t\treturn false;\n\t}\n\tshowButtonFits(date, endDate) {\n\t\tvar now = new Date();\n\t\tvar showAll = document.getElementById('show-all-button');\n\t\tvar showUpcoming = document.getElementById('show-upcoming-button');\n\t\tif (!showAll || !showUpcoming)\n\t\t\treturn true; //if can't find the buttons they haven't rendered yet, just default true\n\t\tif ((!showUpcoming.checked && !showAll.checked) || showAll.checked)\n\t\t\treturn true;\n\t\telse if (showUpcoming.checked)\n\t\t\treturn (date - now > 0 || endDate - now > 0);\n\t\treturn false;\n\t}\n\tdateFits(startDate, endDate) {\n\t\tif (!this.state.startDate && !this.state.endDate)\n\t\t\treturn true;\n\t\tif (!this.state.endDate)\n\t\t\treturn startDate >= this.state.startDate;\n\t\tif (!this.state.startDate)\n\t\t\treturn endDate <= this.state.endDate.setHours(23, 59, 59, 99);\n\t\treturn endDate >= this.state.startDate && endDate <= this.state.endDate.setHours(23, 59, 59, 99)\n\t}\n\t//checks if any of the options are checked off in the filter\n\t//takes in the the filter and the actions' options for that filter\n\tfilterFits(filtertags, tagSet) {\n\t\tvar noFilter = true; //go through the filters and check if any of them fit or if none are checked\n\t\tfor (var i in filtertags) {\n\t\t\tvar checkbox = document.getElementById(\"filtertag\" + filtertags[i].id);\n\t\t\tif (checkbox && checkbox.checked) {\n\t\t\t\tnoFilter = false;\n\t\t\t\tif (tagSet.has(filtertags[i].id))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn noFilter;\n\t}\n\n\trenderCategoryFilter = ()=>{\n\t\tif(!this.state.events_search_toggled) return <div></div>;\n\t\telse{\n\t\t\treturn (\n\t\t\t\t<div >\n\t\t\t\t\t\t<div className=\"tabs-outer\">\n\t\t\t\t\t\t\t{/* <!--Tabs Box--> */}\n\t\t\t\t\t\t\t<div className=\"tabs-box tabs-style-one\">\n\t\t\t\t\t\t\t\t{/* <!--Tab Buttons--> */}\n\t\t\t\t\t\t\t\t<form className=\"tab-buttons\">\n\t\t\t\t\t\t\t\t\t<div className=\"tab-btn\"><input type=\"radio\" name=\"tabs\" id=\"show-all-button\" defaultChecked onClick={this.resetDates} /> All</div>\n\t\t\t\t\t\t\t\t\t<div className=\"tab-btn\"><input type=\"radio\" name=\"tabs\" id=\"show-upcoming-button\" onClick={this.resetDates} /> Upcoming</div>\n\t\t\t\t\t\t\t\t</form>\n\n\t\t\t\t\t\t\t\t{/* <!--Tabs Content--> */}\n\t\t\t\t\t\t\t\t<div className=\"tabs-content\">\n\t\t\t\t\t\t\t\t\t{/* <!--Tab / Active Tab--> */}\n\t\t\t\t\t\t\t\t\t<div className=\"tab active-tab\" id=\"tab-two\" style={{ display: 'block' }}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"default-form-area all\">\n\t\t\t\t\t\t\t\t\t\t\t{/* <form id=\"contact-form\" name=\"contact_form\" className=\"default-form style-5\" action=\"inc/sendmail.php\" method=\"post\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"clearfix\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFind events between:\n                                                </p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectsStart\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartDate={this.state.startDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tendDate={this.state.endDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectStartDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholderText=\"Enter a starting date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectsEnd\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartDate={this.state.startDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tendDate={this.state.endDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectEndDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tminDate={this.state.startDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholderText=\"Enter an ending date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</form> */}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<SideBar\n\t\t\t\t\t\t\ttagCols={this.props.tagCols}\n\t\t\t\t\t\t\tonChange={this.handleChange} //runs when any category is selected or unselected\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\ttoggleFilter = () => {\n\t\tvar prev = this.state.events_search_toggled;\n\t\tthis.setState({events_search_toggled: !prev});\n\t}\n\trenderSideBar() {\n\t\treturn (\n\t\t\t<div className=\"blog-sidebar sec-padd\">\n\t\t\t\t<div className=\"event-filter\">\n\t\t\t\t\t<div className=\"section-title style-2\">\n\t\t\t\t\t\t<div className=\"sidebar_search\" style={{ margin: 0 }}>\n\t\t\t\t\t\t\t<form action=\"#\">\n\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Search....\" id='action-searchbar' />\n\t\t\t\t\t\t\t\t<button className=\"tran3s color1_bg\" ><i className=\"fa fa-search\" aria-hidden=\"true\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"toggle-filter-button\" onClick = {()=>{this.toggleFilter()}}>Event Filter</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.renderCategoryFilter()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\thandleChange() {\n\t\tthis.forceUpdate();\n\t}\n\tresetDates() {\n\t\tthis.setState({\n\t\t\tendDate: null,\n\t\t\tstartDate: null,\n\t\t});\n\t\tthis.forceUpdate();\n\t}\n\n}\n\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tauth: store.firebase.auth,\n\t\tuser: store.user.info,\n\t\tevents: store.page.events,\n\t\teventRSVPs: store.page.rsvps,\n\t\tlinks: store.links,\n\t\ttagCols: store.page.tagCols ? store.page.tagCols.filter(col => { return col.name === 'Category' }) : null\n\t}\n}\nexport default connect(mapStoreToProps, null)(EventsPage);","import React from 'react'\nimport LoadingCircle from '../../Shared/LoadingCircle'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nclass OneEventPage extends React.Component {\n    /**\n    * renders a single event from the passes id prop \n    */\n    render() {\n        if (!this.props.events) return <LoadingCircle />;\n\n        const event = this.props.events.filter(event => {\n            return event.id === Number(this.props.match.params.id)\n        })[0]\n        //avoids trying to render before the promise from the server is fulfilled\n        return (\n            <>\n                <BreadCrumbBar links={[{ link:this.props.links.events, name: 'Events' }, { name: `Event ${event.id}` }]} />\n                <div className=\"boxed_wrapper\" style={{marginTop:50}}>\n                    <section className=\"shop-single-area\">\n                        <div className=\"container\">\n                            <div className=\"single-products-details\">\n                                {this.renderEvent(event)}\n                            </div>\n                        </div>\n                    </section>\n                </div>\n            </>\n        );\n    }\n\n    renderEvent(event) {\n        if (!event) return (<div> ...oops couldn't find event with id: {this.props.match.params.id}</div>);\n        const date = new Date(event.start_date_and_time);\n        const endDate = new Date(event.end_date_and_time);\n        return (\n            <section className=\"event-section style-3\">\n                <div className=\"container\">\n                    <div className=\"single-event sec-padd\">\n                        <div className=\"row\">\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"img-box\">\n                                    <img src={event.image ? event.image.url : null} alt=\"\" />\n                                </div>\n                            </div>\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"text\">\n                                    <h3 className=\"cool-font\">{event.name}</h3>\n                                    <p className=\"cool-font\">{event.description}</p>\n                                    <br />\n                                    <p className=\"cool-font\">{event.moreinfo}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"content\">\n                            <div className=\"row\">\n\n                                <div className=\"col-md-6 col-sm-6 col-xs-12\">\n                                    <div className=\"event-timeline\">\n                                        <div className=\"section-title style-2\">\n                                            <h3>Event Schedule</h3>\n                                        </div>\n                                        <ul>\n                                            <li key='time'><i className=\"fa fa-clock-o\"></i><b>Date:</b>{date.toLocaleString()}\n                                                <b> - </b>{endDate.toLocaleString()}\n                                            </li>\n                                            {event.location ?\n                                                <li>\n                                                    <i className=\"fa fa-map-marker\" />\n                                                    <b>Venue:</b> {event.location.street + \", \" + event.location.city + \" \" + event.location.state}\n                                                </li>\n                                                :\n                                                null\n                                            }\n                                        </ul>\n                                    </div>\n                                </div>\n                                {event.details ?\n                                    <div className=\"col-md-6 col-sm-6 col-xs-12\">\n                                        <div className=\"section-title style-2\">\n                                            <h3>Event Details</h3>\n                                        </div>\n\n                                        <ul className=\"list2\">\n                                            {this.renderDetails(event.details)}\n                                        </ul>\n                                    </div>\n                                    :\n                                    null\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        );\n    }\n    renderDetails(details) {\n        return Object.keys(details).map(key => {\n            return <li key={key}><i className=\"fa fa-check-circle\"></i>{details[key]}</li>\n        })\n    }\n}\nconst mapStoreToProps = (store) => {\n    return {\n        auth: store.firebase.auth,\n        user: store.user.info,\n        events: store.page.events,\n        links: store.links\n    }\n}\nexport default connect(mapStoreToProps, null)(OneEventPage);","import React from 'react';\nimport {connect} from 'react-redux';\nimport { withFirebase } from 'react-redux-firebase';\nimport { reduxLogout } from '../../redux/actions/userActions';\n\n\nclass SignOutButton extends React.Component{\n    render(){\n        return(\n            //firebase prop from withFirebase higher component\n            <button className=\"thm-btn red\" type=\"button\" onClick={this.onClick}>\n                Sign Out\n            </button>\n        );\n    }\n    onClick = () => {\n        this.props.firebase.auth().signOut();\n        this.props.reduxLogout();\n    }\n}\n\nexport default connect(null, {reduxLogout})(withFirebase(SignOutButton));","import React from 'react'\nimport CountUp from 'react-countup'\n\nclass Counter extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state={\n            speed: 3000,\n            count: 0,\n\n        }\n    }\n\n    render() {\n        return (\n                <div className=\"item\">\n                    <br/><br/>\n                    <div className=\"icon\">\n                        <i className={this.props.icon}></i>\n                    </div>\n                    <div className=\"count-outer\">\n                        <CountUp end={this.props.end} duration={3}/>\n                    </div>\n                    <h4 className=\"counter-title\">{this.props.title}</h4>\n                </div>\n        );\n    }\n}\nexport default Counter;\n\n\n\n\n","import React from 'react';\nimport URLS from '../../../api/urls'\nimport { postJson } from '../../../api/functions'\n\n/********************************************************************/\n/**                        SUBSCRIBE FORM                          **/\n/********************************************************************/\nconst INITIAL_STATE = {\n    name: '',\n    unittype: 'RESIDENTIAL',\n    location: '',\n};\n\nclass AddingHouseholdForm extends React.Component {\n    constructor(props) {\n        super(props);\n        var address = '';\n        var city = '';\n        var state = 'MA';\n        if (props.location && props.location != '') {\n            var locationparts = props.location.split(', ')\n            address = locationparts[0];\n            city = locationparts[1];\n            state = locationparts[2];\n        }\n        this.state = {\n            name: props.name ? props.name : INITIAL_STATE.name,\n            unittype: props.unittype ? props.unittype : INITIAL_STATE.unittype,\n\n            address: address,\n            city: city,\n            state: state,\n        };\n\n        this.onChange = this.onChange.bind(this);\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.onSubmit} className='householdForm'>\n                <div className=\"col\">\n                    <p>Name <span className=\"text-danger\">*</span></p>\n                    <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.onChange} required />\n                </div>\n                <div className=\"col\">\n                    <p>Type</p>\n                    <div className=\"col-6 d-flex\">\n                        <input type='radio' name=\"unittype\" id=\"unit_residential\" value=\"RESIDENTIAL\" checked={this.state.unittype === 'RESIDENTIAL'} onChange={this.onChange} />\n                        <label htmlFor='unit_residential' className=\"ml-2\" value=\"unit_residential\">Residential</label>\n                    </div>\n                    <div className=\"col-6 d-flex\">\n                        <input type='radio' name=\"unittype\" id=\"unit_commercial\" value=\"COMMERCIAL\" checked={this.state.unittype === 'COMMERCIAL'} onChange={this.onChange} />\n                        <label htmlFor='unit_commercial' className=\"ml-2\" value=\"unit_commercial\">Commercial</label>\n                    </div>\n                </div>\n                <div className=\"col\">\n                    <p>Street Address</p>\n                    <input type=\"text\" name=\"address\" value={this.state.address ? this.state.address : \"\"} onChange={this.onChange} />\n                </div>\n                <div className=\"col\">\n                    <p>City / Town</p>\n                    <input type=\"text\" name=\"city\" value={this.state.city ? this.state.city : \"\"} onChange={this.onChange} />\n                </div>\n                <div className=\"col\">\n                    <p>State</p>\n                    <select value={this.state.state} onChange={event => this.setState({ state: event.target.value })}>\n                        <option value=\"\"  >--</option>\n                        <option value=\"AL\">Alabama</option>\n                        <option value=\"AK\">Alaska</option>\n                        <option value=\"AZ\">Arizona</option>\n                        <option value=\"AR\">Arkansas</option>\n                        <option value=\"CA\">California</option>\n                        <option value=\"CO\">Colorado</option>\n                        <option value=\"CT\">Connecticut</option>\n                        <option value=\"DE\">Delaware</option>\n                        <option value=\"DC\">Washington, D.C.</option>\n                        <option value=\"FL\">Florida</option>\n                        <option value=\"GA\">Georgia</option>\n                        <option value=\"HI\">Hawaii</option>\n                        <option value=\"ID\">Idaho</option>\n                        <option value=\"IL\">Illinois</option>\n                        <option value=\"IN\">Indiana</option>\n                        <option value=\"IA\">Iowa</option>\n                        <option value=\"KS\">Kansas</option>\n                        <option value=\"KY\">Kentucky</option>\n                        <option value=\"LA\">Louisiana</option>\n                        <option value=\"ME\">Maine</option>\n                        <option value=\"MD\">Maryland</option>\n                        <option value=\"MA\">Massachusetts</option>\n                        <option value=\"MI\">Michigan</option>\n                        <option value=\"MN\">Minnesota</option>\n                        <option value=\"MS\">Mississippi</option>\n                        <option value=\"MO\">Missouri</option>\n                        <option value=\"MT\">Montana</option>\n                        <option value=\"NE\">Nebraska</option>\n                        <option value=\"NV\">Nevada</option>\n                        <option value=\"NH\">New Hampshire</option>\n                        <option value=\"NJ\">New Jersey</option>\n                        <option value=\"NM\">New Mexico</option>\n                        <option value=\"NY\">New York</option>\n                        <option value=\"NC\">North Carolina</option>\n                        <option value=\"ND\">North Dakota</option>\n                        <option value=\"OH\">Ohio</option>\n                        <option value=\"OK\">Oklahoma</option>\n                        <option value=\"OR\">Oregon</option>\n                        <option value=\"PA\">Pennsylvania</option>\n                        <option value=\"RI\">Rhode Island</option>\n                        <option value=\"SC\">South Carolina</option>\n                        <option value=\"SD\">South Dakota</option>\n                        <option value=\"TN\">Tennessee</option>\n                        <option value=\"TX\">Texas</option>\n                        <option value=\"UT\">Utah</option>\n                        <option value=\"VT\">Vermont</option>\n                        <option value=\"VA\">Virginia</option>\n                        <option value=\"WA\">Washington</option>\n                        <option value=\"WV\">West Virginia</option>\n                        <option value=\"WI\">Wisconsin</option>\n                        <option value=\"WY\">Wyoming</option>\n                    </select>\n                </div>\n                <div className=\"col p-0\">\n                    <button className=\"thm-btn bg-cl-1\" type=\"submit\" style={{ width: '99%' }}>{!this.props.householdID ? \"Add household\" : \"Submit Changes\"}</button>\n                </div>\n            </form>\n        );\n    }\n\n    //updates the state when form elements are changed\n    onChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: null\n        });\n        console.log(this.state.unittype)\n    };\n\n    onSubmit = (event) => {\n        event.preventDefault();\n        const location = this.state.address + ', ' + this.state.city + ', ' + this.state.state;\n        const body = {\n            \"name\": this.state.name,\n            \"unit_type\": this.state.unittype,\n            \"location\": location\n        }\n        var postURL = URLS.USER + \"/\" + this.props.user.id + \"/households\";\n        if (this.props.householdID) {\n            postURL = URLS.HOUSEHOLD + \"/\" + this.props.householdID;\n        }\n        /** Collects the form data and sends it to the backend */\n        postJson(postURL, body).then(json => {\n            console.log(json);\n            if (json.success) {\n                if (!this.props.householdID) {\n                    this.props.addHousehold(json.data);\n                    postJson(URLS.USER + \"/\" + this.props.user.id, {\"real_estate_units\": json.data.id}).then(json=> {\n                        if (json.success) this.props.closeForm();\n                    });\n                } else {\n                    this.props.editHousehold(json.data);\n                    this.props.closeForm();\n                }\n            }\n        }).catch(error => {\n            console.log(error);\n        })\n    }\n}\n\n\n//composes the login form by using higher order components to make it have routing and firebase capabilities\nexport default AddingHouseholdForm;\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { reduxLogin } from '../../../redux/actions/userActions'\nimport URLS from '../../../api/urls'\nimport { postJson } from '../../../api/functions'\n\n\n/********************************************************************/\n/**                        SUBSCRIBE FORM                          **/\n/********************************************************************/\n\n\nclass EditingProfileForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            full_name: props.full_name ? props.full_name : '',\n            preferred_name: props.preferred_name ? props.preferred_name : '',\n            delete_account: false,\n            change_password: false,\n            are_you_sure: false,\n        };\n\n        this.onChange = this.onChange.bind(this);\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.onSubmit}>\n                {this.state.error? \n                <p className='text-danger'>{this.state.error}</p> : null\n            }\n                <input type=\"text\" name=\"full_name\" value={this.state.full_name} onChange={this.onChange} required />\n                <p>Full Name <span className=\"text-danger\" >*</span></p>\n\n                <input type=\"text\" name=\"preferred_name\" value={this.state.preferred_name} onChange={this.onChange} required />\n                <p>Preferred Name <span className=\"text-danger\">*</span></p>\n                <button className=\"thm-btn bg-cl-1\" type=\"submit\">{\"Submit\"}</button>\n                <button className=\"thm-btn red\" type='button' onClick={() => this.props.closeForm()}> Cancel </button>\n            </form>\n        );\n    }\n\n    //updates the state when form elements are changed\n    onChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: null\n        });\n        console.log(this.state.unittype)\n    };\n\n    onSubmit = (event) => {\n        event.preventDefault();\n        if (this.state.delete_account && this.state.are_you_sure) {\n            this.deleteAccount();\n        } else {\n            const body = {\n                \"full_name\": this.state.full_name,\n                \"preferred_name\": this.state.preferred_name,\n            }\n            var postURL = URLS.USER + \"/\" + this.props.user.id;\n            /** Collects the form data and sends it to the backend */\n            postJson(postURL, body).then(json => {\n                console.log(json);\n                if (json.success && json.data) {\n                    this.props.reduxLogin(json.data);\n                    this.props.closeForm();\n                }\n            }).catch(error => {\n                console.log(error);\n            })\n        }\n    }\n    deleteAccount(){\n        this.setState({error: \"Sorry, we don't support deleting accounts yet\"});\n    }\n}\n\n\nconst mapStoreToProps = store => {\n    return {\n        user: store.user.info,\n        auth: store.firebase.auth\n    }\n}\nexport default connect(mapStoreToProps, { reduxLogin })(EditingProfileForm);\n\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n//import Tooltip from '../Shared/Tooltip'\nimport { connect } from 'react-redux'\nimport { reduxMoveToDone, reduxRemoveFromTodo, reduxRemoveFromDone } from '../../../redux/actions/userActions'\nimport { reduxChangeData, reduxTeamAddAction, reduxTeamRemoveAction } from '../../../redux/actions/pageActions'\n//import URLS from '../../api/urls'\n//import { postJson, deleteJson } from '../../api/functions'\nimport RSVPForm from '../EventsPage/RSVPForm';\n\n/**\n * Cart component\n * renders a list of actions\n * @props title\n *      action list: title, image, id\n * \n */\nclass EventCart extends React.Component {\n    render() {\n        return (\n            // <!--Cart Outer-->\n            <div className=\"cart-outer mb-5\">\n                <h3 className=\"center m-0\">{this.props.title}</h3>\n                <div className=\"table-outer\">\n                    <table className=\"cart-table\" style={{ width: '100%' }}>\n                        {this.props.info ?\n                            <thead className='cart-header'>\n                                <tr>\n                                    <th>Event</th>\n                                    <th>Date</th>\n                                    <th>Time</th>\n                                    <th>Location</th>\n                                    <th>Status</th>\n                                </tr>\n                            </thead>\n                            : null}\n                        <tbody>\n                            {this.props.info ? this.renderEventsMoreInfo(this.props.eventRSVPs) : this.renderEvents(this.props.eventRSVPs)}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    }\n    renderEvents(eventRSVPs) {\n        if (!eventRSVPs || eventRSVPs.length <= 0) {\n            return (\n                <tr key=\"1\"><td colSpan=\"100%\"><p className=\"m-0 p-2 w-100 text-center\">Nothing here, yet! See all <Link to={this.props.links.events}> events </Link></p></td></tr>\n            );\n        }\n        //returns a list of action components\n        return Object.keys(eventRSVPs).map(key => {\n            var rsvp = eventRSVPs[key];\n            var event = rsvp.event;\n            var date = new Date(event.start_date_and_time)\n            return (\n                <tr key={key}>\n                    {/* <td colSpan=\"2\" className=\"prod-column\">\n                        <img className=\"thumbnail\" src={action.image? action.image.url : null} alt=\"\" />\n                    </td> */}\n                    <td>\n                        <div className=\"column-box\">\n                            <Link to={`${this.props.links.events}/${event.id}`}>\n                                <h5> {event.name}</h5>\n                            </Link>\n                        </div>\n                    </td>\n                    <td>\n                        <div className=\"column-box\">\n                                <p> {event.location? `${event.location.street}, ${event.location.city}`: null}</p>\n                                <p> {date? date.toLocaleDateString() : null}</p>\n                        </div>\n                    </td>\n                    <td>\n                        <div className=\"column-box\">\n                            <RSVPForm \n                            noText={true}\n                            eventid={event.id}\n                            userid={this.props.user.id}\n                            //value={this.userRSVPvalue(event.id)}\n                            rsvp={rsvp}/>\n                        </div>\n                    </td>\n                </tr>\n            );\n        });\n    }\n\n    renderEventsMoreInfo(eventRSVPs) {\n        if (!eventRSVPs || eventRSVPs.length <= 0) {\n            return (\n                <tr key=\"1\"><td colSpan=\"100%\"><p className=\"m-0 p-2 w-100 text-center\">Nothing here, yet! See all <Link to={this.props.links.events}> events </Link></p></td></tr>\n            );\n        }\n        //returns a list of action components\n        return Object.keys(eventRSVPs).map(key => {\n            var rsvp = eventRSVPs[key];\n            var event = rsvp.event;\n            var startdate = new Date(event.start_date_and_time);\n            var enddate = new Date(event.end_date_and_time);\n            return (\n                <tr key={key}>\n                    <td>\n                        <div className=\"column-box\">\n                            <h4>{event.name}</h4>\n                        </div>\n                    </td>\n                    <td className=\"prod-column\">\n                        <div className=\"column-box\">\n                            <p>{this.sameDay(startdate, enddate)? startdate.toLocaleDateString() : startdate.toLocaleDateString() + ' - ' + enddate.toLocaleDateString()}</p>\n                        </div>\n                    </td>\n                    <td className=\"prod-column\">\n                        <div className=\"column-box\">\n                            <p>{this.sameDay(startdate, enddate)? startdate.toLocaleTimeString()+' - '+enddate.toLocaleTimeString() : startdate.toLocaleTimeString()}</p>\n                        </div>\n                    </td>\n                    <td className=\"prod-column\">\n                        <div className=\"column-box\">\n                            <p>{event.location? `${event.location.street}, ${event.location.city}`: null}</p>\n                        </div>\n                    </td>\n                    <td className=\"prod-column\">\n                        <div className=\"column-box\">\n                            <p> {rsvp.status} </p>\n                        </div>\n                    </td>\n                </tr>\n            );\n        });\n    }\n\n    sameDay = (someDate, someOtherDate) => {\n        return someDate.getDate() === someOtherDate.getDate() &&\n            someDate.getMonth() === someOtherDate.getMonth() &&\n            someDate.getFullYear() === someOtherDate.getFullYear()\n    }\n}\nconst mapStoreToProps = (store) => {\n    return {\n        user: store.user.info,\n        todo: store.user.todo,\n        done: store.user.done,\n        communityData: store.page.communityData,\n        links: store.links,\n    }\n}\n\nconst mapDispatchToProps = {\n    reduxMoveToDone, reduxRemoveFromTodo, reduxRemoveFromDone, reduxChangeData, reduxTeamAddAction, reduxTeamRemoveAction\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(EventCart);","import React from 'react';\nimport URLS from '../../../api/urls'\nimport { postJson } from '../../../api/functions'\nimport { connect } from 'react-redux'\nimport { reduxLoadUserCommunities } from '../../../redux/actions/userActions'\n\nclass JoiningCommunityForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: '--'\n        };\n\n        this.onChange = this.onChange.bind(this);\n    }\n\n    render() {\n        return (\n            <>\n                <h6 style={{ display: 'inline-block' }}> Community </h6>\n                &nbsp;\n                <select value={this.state.value} onChange={this.onChange}>\n                    <option value='--'>--</option>\n                    {Object.keys(this.props.communities).map(key => {\n                        const community = this.props.communities[key];\n                        if(this.props.user.communities.filter(com => {return com.id === community.id}).length === 0)\n                            return <option key={key} value={community.id}>{community.name}</option>\n                        return null;\n                    })}\n                </select>\n                <button className='thm-btn' style= {{width:'99%'}} onClick={this.onSubmit}>Join</button>\n                <button className=\"thm-btn\" style= {{width:'99%'}} onClick={this.props.closeForm}>Cancel</button>\n            </>\n        );\n    }\n\n    //updates the state when form elements are changed\n    onChange(event) {\n        const oldvalue = this.state.value;\n        this.setState({\n            value: event.target.value,\n        });\n    };\n\n    onSubmit = () => {\n        if (this.state.value !== '--') {\n            const body = {\n                \"communities\": this.state.value,\n            }\n            var postURL = URLS.USER + \"/\" + this.props.user.id;\n            /** Collects the form data and sends it to the backend */\n            postJson(postURL, body).then(json => {\n                console.log(json);\n                if (json.success) {\n                    this.props.reduxLoadUserCommunities(json.data.communities);\n                    this.props.closeForm();\n                }\n            }).catch(error => {\n                console.log(error);\n            })\n        }\n    }\n}\n\n\nconst mapStoreToProps = store => {\n    return {\n        communities: store.page.communities,\n        user: store.user.info\n    }\n}\nconst mapDispatchToProps = { reduxLoadUserCommunities }\n//composes the login form by using higher order components to make it have routing and firebase capabilities\nexport default connect(mapStoreToProps, mapDispatchToProps)(JoiningCommunityForm);\n\n\n","import React from 'react'\nimport ReactToPrint from 'react-to-print'\nimport { connect } from 'react-redux'\nimport logo from '../../logo.svg'\n\n\nimport Cart from './Cart';\nimport EventCart from '../Pages/ProfilePage/EventCart'\n\nclass ComponentToPrint extends React.Component {\n    render() {\n        return (\n            <div style={{padding: \"30px\"}}>\n                <img src={logo} style={{width: \"50%\", margin:\"auto\", display:\"block\", paddingBottom:\"20px\"}}></img>\n                <Cart title=\"To Do List\" actionRels={this.props.todo} status=\"TODO\" info={true}/>\n                <Cart title=\"Completed Actions\" actionRels={this.props.done} status=\"DONE\" info={true}/>\n                {this.props.rsvps?\n                <EventCart title=\"Event RSVPs\" eventRSVPs={this.props.rsvps.filter(rsvp => rsvp.attendee && rsvp.attendee.id === this.props.user.id)} info={true}/>\n                :null\n                } \n            </div>\n        );\n    }\n}\n\nclass PrintCart extends React.Component {\n    render() {\n        return (\n            <div>\n                <ComponentToPrint ref={el => (this.componentRef = el)} todo={this.props.todo} done={this.props.done} rsvps={this.props.rsvps} user={this.props.user}/>\n                <ReactToPrint\n                    content={() => this.componentRef}\n                    trigger={() => <button className='thm-btn'> <i className=\"fa fa-print\"/> Print your Actions</button>}\n                />\n            </div>\n        );\n    }\n}\n\nconst mapStoreToProps = (store) => {\n    return {\n        todo: store.user.todo,\n        done: store.user.done,\n        rsvps: store.page.rsvps,\n        user: store.user.info,\n    }\n}\nexport default connect(mapStoreToProps)(PrintCart)","import React from 'react';\nimport { connect } from 'react-redux'\nimport { reduxLogin, reduxLogout } from '../../../redux/actions/userActions'\nimport URLS from '../../../api/urls'\nimport { postJson, deleteJson } from '../../../api/functions'\nimport { compose } from 'recompose'\nimport { withFirebase } from 'react-redux-firebase'\nimport { facebookProvider, googleProvider } from '../../../config/firebaseConfig';\n\n\nclass DeleteAccountFormBase extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            are_you_sure: false,\n            password: '',\n        };\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.onSubmit}>\n                <p> Are you sure you want to delete your account? </p>\n                {this.getProvider() === 'email_and_password' ?\n                    <>\n                        <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.onChange} required />\n                        <p>Password <span className=\"text-danger\">*</span></p>\n                    </>\n                    : null\n                }\n                <input\n                    type=\"radio\"\n                    id=\"yes_im_sure\"\n                    checked={this.state.are_you_sure}\n                    onChange={() => this.setState({ are_you_sure: !this.state.are_you_sure })}\n                    style={{ display: \"inline-block\" }}\n                />\n                <label htmlFor=\"yes_im_sure\" style={{ display: \"inline-block\" }}> Yes </label>\n                &nbsp;\n                <input\n                    type=\"radio\"\n                    id=\"nope_not_sure\"\n                    checked={!this.state.are_you_sure}\n                    onChange={() => this.setState({ are_you_sure: !this.state.are_you_sure })}\n                    style={{ display: \"inline-block\" }}\n                />\n                <label htmlFor=\"nope_not_sure\" style={{ display: \"inline-block\" }}> No</label>\n                <br />\n                <button className=\"thm-btn bg-cl-1\" type=\"submit\">{\"Submit\"}</button>\n                <button className=\"thm-btn red\" type='button' onClick={() => this.props.closeForm()}> Cancel </button>\n            </form>\n        );\n    }\n    onChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: null\n        });\n        console.log(this.state.unittype)\n    };\n\n    onSubmit = (event) => {\n        event.preventDefault();\n        if (this.state.are_you_sure) {\n            this.deleteAccount();\n        } else {\n            this.props.closeForm();\n        }\n    }\n    deleteAccount() {\n        const provider = this.getProvider();\n        if (provider === 'email_and_password') {\n            var cred = this.props.firebase.auth.EmailAuthProvider.credential(\n                this.props.user.email, this.state.password\n            );\n            this.props.firebase.auth().currentUser.reauthenticateWithCredential(cred).then(() => {\n                this.props.firebase.auth().currentUser.delete().then(() => {\n                    deleteJson(`${URLS.USER}/${this.props.user.id}`).then(json => {\n                        console.log(json)\n                        this.props.firebase.auth().signOut();\n                        this.props.reduxLogout();\n                    })\n                });\n            })\n        } else if (provider === 'google') {\n            //this.setState({ error: 'Sorry, deleting accounts that use google sign in is not yet supported' });\n            this.props.firebase.auth().signInWithPopup(googleProvider).then(() => {\n                this.props.firebase.auth().currentUser.delete().then(() => {\n                    deleteJson(`${URLS.USER}/${this.props.user.id}`).then(json => {\n                        console.log(json)\n                        this.props.firebase.auth().signOut();\n                        this.props.reduxLogout();\n                    })\n                }).catch(err => {\n                    this.setState({error: err.message});\n                });\n            })\n            return;\n        } else if (provider === 'facebook') {\n            //this.setState({ error: 'Sorry, deleting accounts that use facebook sign in is not yet supported' });\n            this.props.firebase.auth().signInWithPopup(facebookProvider).then(() => {\n                this.props.firebase.auth().currentUser.delete().then(() => {\n                    deleteJson(`${URLS.USER}/${this.props.user.id}`).then(json => {\n                        console.log(json)\n                        this.props.firebase.auth().signOut();\n                        this.props.reduxLogout();\n                    })\n                }).catch(err => {\n                    this.setState({error: err.message});\n                });\n            })\n            return;\n        } else {\n            this.setState({ error: 'Unknown authorization provider. Unable to delete account' });\n            return;\n        }\n    }\n\n    getProvider() {\n        if (this.props.auth && this.props.auth.providerData) {\n            //if (this.props.auth.providerData.length === 1) {\n                if (this.props.auth.providerData[0].providerId === 'password') {\n                    return 'email_and_password';\n                } else if (this.props.auth.providerData[0].providerId.toLowerCase().indexOf('google') > -1) {\n                    return 'google';\n                } else if (this.props.auth.providerData[0].providerId.toLowerCase().indexOf('facebook') > -1) {\n                    return 'facebook';\n                }\n            //}\n        }\n        return null;\n    }\n\n}\n\nconst DeleteAccountForm = compose(\n    withFirebase,\n)(DeleteAccountFormBase);\n\n\nconst mapStoreToProps = store => {\n    return {\n        user: store.user.info,\n        auth: store.firebase.auth\n    }\n}\nexport default connect(mapStoreToProps, { reduxLogin, reduxLogout })(DeleteAccountForm);\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { reduxLogin } from '../../../redux/actions/userActions'\nimport { compose } from 'recompose'\nimport { withFirebase } from 'react-redux-firebase'\nimport URLS from '../../../api/urls'\nimport { postJson } from '../../../api/functions'\nimport Tooltip from '../../Shared/Tooltip';\nimport { isThisSecond } from 'date-fns';\n\n\nclass ChangePasswordFormBase extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            old_password: null,\n            password1: null,\n            password2: null\n        };\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.onSubmit}>\n                {this.state.error ?\n                    <p className='text-danger'>{this.state.error}</p> : null\n                }\n                <input type=\"password\" name=\"old_password\" value={this.state.old_password} onChange={this.onChange} required />\n                <p>Old Password <span className=\"text-danger\" >*</span></p>\n\n                <input type=\"password\" name=\"password1\" value={this.state.password1} onChange={this.onChange} required />\n                <Tooltip text='Re-type your new password to confirm it. Passwords must match' >\n                    <input type=\"password\" name=\"password2\" value={this.state.password2} onChange={this.onChange} required />\n                </Tooltip>\n\n                <p>New Password <span className=\"text-danger\">*</span></p>\n                <button className=\"thm-btn bg-cl-1\" type=\"submit\">{\"Submit\"}</button>\n                <button className=\"thm-btn red\" type='button' onClick={() => this.props.closeForm()}> Cancel </button>\n            </form>\n        );\n    }\n\n    onChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: null\n        });\n        console.log(this.state.unittype)\n    };\n\n    onSubmit = (event) => {\n        event.preventDefault();\n        \n        if(this.state.password1 !== this.state.password2) {\n            this.setState({error: 'New Passwords Must Match'});\n        }else{\n            var cred = this.props.firebase.auth.EmailAuthProvider.credential(\n                this.props.user.email, this.state.old_password\n            );\n            this.props.firebase.auth().currentUser.reauthenticateWithCredential(cred).then(() => {\n                this.props.firebase.auth().currentUser.updatePassword(this.state.password1).then(() => {\n                    this.props.closeForm('Thank you, your password has been changed')\n                }).catch(err => {\n                    this.setState({ error: err.message? err.message : err });\n                })\n            }).catch(err => {\n                this.setState({ error: err.message? err.message : err });\n            })\n        }\n    }\n}\n\nconst ChangePasswordForm = compose(\n    withFirebase,\n)(ChangePasswordFormBase);\n\nconst mapStoreToProps = store => {\n    return {\n        user: store.user.info,\n        auth: store.firebase.auth\n    }\n}\nexport default connect(mapStoreToProps, { reduxLogin })(ChangePasswordForm);\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { reduxLogin } from '../../../redux/actions/userActions'\nimport { compose } from 'recompose'\nimport { withFirebase } from 'react-redux-firebase'\nimport URLS from '../../../api/urls'\nimport { postJson } from '../../../api/functions'\n\n\nclass ChangeEmailFormBase extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            are_you_sure: false,\n        };\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.onSubmit}>\n                {this.state.error ?\n                    <p className='text-danger'>{this.state.error}</p> : null\n                }\n                <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.onChange} required />\n                <p>New Email <span className=\"text-danger\" >*</span></p>\n\n                <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.onChange} required />\n                <p>Password <span className=\"text-danger\">*</span></p>\n                <button className=\"thm-btn bg-cl-1\" type=\"submit\">{\"Submit\"}</button>\n                <button className=\"thm-btn red\" type='button' onClick={() => this.props.closeForm()}> Cancel </button>\n            </form>\n        );\n    }\n    onChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: null\n        });\n        console.log(this.state.unittype)\n    };\n\n    onSubmit = (event) => {\n        event.preventDefault();\n\n        var cred = this.props.firebase.auth.EmailAuthProvider.credential(\n            this.props.user.email, this.state.password\n        );\n        this.props.firebase.auth().currentUser.reauthenticateWithCredential(cred).then(() => {\n            this.props.firebase.auth().currentUser.updateEmail(this.state.email).then(() => {\n                this.props.firebase.auth().currentUser.sendEmailVerification().then(() => console.log('email sent'));\n                postJson(`${URLS.USER}/${this.props.user.id}`, {email: this.state.email}).then(response =>{\n                    console.log(response);\n                });\n                this.props.closeForm('Thank you, your email has been changed. Please check your inbox to verify your new email');\n            }).catch(err => {\n                this.setState({ error: err.message? err.message : err });\n            })\n        }).catch(err => {\n            this.setState({ error: err.message? err.message : err });\n        })\n    }\n    deleteAccount() {\n        this.setState({ error: \"Sorry, we don't support deleting accounts yet\" });\n    }\n}\n\nconst ChangeEmailForm = compose(\n    withFirebase,\n)(ChangeEmailFormBase);\n\nconst mapStoreToProps = store => {\n    return {\n        user: store.user.info,\n        auth: store.firebase.auth\n    }\n}\nexport default connect(mapStoreToProps, { reduxLogin })(ChangeEmailForm);\n\n\n\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link, Redirect } from 'react-router-dom'\n\n// import { threadId } from 'worker_threads'\nimport URLS from '../../../api/urls'\nimport { postJson, deleteJson } from '../../../api/functions'\n\nimport SignOutButton from '../../Shared/SignOutButton'\nimport Cart from '../../Shared/Cart'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nimport Counter from './Counter'\nimport AddingHouseholdForm from './AddingHouseholdForm'\nimport EditingProfileForm from './EditingProfileForm'\nimport EventCart from './EventCart'\n\nimport {\n\treduxMoveToDone,\n\treduxAddHousehold,\n\treduxEditHousehold,\n\treduxRemoveHousehold,\n\treduxLeaveCommunity,\n\treduxLoadUserCommunities,\n\treduxLeaveTeam\n} from '../../../redux/actions/userActions'\nimport {\n\treduxChangeData,\n\treduxRemoveTeamMember,\n\treduxTeamRemoveHouse,\n\treduxTeamRemoveAction,\n\treduxTeamAddHouse\n} from '../../../redux/actions/pageActions'\n// import { watchFile } from 'fs';\nimport Tooltip from '../../Shared/Tooltip'\nimport JoiningCommunityForm from './JoiningCommunityForm';\nimport PrintCart from '../../Shared/PrintCart';\nimport DeleteAccountForm from './DeleteAccountForm';\nimport ChangePasswordForm from './ChangePasswordForm';\nimport ChangeEmailForm from './ChangeEmailForm';\nimport Dropdown from 'react-bootstrap/Dropdown';\n\nclass ProfilePage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloaded: false,\n\t\t\taddedHouse: false,\n\n\t\t\tselectedHousehold: null,\n\t\t\teditingHH: null,\n\n\t\t\tjoiningCom: false,\n\t\t\taddingHH: false,\n\t\t\teditingProfileForm: null,\n\n\t\t\tprinting: false,\n\n\t\t\tmessage: ''\n\t\t}\n\t}\n\n\trender() {\n\t\tif (!this.props.user)\n\t\t\treturn <Redirect to={this.props.links.signin}> </Redirect>\n\n\t\tif (this.props.user.households.length === 0 && !this.state.addedHouse) {\n\t\t\tthis.setState({ addedHouse: true });\n\t\t\tthis.addDefaultHousehold();\n\t\t}\n\t\tif (this.props.community) {\n\t\t\tif (this.props.user.communities.filter(com => { return com.id === this.props.community.id }).length === 0) {\n\t\t\t\tthis.addDefaultCommunity();\n\t\t\t}\n\t\t}\n\t\tconst { user } = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BreadCrumbBar links={[{ name: 'Profile' }]} />\n\t\t\t\t<div className='boxed_wrapper' onClick={this.clearError} style={{marginTop:80}}>\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t{this.state.printing ?\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<PrintCart />\n\t\t\t\t\t\t\t\t<button className='thm-btn text-center' onClick={() => this.setState({ printing: false })}> Cancel</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<div className=\"row\" style={{ paddingRight: \"0px\", marginRight: \"0px\" }}>\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6  col-12\">\n\t\t\t\t\t\t\t\t\t{this.renderForm(this.state.editingProfileForm)}\n\t\t\t\t\t\t\t\t\t<section className=\"fact-counter style-2 sec-padd\" >\n\t\t\t\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"counter-outer\" style={{ background: \"#333\", width: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row no-gutter\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"column counter-column col-lg-4 col-6 \">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Counter end={this.props.done ? this.props.done.length : 0} icon={\"icon-money\"} title={\"Actions Completed\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"column counter-column  d-lg-block d-none col-4 \">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Counter end={this.props.todo ? this.props.todo.length : 0} icon={\"icon-money\"} title={\"Actions To Do\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"column counter-column col-lg-4 col-6\"  >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Counter end={this.props.done ? this.props.done.length * 10 : 0} unit={\"tons\"} icon={\"icon-money\"} title={\"Tons of Carbon Saved\"} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</section>\n\n\t\t\t\t\t\t\t\t\t<table className=\"profile-table\" style={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th> Your Households </th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th />\n\t\t\t\t\t\t\t\t\t\t\t\t<th />\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t{this.renderHouseholds(user.households)}\n\t\t\t\t\t\t\t\t\t\t\t{!this.state.editingHH ?\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td colSpan={3}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.addingHH ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AddingHouseholdForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddHousehold={this.addHousehold}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcloseForm={() => this.setState({ addingHH: false })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"thm-btn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ addingHH: false })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '99%' }}>Cancel\n                                                                </button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"thm-btn\" onClick={() => this.setState({ addingHH: true, editingHH: null })}>If you have another household, let us know</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t{this.state.deletingHHError ?\n\t\t\t\t\t\t\t\t\t\t<p className='text-danger'> {this.state.deletingHHError}</p> : null\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<table className=\"profile-table\" style={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th> Your teams </th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t{this.renderTeams(user.teams)}\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td colSpan={2} align='center'><Link className=\"thm-btn\" to={this.props.links.teams} style={{ margin: '5px' }}>{this.props.user.teams.length > 0 ? 'Join another Team' : 'Join a Team!'}</Link></td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<table className=\"profile-table\" style={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th> Your Communities </th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t{this.renderCommunities(user.communities)}\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.joiningCom ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td colSpan={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<JoiningCommunityForm closeForm={() => this.setState({ joiningCom: false })} />\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td colSpan={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"thm-btn\" onClick={() => this.setState({ joiningCom: true })}>Join another Community</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t{this.state.leaveComError ?\n\t\t\t\t\t\t\t\t\t\t<p className='text-danger'> {this.state.leaveComError}</p> : null\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/* makes the todo and completed actions carts */}\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-12\" style={{ paddingRight: \"0px\", marginRight: \"0px\" }}>\n\n\t\t\t\t\t\t\t\t\t{/* <h3 className=\"col-12 text-right\">\n                                        <SignOutButton style={{ display: 'inline-block' }} />\n                                    </h3>\n                                    <br /> */}\n\t\t\t\t\t\t\t\t\t{this.props.todo ?\n\t\t\t\t\t\t\t\t\t\t<Cart title=\"To Do List\" actionRels={this.props.todo} status=\"TODO\" /> : null}\n\t\t\t\t\t\t\t\t\t{this.props.done ?\n\t\t\t\t\t\t\t\t\t\t<Cart title=\"Completed Actions\" actionRels={this.props.done} status=\"DONE\" /> : null}\n\t\t\t\t\t\t\t\t\t{this.props.rsvps ?\n\t\t\t\t\t\t\t\t\t\t<EventCart title=\"Event RSVPs\" eventRSVPs={this.props.rsvps.filter(rsvp => rsvp.attendee && rsvp.attendee.id === this.props.user.id)} /> : null}\n\t\t\t\t\t\t\t\t\t<button className='thm-btn text-center' onClick={() => this.setState({ printing: true })}> Summarize your actions</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\trenderForm = (form) => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h4>\n\t\t\t\t\t{this.props.user ?\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div style={{ display: 'inline-block' }}>\n\t\t\t\t\t\t    <span style={{ color: \"#8dc63f\" }}>Welcome</span> {this.props.user.preferred_name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\"Your Profile\"\n\t\t\t\t\t}\n\t\t\t\t\t<Dropdown onSelect={() => null} style={{ display: 'inline-block' }}>\n\t\t\t\t\t\t<Dropdown.Toggle style={{ color: '#aaa', background: 'white', border: 'white' }}></Dropdown.Toggle>\n\t\t\t\t\t\t<Dropdown.Menu style={{\n\t\t\t\t\t\t\tborderTop: \"5px solid #8dc63f\",\n\t\t\t\t\t\t\tborderRadius: \"0\",\n\t\t\t\t\t\t\tpadding: \"0\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Dropdown.Item onClick={() => this.setState({ editingProfileForm: 'edit' })}>Edit Profile</Dropdown.Item>\n\t\t\t\t\t\t\t{this.props.auth.providerData && this.props.auth.providerData.length === 1 && this.props.auth.providerData[0].providerId === 'password' ?\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item onClick={() => this.setState({ editingProfileForm: 'password' })}>Change Password</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item onClick={() => this.setState({ editingProfileForm: 'email' })}>Change Email</Dropdown.Item>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Dropdown.Item onClick={() => this.setState({ editingProfileForm: 'delete' })}>Delete Account</Dropdown.Item>\n\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t&nbsp;&nbsp;\n                </h4>\n\t\t\t\t<p> {this.state.message ? this.state.message : ''} </p>\n\t\t\t\t{form === 'edit' ?\n\t\t\t\t\t<EditingProfileForm\n\t\t\t\t\t\tfull_name={this.props.user.full_name}\n\t\t\t\t\t\tpreferred_name={this.props.user.preferred_name}\n\t\t\t\t\t\tcloseForm={(message = '') => this.setState({ editingProfileForm: null, message: message ? message : null })}\n\t\t\t\t\t/> : null\n\t\t\t\t}\n\t\t\t\t{form === 'delete' ?\n\t\t\t\t\t<DeleteAccountForm\n\t\t\t\t\t\tcloseForm={(message = '') => this.setState({ editingProfileForm: null, message: message ? message : null })}\n\t\t\t\t\t/> : null\n\t\t\t\t}\n\t\t\t\t{form === 'password' ?\n\t\t\t\t\t<ChangePasswordForm\n\t\t\t\t\t\tcloseForm={(message = '') => this.setState({ editingProfileForm: null, message: message ? message : null })}\n\t\t\t\t\t/> : null\n\t\t\t\t}\n\t\t\t\t{form === 'email' ?\n\t\t\t\t\t<ChangeEmailForm\n\t\t\t\t\t\tcloseForm={(message = '') => this.setState({ editingProfileForm: null, message: message ? message : null })}\n\t\t\t\t\t\temail={this.props.user.email}\n\t\t\t\t\t/> : null\n\t\t\t\t}\n\t\t\t</>\n\t\t);\n\t}\n\trenderCommunities(communities) {\n\t\tif (!communities) return <tr><td colSpan={2}>You haven't joined any communities yet</td></tr>;\n\t\treturn Object.keys(communities).map(key => {\n\t\t\tconst community = communities[key]\n\t\t\treturn (<tr key={key}>\n\t\t\t\t<td> <a href={`/${community.subdomain}`}> {community.name} </a></td>\n\t\t\t\t<td> <button className=\"remove-btn\" onClick={() => this.leaveCommunity(community)}> <i className=\"fa fa-trash\"></i></button> </td>\n\t\t\t</tr>\n\t\t\t);\n\t\t})\n\t}\n\trenderTeams(teams) {\n\t\tif (!teams) return null;\n\t\treturn Object.keys(teams).map(key => {\n\t\t\tconst team = teams[key]\n\t\t\treturn (<tr key={key}>\n\t\t\t\t<td>\n\t\t\t\t\t{team.name} &nbsp;\n                    <Tooltip title={team.name} text={team.description} dir=\"right\">\n\t\t\t\t\t\t<span className=\"fa fa-info-circle\" style={{ color: \"#428a36\" }}></span>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</td>\n\t\t\t\t<td> <button className=\"remove-btn\"> <i className=\"fa fa-trash\" onClick={() => this.leaveTeam(team)}></i></button> </td>\n\t\t\t</tr>\n\t\t\t);\n\t\t})\n\t}\n\trenderHouseholds(households) {\n\t\treturn Object.keys(households).map(key => {\n\t\t\tconst house = households[key]\n\t\t\tif (this.state.editingHH === house.id) {\n\t\t\t\treturn (\n\t\t\t\t\t<tr key={key}>\n\t\t\t\t\t\t<td colSpan={3}>\n\t\t\t\t\t\t\t<AddingHouseholdForm\n\t\t\t\t\t\t\t\thouseholdID={house.id}\n\t\t\t\t\t\t\t\tname={house.name}\n\t\t\t\t\t\t\t\tlocation={house.location}\n\t\t\t\t\t\t\t\tunittype={house.unit_type}\n\t\t\t\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\t\t\t\teditHousehold={this.editHousehold}\n\t\t\t\t\t\t\t\tcloseForm={() => this.setState({ editingHH: null })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"thm-btn\"\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ addingHH: false, editingHH: null })}\n\t\t\t\t\t\t\t\tstyle={{ width: '99%' }}>Cancel\n                        </button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<tr key={key}>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t{house.name} &nbsp;\n                            <Tooltip title={house.name} text={\n\t\t\t\t\t\t\t\thouse.location ? \"Location: \" + house.location + \", Type: \" + house.unit_type : \"No location for this household, Type: \" + house.unit_type\n\t\t\t\t\t\t\t} dir=\"right\">\n\t\t\t\t\t\t\t\t<span className=\"fa fa-info-circle\" style={{ color: \"#428a36\" }}></span>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td><button className=\"edit-btn\"> <i className=\"fa fa-edit\" onClick={() => this.setState({ editingHH: house.id, addingHH: false })}></i> </button></td>\n\t\t\t\t\t\t<td><button className=\"remove-btn\"> <i className=\"fa fa-trash\" onClick={() => this.deleteHousehold(house)}></i> </button></td>\n\t\t\t\t\t</tr>\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\taddHousehold = (household) => {\n\t\tthis.props.reduxAddHousehold(household);\n\t\tObject.keys(this.props.user.teams).map(key => {\n\t\t\tconst team = this.props.user.teams[key];\n\t\t\tthis.props.reduxTeamAddHouse(team);\n\t\t})\n\t\tthis.addHouseToImpact();\n\t}\n\teditHousehold = (household) => {\n\t\tthis.props.reduxEditHousehold(household);\n\t}\n\n\tdeleteHousehold = (household) => {\n\t\tif (this.props.user.households.length > 1) {\n\t\t\tdeleteJson(`${URLS.HOUSEHOLD}/${household.id}`).then(json => {\n\t\t\t\tconsole.log(json);\n\t\t\t\tif (json.success) {\n\t\t\t\t\tvar numDone = this.props.done.filter(a => a.real_estate_unit.id === household.id).length;\n\t\t\t\t\tthis.props.reduxRemoveHousehold(household);\n\t\t\t\t\tthis.removeHouseFromImpact(numDone);\n\t\t\t\t}\n\t\t\t}\n\t\t\t)\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tdeletingHHError: 'You need to have at least one household. Try editing the name and location or adding another household before deleting this one'\n\t\t\t})\n\t\t}\n\t}\n\tremoveHouseFromImpact(numDone) {\n\t\tthis.changeDataByName(\"EngagedHouseholdsData\", -1)\n\t\tObject.keys(this.props.user.teams).forEach(key => {\n\t\t\tthis.props.reduxTeamRemoveHouse(this.props.user.teams[key]);\n\t\t\tfor (var i = 0; i < numDone; i++) {\n\t\t\t\tthis.props.reduxTeamRemoveAction(this.props.user.teams[key]);\n\t\t\t}\n\t\t})\n\t}\n\taddHouseToImpact() {\n\t\tthis.changeDataByName(\"EngagedHouseholdsData\", 1)\n\t}\n\tchangeDataByName(name, number) {\n\t\tvar data = this.props.communityData.filter(data => {\n\t\t\treturn data.name === name\n\t\t})[0];\n\n\t\tconst body = {\n\t\t\t\"value\": data.value + number > 0 ? data.value + number : 0\n\t\t}\n\t\tpostJson(URLS.DATA + '/' + data.id, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tdata = {\n\t\t\t\t\t...data,\n\t\t\t\t\tvalue: data.value + number > 0 ? data.value + number : 0\n\t\t\t\t}\n\t\t\t\tthis.props.reduxChangeData(data);\n\t\t\t}\n\t\t})\n\t}\n\n\tleaveCommunity = (community) => {\n\t\tif (community.id !== this.props.community.id) {\n\t\t\tvar newCommunityIds = [];\n\n\t\t\tthis.props.user.communities.forEach(com => {\n\t\t\t\tif (com.id !== community.id) {\n\t\t\t\t\tnewCommunityIds.push(com.id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst body = {\n\t\t\t\tcommunities: newCommunityIds\n\t\t\t}\n\t\t\tpostJson(`${URLS.USER}/${this.props.user.id}`, body).then(json => {\n\t\t\t\tconsole.log(json)\n\t\t\t\tif (json.success) {\n\t\t\t\t\tthis.props.reduxLeaveCommunity(community);\n\t\t\t\t}\n\t\t\t})\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tleaveComError: \"You can't leave your home community\"\n\t\t\t})\n\t\t}\n\t}\n\n\tleaveTeam = (team) => {\n\t\tif (team && this.props.user) {\n\t\t\tdeleteJson(`${URLS.TEAM}/${team.id}/member/${this.props.user.id}`).then(json => {\n\t\t\t\tconsole.log(json);\n\t\t\t\tif (json.success) {\n\t\t\t\t\tthis.props.reduxLeaveTeam(team);\n\n\t\t\t\t\tthis.props.reduxRemoveTeamMember({\n\t\t\t\t\t\tteam: team,\n\t\t\t\t\t\tmember: {\n\t\t\t\t\t\t\thouseholds: this.props.user.households.length,\n\t\t\t\t\t\t\tactions: this.props.todo.length + this.props.done.length,\n\t\t\t\t\t\t\tactions_completed: this.props.done.length,\n\t\t\t\t\t\t\tactions_todo: this.props.todo.length\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tclearError = () => {\n\t\tif (this.state.deletingHHError) {\n\t\t\tthis.setState({\n\t\t\t\tdeletingHHError: null,\n\t\t\t})\n\t\t}\n\t\tif (this.state.leaveComError) {\n\t\t\tthis.setState({\n\t\t\t\tleaveComError: null,\n\t\t\t})\n\t\t}\n\t}\n\taddDefaultCommunity = () => {\n\t\tconst body = {\n\t\t\t\"communities\": this.props.community.id,\n\t\t}\n\t\tvar postURL = URLS.USER + \"/\" + this.props.user.id;\n\t\t/** Collects the form data and sends it to the backend */\n\t\tpostJson(postURL, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tthis.props.reduxLoadUserCommunities(json.data.communities);\n\t\t\t}\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t})\n\t}\n\n\taddDefaultHousehold = () => {\n\t\tconst body = {\n\t\t\t\"name\": 'Home',\n\t\t\t\"unit_type\": 'RESIDENTIAL',\n\t\t\t\"location\": ''\n\t\t}\n\t\tvar postURL = URLS.USER + \"/\" + this.props.user.id + \"/households\";\n\t\t/** Collects the form data and sends it to the backend */\n\t\tpostJson(postURL, body).then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json.success) {\n\t\t\t\tthis.addHousehold(json.data);\n\t\t\t\tvar householdIds = [];\n\t\t\t\tthis.props.user.households.forEach(household => {\n\t\t\t\t\thouseholdIds.push(household.id);\n\t\t\t\t})\n\t\t\t\tfetch(URLS.USER + \"/\" + this.props.user.id, {\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\"preferred_name\": this.props.user.preferred_name,\n\t\t\t\t\t\t\"email\": this.props.user.email,\n\t\t\t\t\t\t\"full_name\": this.props.user.full_name,\n\t\t\t\t\t\t\"real_estate_units\": [\n\t\t\t\t\t\t\t...householdIds\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t}).then(response => {\n\t\t\t\t\treturn response.json()\n\t\t\t\t}).then(json => {\n\t\t\t\t\tconsole.log(json);\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t})\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tauth: store.firebase.auth,\n\t\tuser: store.user.info,\n\t\ttodo: store.user.todo,\n\t\tdone: store.user.done,\n\t\tcommunities: store.user.info ? store.user.info.communities : null,\n\t\tcommunity: store.page.community,\n\t\tcommunityData: store.page.communityData,\n\t\thouseholds: store.user.info ? store.user.info.households : null,\n\t\trsvps: store.page.rsvps,\n\t\tlinks: store.links\n\t}\n}\nconst mapDispatchToProps = {\n\treduxMoveToDone,\n\treduxAddHousehold,\n\treduxEditHousehold,\n\treduxRemoveHousehold,\n\treduxLeaveCommunity,\n\treduxLoadUserCommunities,\n\treduxChangeData,\n\treduxLeaveTeam,\n\treduxRemoveTeamMember,\n\treduxTeamRemoveHouse,\n\treduxTeamRemoveAction,\n\treduxTeamAddHouse\n};\nexport default connect(mapStoreToProps, mapDispatchToProps)(ProfilePage);","import React from 'react'\nimport Chart from 'react-apexcharts'\n\n/*\nBar graph\n@props:\n    title: title of the graph\n\tcategories: list of x axis categories\n    series: \n        data:list of y values for the categories: needs to be same size as the categories\n        name: label for the series\n*/\nclass BarGraph extends React.Component {\n\n    render() {\n        const options = {\n            // title: {\n            //     text: this.props.title,\n            //     style: {\n            //         fontSize: '28px',\n            //         fontFamily: \"'Verdana', sans-serif\",\n            //         color: '#263238'\n            //     },\n            // },\n            // colors: this.props.colors,\n            // stacked:this.props.stacked? this.props.stacked : false,\n            // chart: {\n            //     id: \"basic-bar\"\n            // },\n            // xaxis: {\n            //     categories: this.props.categories\n            // }\n            title: {\n                    text: this.props.title,\n                    style: {\n                        fontSize: '28px',\n                        fontFamily: \"'Verdana', sans-serif\",\n                        color: '#263238'\n                    },\n                },\n            chart: {\n                height: 350,\n                type: 'bar',\n                stacked: this.props.stacked? this.props.stacked : false,\n                toolbar: {\n                    show: true\n                },\n                zoom: {\n                    enabled: true\n                }\n            },\n            xaxis: {\n                categories: this.props.categories\n            },\n            colors: this.props.colors,\n            responsive: [{\n                breakpoint: 480,\n                options: {\n                    legend: {\n                        position: 'bottom',\n                        offsetX: -10,\n                        offsetY: 0\n                    }\n                }\n            }],\n            plotOptions: {\n                bar: {\n                    horizontal: false,\n                },\n            },\n            series: this.props.series\n        }\n        return (\n            <Chart style={{ margin: 'auto' }}\n                options={options}\n                series={this.props.series}\n                type=\"bar\"\n            // width=\"80%\"\n            />\n        );\n    }\n}\nexport default BarGraph;","import React from 'react'\n\n/**\n * Renders a page title with h1\n */\nexport default class PageTitle extends React.Component {\n    render() {\n        return (\n            <div className=\"row text-center justify-content-center mb-5 border-bottom\">\n                <h1 className=\"cool-font\">{this.props.children}</h1>\n            </div>\n        );\n    }\n}","import React from 'react'\nimport BarGraph from '../../Shared/BarGraph'\nimport CircleGraph from '../../Shared/CircleGraph';\nimport PageTitle from '../../Shared/PageTitle';\nimport { connect } from 'react-redux';\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport { getJson } from '../../../api/functions'\nimport URLS from '../../../api/urls'\nimport { reduxLoadCommunitiesStats } from '../../../redux/actions/pageActions'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\n\n// TODO: Render sidebar graphs\n// Replace Households Engaged by Categories with Actions Completed by Category\n\nclass ImpactPage extends React.Component {\n\trender() {\n\t\tif (!this.props.communitiesStats || this.props.communitiesStats.length <= 0) {\n\t\t\tgetJson(URLS.COMMUNITIES_STATS).then(json => {\n\t\t\t\tconsole.log(json);\n\t\t\t\tif (json.success) {\n\t\t\t\t\tthis.props.reduxLoadCommunitiesStats(json.data.length > 0 ? json.data : null)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn <LoadingCircle />\n\t\t}\n\t\tif (!this.props.tagCols || !this.props.communityData) return <LoadingCircle />;\n\t\tif (!this.props.communityData || this.props.communityData.length === 0) {\n\t\t\treturn (<div className=\"text-center\">\n\t\t\t\t<p > Sorry, looks like your community's impact page is under maintenance</p>\n\t\t\t</div>);\n\t\t}\n\t\tlet stats = this.props.communitiesStats.slice(0);\n\n\t\tstats = stats.sort((a, b) => {\n\t\t\treturn b.actions_completed - a.actions_completed;\n\t\t});\n\n\t\tlet communityImpact = {\n\t\t\t// \"categories\": [\"Wayland\", \"Weston\", \"Lincoln\", \"Concord\", \"Framingham\", \"Newton\"],\n\t\t\t\"categories\": [],\n\t\t\t\"series\": [\n\t\t\t\t{\n\t\t\t\t\tname: \"Households Engaged\",\n\t\t\t\t\t// data: [100, 90, 80, 70, 60, 50]\n\t\t\t\t\tdata: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"Actions Completed\",\n\t\t\t\t\t// data: [300, 250, 200, 150, 100, 50]\n\t\t\t\t\tdata: []\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tstats.forEach(comm => {\n\t\t\tcommunityImpact.categories.push(comm.community.name);\n\t\t\tcommunityImpact.series[0].data.push(comm.households_engaged);\n\t\t\tcommunityImpact.series[1].data.push(comm.actions_completed);\n\t\t});\n\n\t\tvar tags = this.props.tagCols.filter(tagCol => { return tagCol.name === 'Category' })[0].tags;\n\t\tvar graph2Categories = [];\n\t\tvar graph2Series = [\n\t\t\t{\n\t\t\t\tname: \"State reported\",\n\t\t\t\tdata: [],\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Self reported\",\n\t\t\t\tdata: [],\n\t\t\t},\n\t\t];\n\n\t\ttags.forEach(tag => {\n\t\t\tvar data = this.props.communityData.filter(d => {\n\t\t\t\treturn d.tag === tag.id\n\t\t\t})[0];\n\t\t\tif (data) {\n\t\t\t\tgraph2Categories.push(data.name);\n\t\t\t\tgraph2Series[1].data.push(data.value);\n\t\t\t\tvar stata = this.props.communityData.filter(d => {\n\t\t\t\t\treturn (d.tag && d.tag === data.tag && d.name.toLowerCase().indexOf('state') > -1);\n\t\t\t\t})[0];\n\t\t\t\tif (stata) {\n\t\t\t\t\tgraph2Series[0].data.push(stata.value);\n\t\t\t\t} else {\n\t\t\t\t\tgraph2Series[0].data.push(0);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tvar householdsEngaged = this.props.communityData.filter(d => {\n\t\t\treturn d.name === 'EngagedHouseholdsData';\n\t\t})[0];\n\t\tvar actionsCompleted = this.props.communityData.filter(d => {\n\t\t\treturn d.name === 'ActionsCompletedData';\n\t\t})[0];\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BreadCrumbBar links={[{ name: 'Impact' }]} />\n\t\t\t\t<div className='boxed-wrapper' style={{marginTop:90}}>\n\t\t\t\t\t<div className=\"container bg-light p-5\">\n\t\t\t\t\t\t<PageTitle>Our Community's Impact</PageTitle>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-12 col-lg-4\">\n\t\t\t\t\t\t\t\t<div className=\"card rounded-0 mb-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t\t\t<CircleGraph\n\t\t\t\t\t\t\t\t\t\t\tnum={householdsEngaged.value} goal={Number(householdsEngaged.denominator)} label={'Households Engaged'} size={150}\n\t\t\t\t\t\t\t\t\t\t\tcolors={[\"#428a36\"]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"card rounded-0 mb-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t\t\t<CircleGraph\n\t\t\t\t\t\t\t\t\t\t\tnum={actionsCompleted.value} goal={Number(actionsCompleted.denominator)} label={\"Actions Completed\"} size={150}\n\t\t\t\t\t\t\t\t\t\t\tcolors={[\"#FB5521\"]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-12 col-lg-8\">\n\t\t\t\t\t\t\t\t<div className=\"card rounded-0 mb-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-header text-center bg-white\">\n\t\t\t\t\t\t\t\t\t\t<h4 className=\"cool-font\">Actions Compeleted</h4>\n\t\t\t\t\t\t\t\t\t\t<p style={{top:240,position:'absolute',fontSize:16, transform:'rotateZ(-90deg',left:-100}}>Number Of Actions Completed</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t\t\t<BarGraph\n\t\t\t\t\t\t\t\t\t\t\tcategories={graph2Categories}\n\t\t\t\t\t\t\t\t\t\t\tseries={graph2Series}\n\t\t\t\t\t\t\t\t\t\t\tstacked={true}\n\t\t\t\t\t\t\t\t\t\t\tcolors={[\"#86bd7d\", \"#428a36\"]}\n\t\t\t\t\t\t\t\t\t\t// 86bd7d\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<center><p style={{fontSize:16,margin:0}} className=\"cool-font\">Community Goals</p></center>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"card rounded-0 mb-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-header text-center bg-white\">\n\t\t\t\t\t\t\t\t\t\t<h4 className=\"cool-font\">Communities and their Impacts</h4>\n\t\t\t\t\t\t\t\t\t\t<p style={{top:240,position:'absolute',fontSize:14, transform:'rotateZ(-90deg',left:-133}}>Number Of Actions Completed By Community</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t\t\t<BarGraph\n\t\t\t\t\t\t\t\t\t\t\tcategories={communityImpact.categories}\n\t\t\t\t\t\t\t\t\t\t\tseries={communityImpact.series}\n\t\t\t\t\t\t\t\t\t\t\tcolors={[\"#428a36\", \"#FB5521\"]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<center><p style={{fontSize:16,margin:0}}>Communities</p></center>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tcommunitiesStats: store.page.communitiesStats,\n\t\tcommunityData: store.page.communityData,\n\t\ttagCols: store.page.tagCols\n\t}\n}\nexport default connect(mapStoreToProps, { reduxLoadCommunitiesStats })(ImpactPage);","import React, { Component } from 'react'\n\nclass DescModal extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n         \n    }\n  }\n \n  render() {\n    const {title, desc } = this.props.content;\n    return (\n      <div>\n        <div className=\"modal-box\">\n          <h4 onClick = {()=>{this.props.toggler()}}className=\" modal-close-x round-me\"><span className=\"fa fa-close\"></span></h4>\n          <center>\n            <h5>{title}</h5>\n            <div>\n              <p>{desc}</p>\n            </div>\n          </center>\n        </div>\n        <div className=\"desc-modal-container\" onClick = {()=>{this.props.toggler()}}></div>\n      </div>\n    )\n  }\n}\n\nexport default DescModal;\n","import React from 'react'\nimport { connect } from 'react-redux';\nimport PageTitle from '../../Shared/PageTitle';\nimport Tooltip from '../../Shared/Tooltip';\nimport Table from 'react-bootstrap/Table';\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport { postJson } from '../../../api/functions'\nimport URLS from '../../../api/urls'\nimport { reduxJoinTeam } from '../../../redux/actions/userActions'\nimport { reduxAddTeamMember } from '../../../redux/actions/pageActions'\nimport { Link } from 'react-router-dom'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nimport Modal from '../../Shared/DescModal';\n\n\n\nclass TeamsPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmodal_toggled: false, \n\t\t\tmodal_content: { title:\"...\",desc:\"...\"}\n\t\t}\n\t\tthis.toggleModal = this.toggleModal.bind(this);\n\t}\n\trenderModal = () => {\n\t\tif (this.state.modal_toggled) return <Modal content = {this.state.modal_content} toggler={this.toggleModal} />\n\t}\n\n\ttoggleModal = () => {\n\t\tvar val = this.state.modal_toggled;\n\t\tthis.setState({ modal_toggled: !val });\n\t}\n\trender() {\n\t\tconst teams = this.props.teamsPage;\n\t\tif (teams == null) return <p className='text-center'> Sorry, looks like this community's Teams Page is under maintenance. Try again later </p>\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{this.renderModal()}\n\t\t\t\t<BreadCrumbBar links={[{ name: 'Teams' }]} />\n\t\t\t\t<div className=\"boxed_wrapper p-5\" style={{marginTop:90}}>\n\t\t\t\t\t<PageTitle>Teams Leaderboard</PageTitle>\n\t\t\t\t\t<Table bordered hover responsive>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Team Name</th>\n\t\t\t\t\t\t\t\t<th># Households</th>\n\t\t\t\t\t\t\t\t<th># Actions Completed</th>\n\t\t\t\t\t\t\t\t<th>Average # Actions/Household</th>\n\t\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t\t<Tooltip text=\"Brad's paragraph here\" dir=\"left\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"has-tooltip\">Carbon Impact</span>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th>Join Team</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{this.renderTeamsData(teams)}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\trenderTeamsData(teamsData) {\n\t\tvar teamsSorted = teamsData.slice(0);\n\t\tfor (let i = 0; i < teamsSorted.length; i++) {\n\t\t\tlet households = teamsSorted[i].households;\n\t\t\tlet actions_completed = teamsSorted[i].actions_completed;\n\t\t\tvar avrg = Number(actions_completed) / Number(households);\n\t\t\tavrg = (!isNaN(avrg)) ? avrg.toFixed(1) : 0;\n\t\t\tteamsSorted[i][\"avrgActionsPerHousehold\"] = avrg;\n\t\t}\n\n\t\tteamsSorted = teamsSorted.sort((a, b) => {\n\t\t\treturn b.avrgActionsPerHousehold - a.avrgActionsPerHousehold;\n\t\t});\n\n\t\treturn teamsSorted.map((obj) => {\n\t\t\tconst desc  = obj.team.description.length > 70 ? obj.team.description.substr(0,70) + \"...\" : obj.team.description;\n\t\t\treturn (\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{obj.team.name} &nbsp;\n            <Tooltip title={obj.team.name} text={desc} dir=\"right\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small className=\"more-hyperlink\" onClick={() => { this.setState({modal_content:{title:obj.team.name, desc:obj.team.description}});this.toggleModal() }}>More...</small>\n\t\t\t\t\t\t\t\t<span className=\"fa fa-info-circle\" style={{ color: \"#428a36\" }}></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>{obj.households}</td>\n\t\t\t\t\t<td>{obj.actions_completed}</td>\n\t\t\t\t\t<td>{obj.avrgActionsPerHousehold}</td>\n\t\t\t\t\t<td>...</td>\n\t\t\t\t\t{this.props.user ?\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t{this.inTeam(obj.team.id) ?\n\t\t\t\t\t\t\t\t<button className='thm-btn red'><i className='fa fa-hand-peace-o'> </i> Leave</button>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<button className='thm-btn' onClick={() => {\n\t\t\t\t\t\t\t\t\tconsole.log('clicked')\n\t\t\t\t\t\t\t\t\tthis.joinTeam(obj.team)\n\t\t\t\t\t\t\t\t}}><i className='fa fa-user-plus' > </i> Join </button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<p><Link to={this.props.links.signin}>Sign In</Link> to join a team</p>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t}\n\t\t\t\t\t{/* <td>{obj.ghgSaved}</td> */}\n\t\t\t\t</tr>\n\t\t\t)\n\t\t});\n\t}\n\tinTeam = (team_id) => {\n\t\tif (!this.props.user) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.props.user.teams.filter(team => { return team.id === team_id }).length > 0;\n\t}\n\n\tjoinTeam = (team) => {\n\t\tconst body = {\n\t\t\tmembers: this.props.user.id,\n\t\t}\n\t\tpostJson(`${URLS.TEAM}/${team.id}`, body).then(json => {\n\t\t\tconsole.log(json)\n\t\t\tif (json.success) {\n\t\t\t\tthis.props.reduxJoinTeam(team);\n\n\t\t\t\tthis.props.reduxAddTeamMember({\n\t\t\t\t\tteam: team,\n\t\t\t\t\tmember: {\n\t\t\t\t\t\thouseholds: this.props.user.households.length,\n\t\t\t\t\t\tactions: this.props.todo.length + this.props.done.length,\n\t\t\t\t\t\tactions_completed: this.props.done.length,\n\t\t\t\t\t\tactions_todo: this.props.todo.length\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tuser: store.user.info,\n\t\ttodo: store.user.todo,\n\t\tdone: store.user.done,\n\t\tteamsPage: store.page.teamsPage,\n\t\tlinks: store.links\n\t}\n}\nconst mapDispatchToProps = {\n\treduxJoinTeam,\n\treduxAddTeamMember\n}\nexport default connect(mapStoreToProps, mapDispatchToProps)(TeamsPage);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withFirebase } from 'react-redux-firebase';\nimport { Link, Redirect } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport ReCAPTCHA from 'react-google-recaptcha'\n\nimport { postJson, getJson } from '../../../api/functions';\nimport URLS from '../../../api/urls';\nimport { facebookProvider, googleProvider } from '../../../config/firebaseConfig';\nimport { reduxLogin, reduxLoadDone, reduxLoadTodo } from '../../../redux/actions/userActions';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport Tooltip from '../../Shared/Tooltip';\n\n/* Modal config */\nconst INITIAL_STATE = {\n    email: '',\n    passwordOne: '',\n    passwordTwo: '',\n\n    firstName: '',\n    lastName: '',\n    preferredName: '',\n    serviceProvider: false,\n    termsAndServices: false,\n    showTOSError: false,\n    showTOS: false,\n\n    form: 1,\n    error: null,\n};\n\nclass RegisterFormBase extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...INITIAL_STATE,\n            persistence: this.props.firebase.auth.Auth.Persistence.SESSION,\n            form: props.form ? props.form : 1\n        }\n\n        this.onChange = this.onChange.bind(this);\n        this.isInvalid = this.isInvalid.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onFinalSubmit = this.onFinalSubmit.bind(this);\n    }\n\n    render() {\n        if (!this.props.auth || !this.props.user || !this.props.policies) return <LoadingCircle />\n\n        var page;\n        if (this.props.auth.isEmpty) {\n            page = 1;\n        } else {\n            page = 2;\n        }\n        const TOS = this.props.policies.filter(x => x.name === \"Terms of Service\")[0];\n        const PP = this.props.policies.filter(x => x.name === \"Privacy Policy\")[0];\n\n        if (this.props.user.info && this.props.user.todo && this.props.user.done && this.props.auth.emailVerified) {\n            return <Redirect to={this.props.links.profile}/>;\n        }\n        return (\n            <>\n                <div>\n                    {this.renderPage(page)}\n                </div>\n                <Modal show={this.state.showTOS} onHide={() => this.setState({ showTOS: false })} centered>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Terms of Service</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body dangerouslySetInnerHTML={{ __html: TOS? TOS.description : 'The Terms of Service failed to load or does not exist' }} style={{ maxHeight: \"50vh\", overflowY: \"scroll\" }}></Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => this.setState({ showTOS: false })}>\n                            Close\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n                <Modal show={this.state.showPP} onHide={() => this.setState({ showPP: false })} centered>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Privacy Policy</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body dangerouslySetInnerHTML={{ __html: PP? PP.description : 'The privacy policy failed to load or does not exist' }} style={{ maxHeight: \"50vh\", overflowY: \"scroll\" }}></Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => this.setState({ showPP: false })}>\n                            Close\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n\n    renderPage = (page) => {\n        console.log(page)\n        if (page === 1) {\n            return this.renderPage1()\n        } else if (page === 2) {\n            return this.renderPage2()\n        } else if (page === 3) {\n            return this.renderPage3()\n        }\n    }\n    renderPage1 = () => {\n        const {\n            email,\n            passwordOne,\n            passwordTwo,\n            error,\n        } = this.state;\n        return (\n            < div className=\"styled-form register-form\" >\n                <div className=\"section-title style-2\">\n                    <h3>Register With Email and Password</h3>\n                </div>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <span className=\"adon-icon\"><span className=\"fa fa-envelope-o\"></span></span>\n                        <input type=\"email\" name=\"email\" value={email} onChange={this.onChange} placeholder=\"Enter your email\" required />\n                    </div>\n                    <div className=\"form-group\">\n                        <span className=\"adon-icon\"><span className=\"fa fa-unlock-alt\"></span></span>\n                        <input type=\"password\" name=\"passwordOne\" value={passwordOne} onChange={this.onChange} placeholder=\"Enter your password\" required />\n                    </div>\n                    <div className=\"form-group\">\n                        <span className=\"adon-icon\"><span className=\"fa fa-unlock-alt\"></span></span>\n                        <input type=\"password\" name=\"passwordTwo\" value={passwordTwo} onChange={this.onChange} placeholder=\"Re-enter your password\" required />\n                    </div>\n                    <br />\n                    {error && <p style={{ color: \"red\" }}> {error} </p>}\n                    <div className=\"clearfix\">\n                        <div className=\"form-group pull-left\">\n                            <button type=\"submit\" disabled={this.isInvalid()} className=\"thm-btn\">Create Account</button>\n                        </div>\n                    </div>\n                </form>\n                <div style={{ width: '100%', height: '0px', borderBottom: 'solid 1px black', marginBottom: '15px' }}>\n                </div>\n                <div className=\"section-title style-2\">\n                    <h3>Register with Google or Facebook</h3>\n                </div>\n                <div className=\"form-group social-links-three padd-top-5\">\n                    <button onClick={this.signInWithFacebook} id=\"facebook\" className=\"img-circle facebook\"><span className=\"fa fa-facebook-f\"> Register with Facebook</span></button>\n                    <button onClick={this.signInWithGoogle} id=\"google\" className=\"img-circle google\"><span className=\"fa fa-google\"> Register with Google</span></button>\n                </div>\n                Already have an account? <Link to={this.props.links.signin}>Sign In</Link>\n            </div>\n        );\n    }\n    renderPage2 = () => {\n        const {\n            firstName,\n            lastName,\n            preferredName,\n            serviceProvider,\n            termsAndServices,\n        } = this.state;\n        return (\n            < div className=\"styled-form register-form\" >\n                <form onSubmit={this.onFinalSubmit}>\n                    {!this.props.firebase.auth().currentUser.emailVerified ?\n                        <>\n                            <p> We sent a link to your email address. Please verify your email and sign in to continue.\n                                    <button type='button' className=\"as-link\" onClick={this.sendVerificationEmail}> Resend Verification Email </button>\n                                <br />\n                                <Link to={this.props.links.signin} onClick={() => this.props.firebase.auth().signOut()}> Sign in</Link>\n                            </p>\n                        </>\n                        :\n                        <>\n                            <div className=\"form-group\">\n                                <span className=\"adon-icon\"><span className=\"fa fa-user\"></span></span>\n                                <input type=\"text\" name=\"firstName\" value={firstName} onChange={this.onChange} placeholder=\"First Name\" required />\n                            </div>\n                            <div className=\"form-group\">\n                                <span className=\"adon-icon\"><span className=\"fa fa-user\"></span></span>\n                                <input type=\"text\" name=\"lastName\" value={lastName} onChange={this.onChange} placeholder=\"Last Name\" required />\n                            </div>\n                            <div className=\"form-group\">\n                                <span className=\"adon-icon\"><span className=\"fa fa-envelope-o\"></span></span>\n                                <input type=\"text\" name=\"preferredName\" value={preferredName} onChange={this.onChange} placeholder=\"Enter a Preferred Name or Nickname\" />\n                            </div>\n                            <label className=\"checkbox-container\">\n                                <input className=\"checkbox\" type=\"checkbox\" name=\"serviceProvider\" onChange={() => { this.setState({ serviceProvider: !serviceProvider }) }} checked={serviceProvider} />\n                                <span className=\"checkmark\"></span>\n                                <p style={{ marginLeft: \"25px\" }}>Are you a Service Provider?</p>\n                            </label>\n                            <label className=\"checkbox-container\">\n                                <input className=\"checkbox\" type=\"checkbox\" name=\"termsAndServices\" onChange={() => { this.setState({ termsAndServices: !termsAndServices }) }} checked={termsAndServices} />\n                                <span className=\"checkmark\"></span>\n                                <p style={{ marginLeft: \"25px\" }}>I agree to MassEnergize’s <button type='button' onClick={() => this.setState({showTOS:true})} className='as-link' style={{display:'inline-block'}}>Terms of Service</button> and <button type='button' onClick={() => this.setState({showPP: true})} className='as-link' style={{display:'inline-block'}}>Privacy Policy</button></p>\n                                {/* <span className=\"text-danger mb-3 small\" style={{ display: (this.state.showTOSError) ? \"block\" : \"none\" }}>You need to agree to the terms of service!</span> */}\n                            </label>\n                            <ReCAPTCHA\n                                sitekey=\"6LcLsLUUAAAAAL1MkpKSBX57JoCnPD389C-c-O6F\"\n                                onChange={this.onReCaptchaChange}\n                            />\n                        </>\n                    }\n                    {this.state.error && <p style={{ color: \"red\" }}> {this.state.error} </p>}\n                    <div className=\"clearfix\">\n                        <div className=\"form-group pull-left\">\n                            {this.props.auth.emailVerified ?\n                                <button type=\"submit\" className=\"thm-btn\" >\n                                    Finish Creating Account\n                                </button> : null\n                            }\n                            <Tooltip text='Cancling in the middle of registration will delete your account'>\n                                <button onClick={this.deleteFirebaseAccount} className=\"thm-btn red\"> Cancel </button>\n                            </Tooltip>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n\n    sendVerificationEmail = () => {\n        console.log(process.env.EMAIL_REDIRECT_URL)\n        this.props.firebase.auth().currentUser.sendEmailVerification().then(() => console.log('email sent'));\n    }\n    onReCaptchaChange = (value) => {\n        if (!value) {\n            this.setState({ captchaConfirmed: false });\n        }\n        postJson(URLS.VERIFY, { 'captchaString': value }).then(response => {\n            console.log(response)\n            if (response.success && response.data.success) this.setState({ 'captchaConfirmed': true });\n        })\n    }\n    onChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: null\n        });\n    };\n\n    isInvalid() {\n        const { passwordOne, email, name, passwordTwo } = this.state;\n        return (passwordOne !== passwordTwo ||\n            passwordOne === '' ||\n            email === '' ||\n            name === '');\n    }\n\n    onSubmit(event) {\n        event.preventDefault();\n        const { email, passwordOne } = this.state;\n\n        this.props.firebase.auth().setPersistence(this.state.persistence).then(() => {\n            this.props.firebase.auth()\n                .createUserWithEmailAndPassword(email, passwordOne)\n                .then(authUser => {\n                    this.setState({ ...INITIAL_STATE, form: 2 });\n                    this.sendVerificationEmail();\n                })\n                .catch(err => {\n                    this.setState({ error: err.message });\n                });\n        });\n    };\n    onFinalSubmit(event) {\n        event.preventDefault();\n        if (!this.state.termsAndServices) {\n            this.setState({ error: 'You need to agree to the terms and services' });\n        }else if(!this.state.captchaConfirmed){ \n            this.setState({ error: 'Invalid reCAPTCHA, please try again' });\n        }else {\n            /** Collects the form data and sends it to the backend */\n            const { firstName, lastName, preferredName, serviceProvider, termsAndServices } = this.state;\n            if (!termsAndServices) {\n                this.setState({ showTOSError: true });\n                return;\n            }\n            const { auth } = this.props;\n            const body = {\n                \"full_name\": firstName + ' ' + lastName,\n                \"preferred_name\": preferredName === \"\" ? firstName : preferredName,\n                \"email\": auth.email,\n                // \"id\": auth.uid,\n                \"is_vendor\": serviceProvider,\n                \"accepts_terms_and_conditions\": termsAndServices\n            }\n            postJson(URLS.USERS, body).then(json => {\n                console.log(json);\n                if (json.success && json.data) {\n                    this.fetchAndLogin(json.data.email).then(success => {\n                        if(!success){\n                            this.setState({error: 'Failed to Register'})\n                        }\n                    });\n                }\n            })\n            this.setState({ ...INITIAL_STATE });\n        }\n    }\n\n    deleteFirebaseAccount = () => {\n        this.props.firebase.auth().currentUser.delete();\n        this.props.firebase.auth().signOut();\n    }\n\n    //KNOWN BUG : LOGGING IN WITH GOOGLE WILL DELETE ANY ACCOUNT WITH THE SAME PASSWORD: \n    //WOULD NOT DELETE DATA I THINK?\n    signInWithGoogle = () => {\n\n        this.props.firebase.auth().setPersistence(this.state.persistence).then(() => {\n            this.props.firebase.auth()\n                .signInWithPopup(googleProvider)\n                .then(auth => {\n                    console.log(auth);\n                    this.fetchAndLogin(auth.user.email).then(success => {\n                    });\n                    this.setState({ ...INITIAL_STATE, form: 2 });\n                })\n                .catch(err => {\n                    console.log(err);\n                    this.setState({ ...INITIAL_STATE, form: 2 });\n                });\n        });\n\n    }\n    signInWithFacebook = () => {\n        this.props.firebase.auth().setPersistence(this.state.persistence).then(() => {\n            this.props.firebase.auth()\n                .signInWithPopup(facebookProvider)\n                .then(auth => {\n                    this.fetchAndLogin(auth.user.email);\n                    if (!auth.emailVerified) this.sendVerificationEmail();\n                    this.setState({ ...INITIAL_STATE });\n                })\n                .catch(err => {\n                    this.setState({ error: err.message });\n                });\n        });\n    }\n\n    fetchAndLogin = async (email) => {\n        try {\n            const json = await getJson(`${URLS.USER}/e/${email}`);\n            if (json.success && json.data) {\n                this.props.reduxLogin(json.data);\n\n                const todo = await getJson(`${URLS.USER}/e/${email}/actions?status=TODO`)\n                this.props.reduxLoadTodo(todo.data);\n                const done = await getJson(`${URLS.USER}/e/${email}/actions?status=DONE`)\n                this.props.reduxLoadDone(done.data);\n                return true;\n            }\n            console.log('fetch and login failed');\n            return false;\n        }\n        catch (err) {\n            console.log(err);\n            return false;\n        }\n    }\n}\n\n//makes the register form have firebase and router so it can route the user if the login is successful\nconst RegisterForm = compose(\n    withFirebase,\n)(RegisterFormBase);\n\nconst mapStoreToProps = (store) => {\n    return {\n        auth: store.firebase.auth,\n        user: store.user,\n        policies: store.page.policies,\n        links: store.links\n    }\n}\nexport default connect(mapStoreToProps, { reduxLogin, reduxLoadDone, reduxLoadTodo })(RegisterForm);\n","import React from 'react'\nimport RegisterForm from './RegisterForm'\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nimport {connect} from 'react-redux'\n\nclass RegisterPage extends React.Component {\n    render() { //avoids trying to render before the promise from the server is fulfilled  \n        return (\n            <>\n                <BreadCrumbBar links={[{ name: 'Sign Up' }]} />\n                <div className=\"boxed_wrapper\">\n                    <section className=\"register-section sec-padd-top\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                {/* <!--Form Column--> */}\n                                <div className=\"form-column column col-md-6 col-12 offset-md-3\">\n                                    {this.props.location.pathname !== this.props.links.signup ? <p style={{ color: 'red' }}> Please finish creating your account before you continue</p> : null}\n                                    <RegisterForm />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n            </>\n        );\n    }\n} \nconst mapStoreToProps = (store) => {\n    return({\n        links: store.links\n    });\n}\nexport default connect(mapStoreToProps)(RegisterPage);","import React from 'react';\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Card from 'react-bootstrap/Card';\nimport {connect} from 'react-redux';\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\nimport queryString from 'query-string'\n\nclass PoliciesPage extends React.Component {\n    render() {\n        if(!this.props.policies) return <LoadingCircle/>;\n        return (\n            <>\n            <BreadCrumbBar links={[{ name: 'Policies' }]} />\n            <div className='boxed-wrapper'>\n                <div className=\"container p-5\">\n                    <Accordion defaultActiveKey=\"0\">\n                        {this.renderPolicies(this.props.policies)}\n                    </Accordion>\n                </div>\n            </div>\n            </>\n        );\n    }\n\n    renderPolicies(policies) {\n        const query = queryString.parse(this.props.location.search);\n        if(query && query.name){\n            policies = policies.filter(p => {\n                console.log(query.name);\n                console.log(p.name);\n                return p.name === query.name;\n            });\n        }\n        return Object.keys(policies).map((key) => {\n            const policy = policies[key];\n            return (\n                <Card key={key}>\n                    <Accordion.Toggle as={Card.Header} eventKey={key}>\n                    {policy.name}\n                    </Accordion.Toggle>\n                    <Accordion.Collapse eventKey={key}>\n                    <Card.Body dangerouslySetInnerHTML={{__html: policy.description}}></Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n            );\n        });\n    }\n}\n\nconst mapStoreToProps = (store) => {\n    return {\n        policies: store.page.policies\n    }\n}\nexport default connect(mapStoreToProps, null)(PoliciesPage);","import React from 'react';\nimport PageTitle from '../../Shared/PageTitle';\nimport { section } from '../../../api/functions';\nimport { connect } from 'react-redux';\nimport LoadingCircle from '../../Shared/LoadingCircle';\nimport BreadCrumbBar from '../../Shared/BreadCrumbBar'\n\nclass DonatePage extends React.Component {\n    \n    render() {\n        if(!this.props.donatePage) return <p className='text-center'> Sorry, looks like this community's Donate Page is under maintenance. Try again later </p>;\n\n        const pageSections = this.props.donatePage.sections;\n        if(pageSections == null) return <LoadingCircle/>\n\n        const header = section(pageSections, \"DonatePageHeader\", true);\n        const button = section(pageSections, \"DonatePageButton\", true);\n        return (\n            <>\n            <BreadCrumbBar links={[{ name: 'Donate' }]} />\n            <div className='boxed-wrapper' style={{marginTop:90}}>\n                <div className=\"container p-5\">\n                    <PageTitle>{header.title}</PageTitle>\n                    <p>{header.description}</p>\n                    <br/>\n                    <div class=\"row text-center justify-content-center\">\n                        <div class=\"col-12 col-md-6 col-lg-4\">\n                            <form action=\"https://www.paypal.com/cgi-bin/webscr\" method=\"post\" target=\"_top\">\n                                <input type=\"hidden\" name=\"cmd\" value=\"_donations\" />\n                                <input type=\"hidden\" name=\"business\" value={button.info.business} />\n                                <input type=\"hidden\" name=\"currency_code\" value=\"USD\" />\n                                <input type=\"image\" className=\"w-100\" src=\"https://i.imgur.com/CwBgXO2.png\" border=\"0\" name=\"submit\" title=\"PayPal - The safer, easier way to pay online!\" alt=\"Donate with PayPal button\" />\n                                <img alt=\"\" border=\"0\" src=\"https://www.paypal.com/en_US/i/scr/pixel.gif\" width=\"1\" height=\"1\" />\n                            </form>\n                        </div>\n                    </div>\n                    \n                </div>\n            </div>\n            </>\n        );\n    }\n}\n\nconst mapStoreToProps = (store) => {\n    return {\n        donatePage: store.page.donatePage,\n    }\n}\nexport default connect(mapStoreToProps, null)(DonatePage);","import React from 'react'\nimport {connect} from 'react-redux'\nimport {Link} from 'react-router-dom'\nimport LoadingCircle from '../Shared/LoadingCircle';\nimport logo from '../../logo.png'\n\nclass CommunitySelectPage extends React.Component {\n    render() {\n        if(!this.props.communities) return <LoadingCircle/>;\n        return (\n        <div className=\"boxed_wrapper\">\n            <img className='text-center' style={{margin:'auto', display:'block', maxWidth:'500px'}} src={logo}/>\n            <h1 className='text-center'> Welcome to the Community Portal </h1>\n            <h3 className='text-center'> Select Your Community Below</h3>\n            <ul className='text-center'>\n                {Object.keys(this.props.communities).map(key => {\n                    const com = this.props.communities[key];\n                    return <li key={key}> <a href={`/${com.subdomain}`}>{com.name}</a></li>\n                })}\n            </ul>\n            <h3 className='text-center'> Or go to our main site</h3>\n                <p  className='text-center'><a href='https://massenergize.org'>MassEnergize</a> </p>\n        </div>\n        );\n    }\n}\nconst mapStoreToProps = (store) => {\n    return {\n        communities:store.page.communities\n    }\n}\nexport default connect(mapStoreToProps)(CommunitySelectPage);","import React, { Component } from 'react';\nimport Helmet from 'react-helmet';\nimport { Switch, Route } from 'react-router-dom';\nimport NavBarBurger from './Components/Menu/NavBarBurger'\nimport NavBarOffset from './Components/Menu/NavBarOffset'\nimport Footer from './Components/Menu/Footer'\nimport LoadingCircle from './Components/Shared/LoadingCircle'\nimport './assets/css/style.css';\n\nimport HomePage from './Components/Pages/HomePage/HomePage'\nimport ActionsPage from './Components/Pages/ActionsPage/ActionsPage'\nimport OneActionPage from './Components/Pages/ActionsPage/OneActionPage'\nimport AboutUsPage from './Components/Pages/AboutUsPage/AboutUsPage'\nimport ServicesPage from './Components/Pages/ServicesPage/ServicesPage'\nimport OneServicePage from './Components/Pages/ServicesPage/OneServicePage'\nimport StoriesPage from './Components/Pages/StoriesPage/StoriesPage'\nimport LoginPage from './Components/Pages/LoginPage/LoginPage'\nimport EventsPage from './Components/Pages/EventsPage/EventsPage'\nimport OneEventPage from './Components/Pages/EventsPage/OneEventPage'\nimport ProfilePage from './Components/Pages/ProfilePage/ProfilePage'\nimport ImpactPage from './Components/Pages/ImpactPage/ImpactPage'\nimport TeamsPage from './Components/Pages/TeamsPage/TeamsPage'\nimport RegisterPage from './Components/Pages/RegisterPage/RegisterPage'\nimport PoliciesPage from './Components/Pages/PoliciesPage/PoliciesPage'\nimport DonatePage from './Components/Pages/DonatePage/DonatePage'\nimport CommunitySelectPage from './Components/Pages/CommunitySelectPage'\n\nimport {\n\treduxLoadCommunity,\n\treduxLoadHomePage,\n\treduxLoadActionsPage,\n\treduxLoadServiceProvidersPage,\n\treduxLoadTestimonialsPage,\n\treduxLoadTeamsPage,\n\treduxLoadAboutUsPage,\n\treduxLoadCommunitiesStats,\n\treduxLoadDonatePage,\n\treduxLoadEventsPage,\n\treduxLoadMenu,\n\treduxLoadPolicies,\n\treduxLoadActions,\n\treduxLoadEvents,\n\treduxLoadServiceProviders,\n\treduxLoadTestimonials,\n\treduxLoadCommunities,\n\treduxLoadRSVPs,\n\treduxLoadTagCols,\n\treduxLoadCommunityData\n} from './redux/actions/pageActions'\nimport { reduxLogin, reduxLoadTodo, reduxLoadDone } from './redux/actions/userActions';\nimport { reduxLoadLinks } from './redux/actions/linkActions';\n\n\nimport URLS from './api/urls'\nimport { getJson } from './api/functions'\nimport { connect } from 'react-redux';\nimport { isLoaded } from 'react-redux-firebase';\n\nclass AppRouter extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttriedLogin: false\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tvar subdomain = this.props.match.params.subdomain;\n\t\tthis.props.reduxLoadLinks({\n\t\t\thome: `/${subdomain}`,\n\t\t\tactions: `/${subdomain}/actions`,\n\t\t\taboutus: `/${subdomain}/aboutus`,\n\t\t\tservices: `/${subdomain}/services`,\n\t\t\ttestimonials: `/${subdomain}/testimonials`,\n\t\t\tteams: `/${subdomain}/teams`,\n\t\t\timpact: `/${subdomain}/impact`,\n\t\t\tdonate: `/${subdomain}/donate`,\n\t\t\tevents: `/${subdomain}/events`,\n\t\t\tsignin: `/${subdomain}/signin`,\n\t\t\tsignup: `/${subdomain}/signup`,\n\t\t\tprofile: `/${subdomain}/profile`,\n\t\t\tpolicies: `/${subdomain}/policies`,\n\t\t})\n\t\tPromise.all([\n\t\t\tgetJson(URLS.COMMUNITY + subdomain + '/pages?name=Home'),\n\t\t\tgetJson(URLS.TEAMS_STATS + '?community__subdomain=' + subdomain),\n\t\t\tgetJson(URLS.COMMUNITY + subdomain + '/pages?name=AboutUs'),\n\t\t\tgetJson(URLS.COMMUNITY + subdomain + '/pages?name=Donate'),\n\t\t\tgetJson(URLS.COMMUNITY + subdomain + '/events'),\n\t\t\tgetJson(URLS.COMMUNITY + subdomain + '/actions'),\n\t\t\tgetJson(URLS.COMMUNITY + subdomain + '/vendors'),\n\t\t\tgetJson(URLS.COMMUNITY + subdomain + '/testimonials'),\n\t\t\tgetJson(URLS.MENUS),\n\t\t\tgetJson(URLS.POLICIES),\n\t\t\tgetJson(URLS.EVENT_ATTENDEES),\n\t\t\tgetJson(URLS.COMMUNITIES),\n\t\t\tgetJson(URLS.TAG_COLLECTIONS),\n\t\t\tgetJson(URLS.COMMUNITY + subdomain + '/data'),\n\t\t]).then(myJsons => {\n\t\t\tthis.props.reduxLoadHomePage(myJsons[0].data.length > 0 ? myJsons[0].data[0] : null)\n\t\t\tthis.props.reduxLoadTeamsPage(myJsons[1].data.length > 0 ? myJsons[1].data : null)\n\t\t\tthis.props.reduxLoadAboutUsPage(myJsons[2].data.length > 0 ? myJsons[2].data[0] : null)\n\t\t\tthis.props.reduxLoadDonatePage(myJsons[3].data.length > 0 ? myJsons[3].data[0] : null)\n\t\t\tthis.props.reduxLoadEvents(myJsons[4].data)\n\t\t\tthis.props.reduxLoadActions(myJsons[5].data)\n\t\t\tthis.props.reduxLoadServiceProviders(myJsons[6].data)\n\t\t\tthis.props.reduxLoadTestimonials(myJsons[7].data)\n\t\t\tthis.props.reduxLoadMenu(myJsons[8].data)\n\t\t\tthis.props.reduxLoadPolicies(myJsons[9].data)\n\t\t\tthis.props.reduxLoadRSVPs(myJsons[10].data)\n\t\t\tthis.props.reduxLoadCommunities(myJsons[11].data)\n\t\t\tthis.props.reduxLoadCommunity(myJsons[11].data.filter(com => {\n\t\t\t\treturn com.subdomain === subdomain\n\t\t\t})[0])\n\t\t\tthis.props.reduxLoadTagCols(myJsons[12].data)\n\t\t\tthis.props.reduxLoadCommunityData(myJsons[13].data)\n\t\t}).catch(err => {\n\t\t\tthis.setState({ error: err })\n\t\t\tconsole.log(err)\n\t\t});\n\t}\n\tasync getUser(email) {\n\t\tconst json = await getJson(`${URLS.USER}/e/${email}`);\n\t\tif (json.success && json.data) {\n\t\t\tthis.props.reduxLogin(json.data);\n\t\t\tconst todo = await getJson(`${URLS.USER}/e/${email}/actions?status=TODO`)\n\t\t\tthis.props.reduxLoadTodo(todo.data);\n\t\t\tconst done = await getJson(`${URLS.USER}/e/${email}/actions?status=DONE`)\n\t\t\tthis.props.reduxLoadDone(done.data);\n\t\t\treturn true;\n\t\t}\n\t\telse {\n\t\t\tconsole.log('no user');\n\t\t\treturn false;\n\t\t}\n\t}\n\trender() {\n\t\tdocument.body.style.overflowX = 'hidden';\n\n\t\tif (!isLoaded(this.props.auth)) {\n\t\t\tconsole.log('auth loading')\n\t\t\treturn <LoadingCircle />;\n\t\t}\n\t\tif (!this.state.triedLogin && this.props.auth.uid && !this.props.user) {\n\t\t\tthis.getUser(this.props.auth.email).then(success => {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttriedLogin: true\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\tif (this.props.auth.uid && !this.state.triedLogin) {\n\t\t\tconsole.log('user loading')\n\t\t\treturn <LoadingCircle />;\n\t\t}\n\t\tconst { links } = this.props;\n\t\t//if (!this.state.loaded) return <LoadingCircle />;\n\t\treturn (\n\t\t\t<div className=\"boxed-wrapper\">\n\t\t\t\t<div className=\"burger-menu-overlay\"></div>\n\t\t\t\t<Helmet>\n\t\t\t\t\t<meta charset=\"UTF-8\" />\n\t\t\t\t\t<title>Mass Energize</title>\n\t\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\t\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\" />\n\t\t\t\t</Helmet>\n\t\t\t\t{this.props.menu ?\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<NavBarBurger\n\t\t\t\t\t\t\tnavLinks={this.props.menu.filter(menu => { return menu.name === 'PortalMainNavLinks' })[0].content}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<NavBarOffset />\n\t\t\t\t\t</div> : <LoadingCircle />\n\t\t\t\t}\n\t\t\t\t{ /**if theres a half finsished account the only place a user can go is the register page */\n\t\t\t\t\t(this.state.triedLogin && !this.props.user && this.props.auth.uid)\n\t\t\t\t\t\t|| (this.props.auth.uid && !this.props.auth.emailVerified) ?\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route component={RegisterPage} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route exact path={links.home} component={HomePage} />\n\t\t\t\t\t\t\t<Route exact path={`${links.home}/home`} component={HomePage} />\n\t\t\t\t\t\t\t<Route exact path={links.actions} component={ActionsPage} />\n\t\t\t\t\t\t\t<Route path={links.aboutus} component={AboutUsPage} />\n\t\t\t\t\t\t\t<Route exact path={links.services} component={ServicesPage} />\n\t\t\t\t\t\t\t<Route path={`${links.services}/:id`} component={OneServicePage} />\n\t\t\t\t\t\t\t<Route path={`${links.actions}/:id`} component={OneActionPage} />\n\t\t\t\t\t\t\t<Route path={links.testimonials} component={StoriesPage} />\n\t\t\t\t\t\t\t<Route path={links.teams} component={TeamsPage} />\n\t\t\t\t\t\t\t<Route path={links.impact} component={ImpactPage} />\n\t\t\t\t\t\t\t<Route path={links.donate} component={DonatePage} />\n\t\t\t\t\t\t\t<Route exact path={links.events} component={EventsPage} />\n\t\t\t\t\t\t\t<Route path={`${links.events}/:id`} component={OneEventPage} />\n\t\t\t\t\t\t\t<Route path={links.signin} component={LoginPage} />\n\t\t\t\t\t\t\t<Route path={links.signup} component={RegisterPage} />\n\t\t\t\t\t\t\t<Route path={links.profile} component={ProfilePage} />\n\t\t\t\t\t\t\t<Route path={links.policies} component={PoliciesPage} />\n\t\t\t\t\t\t\t{/*<Route path=\"/contact\" component={Contact} /> */}\n\t\t\t\t\t\t\t<Route component={() => {\n\t\t\t\t\t\t\t\treturn <div>\n\t\t\t\t\t\t\t\t\t404 Error: Page not Found\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t}\n\t\t\t\t{this.props.menu ?\n\t\t\t\t\t<Footer\n\t\t\t\t\t\tfooterLinks={this.props.menu.filter(menu => { return menu.name === 'PortalFooterQuickLinks' })[0].content}\n\t\t\t\t\t\tfooterInfo={this.props.menu.filter(menu => { return menu.name === 'PortalFooterContactInfo' })[0].content}\n\t\t\t\t\t/> : <LoadingCircle />\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapStoreToProps = (store) => {\n\treturn {\n\t\tauth: store.firebase.auth,\n\t\tuser: store.user.info,\n\t\tmenu: store.page.menu,\n\t\tlinks: store.links,\n\t}\n}\nconst mapDispatchToProps = {\n\treduxLoadCommunity,\n\treduxLoadHomePage,\n\treduxLoadActionsPage,\n\treduxLoadServiceProvidersPage,\n\treduxLoadTestimonialsPage,\n\treduxLoadTeamsPage,\n\treduxLoadAboutUsPage,\n\treduxLoadCommunitiesStats,\n\treduxLoadDonatePage,\n\treduxLoadEventsPage,\n\treduxLoadMenu,\n\treduxLoadPolicies,\n\treduxLoadActions,\n\treduxLoadEvents,\n\treduxLoadServiceProviders,\n\treduxLoadTestimonials,\n\treduxLoadCommunities,\n\treduxLogin,\n\treduxLoadTodo,\n\treduxLoadDone,\n\treduxLoadRSVPs,\n\treduxLoadTagCols,\n\treduxLoadCommunityData,\n\treduxLoadLinks\n}\nexport default connect(mapStoreToProps, mapDispatchToProps)(AppRouter);","import { LOAD_LINKS } from \"./types\";\n\nexport const reduxLoadLinks = (links) => dispatch => {\n    return dispatch({\n        type: LOAD_LINKS,\n        payload: links\n    })\n}","import React, { Component } from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport './assets/css/style.css'\nimport AppRouter from './AppRouter'\nimport { connect } from 'react-redux'\nimport { reduxLoadCommunities } from './redux/actions/pageActions'\nimport {getJson} from './api/functions'\nimport URLS from './api/urls'\nimport CommunitySelectPage from './Components/Pages/CommunitySelectPage';\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terror: null\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tgetJson(URLS.COMMUNITIES).then(json => {\n\t\t\tif (json.success) {\n\t\t\t\tthis.props.reduxLoadCommunities(json.data);\n\t\t\t}\n\t\t}).catch(err => this.setState({ error: err }))\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{this.state.error ?\n\t\t\t\t\t<>\n\t\t\t\t\t\t{this.showError(this.state.error)}\n\t\t\t\t\t</>\n\t\t\t\t\t:\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path='/:subdomain' component={AppRouter} />\n\t\t\t\t\t\t<Route component={CommunitySelectPage}/>\n\t\t\t\t\t</Switch>\n\t\t\t\t}\n\t\t\t</>\n\t\t)\n\t}\n\tshowError = (error) => {\n\t\treturn (\n\t\t\t<p className='text-center text-danger'> {error} </p>\n\t\t)\n\t}\n}\n\nconst mapDispatchToProps = {\n\treduxLoadCommunities\n}\nexport default connect(null, mapDispatchToProps)(App);","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nclass ScrollToTop extends React.Component {\n    componentDidUpdate(prevProps) {\n      if (this.props.location !== prevProps.location) {\n        window.scrollTo(0, 0)\n      }\n    }\n  \n    render() {\n      return this.props.children\n    }\n  }\n  \n  export default withRouter(ScrollToTop);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createBrowserHistory } from 'history';\nconst history = createBrowserHistory();\nexport default history;\n","import {\n  LOGIN,\n  LOGOUT,\n  MOVE_TO_DONE,\n  REMOVE_FROM_DONE,\n  REMOVE_FROM_TODO,\n  ADD_TO_TODO,\n  ADD_TO_DONE,\n  LOAD_TODO,\n  LOAD_DONE,\n  LOAD_HOUSEHOLDS,\n  LOAD_USER_COMMUNITIES,\n  ADD_HOUSEHOLD,\n  EDIT_HOUSEHOLD,\n  REMOVE_HOUSEHOLD,\n  ADD_COMMUNITY,\n  REMOVE_COMMUNITY,\n  JOIN_TEAM,\n  LEAVE_TEAM\n} from '../actions/types';\n\nconst initialState = {\n  info: null,\n  todo: null,\n  done: null,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    /**************************/\n    case LOGIN:\n      return {\n        ...state,\n        info: action.payload\n      }\n    case LOGOUT:\n      return initialState;\n    /**************************/\n    case LOAD_TODO:\n      return {\n        ...state,\n        todo: action.payload\n      }\n    case ADD_TO_TODO:\n      return {\n        ...state,\n        todo: [\n          ...state.todo,\n          action.payload\n        ]\n      }\n    case REMOVE_FROM_TODO:\n      return {\n        ...state,\n        todo: state.todo.filter(element => element.id !== action.payload.id)\n      }\n    /**************************/\n    case LOAD_DONE:\n      return {\n        ...state,\n        done: action.payload\n      }\n    case ADD_TO_DONE:\n      return {\n        ...state,\n        done: [\n          ...state.done,\n          action.payload\n        ]\n      }\n    case REMOVE_FROM_DONE:\n      return {\n        ...state,\n        done: state.done.filter(element => element.id !== action.payload.id)\n      }\n\n    case MOVE_TO_DONE:\n      return {\n        ...state,\n        done: [\n          ...state.done,\n          action.payload\n        ],\n        todo: state.todo.filter(element => element.id !== action.payload.id)\n      }\n    /**************************/\n    case LOAD_HOUSEHOLDS:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          households: action.payload\n        }\n      }\n    case ADD_HOUSEHOLD:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          households: [\n            ...state.info.households,\n            action.payload\n          ]\n        }\n\n      }\n    case EDIT_HOUSEHOLD:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          households: [\n            ...state.info.households.filter(element => element.id !== action.payload.id),\n            action.payload\n          ]\n        }\n      }\n    case REMOVE_HOUSEHOLD:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          households: state.info.households.filter(element => element.id !== action.payload.id)\n        },\n        todo: state.todo.filter(a => a.real_estate_unit.id !== action.payload.id),\n        done: state.done.filter(a => a.real_estate_unit.id !== action.payload.id)\n      }\n    /**************************/\n    case LOAD_USER_COMMUNITIES:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          communities: action.payload\n        }\n      }\n    case ADD_COMMUNITY:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          communities: [\n            ...state.info.communities,\n            action.payload\n          ]\n        }\n      }\n    case REMOVE_COMMUNITY:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          communities: state.info.communities.filter(element => element !== action.payload)\n        }\n      }\n    case JOIN_TEAM:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          teams: [\n            ...state.info.teams,\n            action.payload\n          ]\n        }\n      }\n    case LEAVE_TEAM:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          teams: state.info.teams.filter(team => team.id !== action.payload.id)\n        }\n      }\n\n    /**************************/\n    default:\n      return {\n        ...state,\n      };\n  }\n}","import {\n    LOAD_COMMUNITY,\n    LOAD_HOME_PAGE,\n    LOAD_ACTIONS_PAGE,\n    LOAD_EVENTS_PAGE,\n    LOAD_SERVICE_PROVIDERS_PAGE,\n    LOAD_TESTIMONIALS_PAGE,\n    LOAD_TEAMS_PAGE,\n    LOAD_ABOUT_US_PAGE,\n    LOAD_COMMUNITIES_STATS,\n    LOAD_DONATE_PAGE,\n    LOAD_EVENTS,\n    LOAD_ACTIONS,\n    LOAD_SERVICE_PROVIDERS,\n    LOAD_TESTIMONIALS,\n    ADD_TESTIMONIAL,\n    REMOVE_TESTIMONIAL,\n    LOAD_MENU,\n    LOAD_POLICIES,\n    LOAD_EVENT_RSVPS,\n    ADD_RSVP,\n    REMOVE_RSVP,\n    CHANGE_RSVP,\n    ADD_TEAM_MEMBER,\n    REMOVE_TEAM_MEMBER,\n    LOAD_COMMUNITIES,\n    LOAD_TAG_COLS,\n    LOAD_COMMUNITY_DATA,\n    Load_COMMUNITY_ADMINS,\n    CHANGE_DATA,\n    TEAM_ADD_ACTION,\n    TEAM_REMOVE_ACTION,\n    TEAM_ADD_HOUSEHOLD,\n    TEAM_REMOVE_HOUSEHOLD\n} from '../actions/types';\n\nconst initialState = {\n    //page data for each page\n    homePage: null,\n    actionsPage: null,\n    serviceProvidersPage: null,\n    testimonialsPage: null,\n    teamsPage: null,\n    aboutUsPage: null,\n    donatePage: null,\n    eventsPage: null,\n    //menu, navbar footer...\n    menu: null,\n    policies: null,\n    //objects to be loaded\n    actions: null,\n    events: null,\n    serviceProviders: null,\n    testimonials: null,\n    tagCols: null,\n\n    communities: null,\n    communitiesStats: null,\n    community: null,\n    communityData: null,\n    communityAdmins: null,\n};\n\n\nexport default function (state = initialState, action) {\n    switch (action.type) {\n        /**************************/\n        case LOAD_COMMUNITY:\n            return {\n                ...state,\n                community: action.payload\n            }\n        case LOAD_COMMUNITY_DATA:\n            return {\n                ...state,\n                communityData: action.payload\n            }\n        case Load_COMMUNITY_ADMINS:\n            return {\n                ...state,\n                communityAdmins: action.payload\n            }\n        case LOAD_HOME_PAGE:\n            return {\n                ...state,\n                homePage: action.payload\n            }\n        case LOAD_ACTIONS_PAGE:\n            return {\n                ...state,\n                actionsPage: action.payload\n            }\n        case LOAD_SERVICE_PROVIDERS_PAGE:\n            return {\n                ...state,\n                serviceProvidersPage: action.payload\n            }\n        case LOAD_TESTIMONIALS_PAGE:\n            return {\n                ...state,\n                testimonialsPage: action.payload\n            }\n        case LOAD_TEAMS_PAGE:\n            return {\n                ...state,\n                teamsPage: action.payload\n            }\n        case LOAD_ABOUT_US_PAGE:\n            return {\n                ...state,\n                aboutUsPage: action.payload\n            }\n        case LOAD_COMMUNITIES_STATS:\n            return {\n                ...state,\n                communitiesStats: action.payload\n            }\n        case LOAD_DONATE_PAGE:\n            return {\n                ...state,\n                donatePage: action.payload\n            }\n        case LOAD_EVENTS_PAGE:\n            return {\n                ...state,\n                eventsPage: action.payload\n            }\n        case LOAD_MENU:\n            return {\n                ...state,\n                menu: action.payload\n            }\n        case LOAD_POLICIES:\n            return {\n                ...state,\n                policies: action.payload\n            }\n        case LOAD_ACTIONS:\n            return {\n                ...state,\n                actions: action.payload\n            }\n        case LOAD_EVENTS:\n            return {\n                ...state,\n                events: action.payload\n            }\n        case LOAD_SERVICE_PROVIDERS:\n            return {\n                ...state,\n                serviceProviders: action.payload\n            }\n        case LOAD_TESTIMONIALS:\n            return {\n                ...state,\n                testimonials: action.payload\n            }\n        case LOAD_COMMUNITIES:\n            return {\n                ...state,\n                communities: action.payload\n            }\n        case LOAD_TAG_COLS:\n            return {\n                ...state,\n                tagCols: action.payload\n            }\n        case ADD_TESTIMONIAL:\n            return {\n                ...state,\n                testimonials: [\n                    ...state.testimonials,\n                    action.payload\n                ]\n            }\n        case REMOVE_TESTIMONIAL:\n            return {\n                ...state,\n                testimonials: state.testimonials.filter(testimonial => testimonial.id !== action.payload.id)\n            }\n        case LOAD_EVENT_RSVPS:\n            return {\n                ...state,\n                rsvps: action.payload\n            }\n        case ADD_RSVP:\n            return {\n                ...state,\n                rsvps: [\n                    ...state.rsvps,\n                    action.payload\n                ]\n            }\n        case REMOVE_RSVP:\n            return {\n                ...state,\n                rsvps: state.rsvps.filter(rsvp => { return rsvp.id !== action.payload.id })\n            }\n        case CHANGE_RSVP:\n            return {\n                ...state,\n                rsvps: [\n                    ...state.rsvps.filter(rsvp => { return rsvp.id !== action.payload.id }),\n                    action.payload\n                ]\n            }\n        case ADD_TEAM_MEMBER:\n            var team = state.teamsPage.filter(stats => { return stats.team.id === action.payload.team.id })[0]\n            const newTeam = {\n                ...team,\n                households: team.households + action.payload.member.households,\n                actions: team.actions + action.payload.member.actions,\n                actions_completed: team.actions_completed + action.payload.member.actions_completed,\n                actions_todo: team.actions_todo + action.payload.member.actions_todo\n            }\n            return {\n                ...state,\n                teamsPage: [\n                    ...state.teamsPage.filter(stats => { return stats.team.id !== action.payload.team.id }),\n                    newTeam\n                ]\n            }\n        case REMOVE_TEAM_MEMBER:\n            var team = state.teamsPage.filter(stats => { return stats.team.id === action.payload.team.id })[0]\n            return {\n                ...state,\n                teamsPage: [\n                    ...state.teamsPage.filter(stats => { return stats.team.id !== action.payload.team.id }),\n                    {\n                        ...team,\n                        households: team.households - action.payload.member.households,\n                        actions: team.actions - action.payload.member.actions,\n                        actions_completed: team.actions_completed - action.payload.member.actions_completed,\n                        actions_todo: team.actions_todo - action.payload.member.actions_todo\n                    }\n                ]\n            }\n        case TEAM_ADD_ACTION:\n            var team = state.teamsPage.filter(stats => { return stats.team.id === action.payload.id })[0]\n            return {\n                ...state,\n                teamsPage: [\n                    ...state.teamsPage.filter(stats => { return stats.team.id !== action.payload.id }),\n                    {\n                        ...team,\n                        actions_completed: team.actions_completed + 1\n                    }\n                ]\n            }\n        case TEAM_REMOVE_ACTION:\n            var team = state.teamsPage.filter(stats => { return stats.team.id === action.payload.id })[0]\n            return {\n                ...state,\n                teamsPage: [\n                    ...state.teamsPage.filter(stats => { return stats.team.id !== action.payload.id }),\n                    {\n                        ...team,\n                        actions_completed: team.actions_completed - 1,\n                    }\n                ]\n            }\n        case TEAM_ADD_HOUSEHOLD:\n            var team = state.teamsPage.filter(stats => { return stats.team.id === action.payload.id })[0]\n            return {\n                ...state,\n                teamsPage: [\n                    ...state.teamsPage.filter(stats => { return stats.team.id !== action.payload.id }),\n                    {\n                        ...team,\n                        households: team.households + 1\n                    }\n                ]\n            }\n        case TEAM_REMOVE_HOUSEHOLD:\n            var team = state.teamsPage.filter(stats => { return stats.team.id === action.payload.id })[0]\n            return {\n                ...state,\n                teamsPage: [\n                    ...state.teamsPage.filter(stats => { return stats.team.id !== action.payload.id }),\n                    {\n                        ...team,\n                        households: team.households - 1\n                    }\n                ]\n            }\n        case CHANGE_DATA:\n            return {\n                ...state,\n                communityData: [\n                    ...state.communityData.filter(data => { return data.id !== action.payload.id }),\n                    action.payload\n                ]\n            }\n        /**************************/\n        default:\n            return {\n                ...state,\n            };\n    }\n}","import {\n    LOAD_LINKS\n  } from '../actions/types';\n  \n  const initialState = {\n    \n  };\n  \n  export default function (state = initialState, action) {\n    switch (action.type) {\n      /**************************/\n      case LOAD_LINKS:\n          return {\n              ...action.payload\n          }\n      /**************************/\n      default:\n        return {\n          ...state,\n        };\n    }\n  }","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router'\nimport history from '../history';\nimport { firebaseReducer } from 'react-redux-firebase'\n\nimport userReducer from './userReducer';\nimport pageReducer from './pageReducer';\nimport linkReducer from './linkReducer';\n\nexport default combineReducers({\n  user: userReducer,\n  page: pageReducer,\n  links: linkReducer,\n  router: connectRouter(history),\n  firebase: firebaseReducer\n});\n\n\n// export default rootReducer;","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nconst middleware = [thunk];\n\n\nconst store = createStore(\n  rootReducer,\n  compose(\n    applyMiddleware(...middleware),\n    //window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './assets/css/style.css';\nimport App from './App';\nimport ScrollToTop from './ScrollToTop';\nimport * as serviceWorker from './serviceWorker';\n\nimport store from './redux/store';\nimport history from './redux/history';\nimport { Provider } from 'react-redux'\nimport { ConnectedRouter } from 'connected-react-router/immutable';\nimport { ReactReduxFirebaseProvider } from 'react-redux-firebase'\nimport firebase from './config/firebaseConfig'\n\n//react redux firebase configure\nconst rrfConfig = { userProfile: 'users', firebaseStateName: 'firebase'};\n//react redux firebase props\nconst rrfProps = {\n\tfirebase,\n\tconfig: rrfConfig,\n\tdispatch: store.dispatch\n}\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<ReactReduxFirebaseProvider {...rrfProps}>\n\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t<ScrollToTop>\n\t\t\t\t\t<App />\n\t\t\t\t</ScrollToTop>\n\t\t\t</ConnectedRouter>\n\t\t</ReactReduxFirebaseProvider>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","module.exports = __webpack_public_path__ + \"static/media/logo.ee45265d.png\";"],"sourceRoot":""}